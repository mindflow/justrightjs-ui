"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var justright_core_v1=require("justright_core_v1"),coreutil_v1=require("coreutil_v1"),mindi_v1=require("mindi_v1");const LOG=new coreutil_v1.Logger("BackShade");class BackShade{static get COMPONENT_NAME(){return"BackShade"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/backShade.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/backShade.css"}constructor(){this.eventRegistry=justright_core_v1.EventRegistry,this.componentFactory=justright_core_v1.ComponentFactory}createComponent(){LOG.info("creating component"),this.component=this.componentFactory.create("BackShade")}postConfig(){}getComponent(){return this.component}withClickListener(t){return this.eventRegistry.attach(this.component.get("backShade"),"onclick","//event:backShadeClicked",this.component.getComponentIndex()),this.eventRegistry.listen("//event:backShadeClicked",t,this.component.getComponentIndex()),this}disableAfter(t){this.mountSelf(),this.getComponent().get("backShade").setAttributeValue("class","back-shade fade"),setTimeout(()=>{this.getComponent().get("backShade").setStyle("display","none")},t),setTimeout(()=>{justright_core_v1.CanvasStyles.disableStyle(BackShade.COMPONENT_NAME)},t+1)}disable(){this.disableAfter(500)}enable(){justright_core_v1.CanvasStyles.enableStyle(BackShade.COMPONENT_NAME),this.mountSelf(),this.getComponent().get("backShade").setStyle("display","block"),setTimeout(()=>{this.getComponent().get("backShade").setAttributeValue("class","back-shade fade show")},100)}mountSelf(){this.getComponent().getRootElement().isMounted()||justright_core_v1.CanvasRoot.addBodyElement(this.getComponent().getRootElement())}removeSelf(){this.getComponent().remove()}}const LOG$1=new coreutil_v1.Logger("Button");class Button{static get COMPONENT_NAME(){return"Button"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/button.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/button.css"}static get TYPE_PRIMARY(){return"btn-primary"}static get TYPE_SECONDARY(){return"btn-secondary"}static get TYPE_SUCCESS(){return"btn-success"}static get TYPE_INFO(){return"btn-info"}static get TYPE_WARNING(){return"btn-warning"}static get TYPE_DANGER(){return"btn-danger"}static get TYPE_LIGHT(){return"btn-light"}static get TYPE_DARK(){return"btn-dark"}constructor(t,e=Button.TYPE_PRIMARY){this.label=t,this.componentFactory=justright_core_v1.ComponentFactory,this.buttonType=e,this.eventRegistry=justright_core_v1.EventRegistry}createComponent(){this.component=this.componentFactory.create("Button")}postConfig(){justright_core_v1.CanvasStyles.enableStyle(Button.COMPONENT_NAME),this.component.get("button").setChild(this.label),this.component.get("button").setAttributeValue("class","btn "+this.buttonType)}getComponent(){return this.component}withClickListener(t){return this.eventRegistry.attach(this.component.get("button"),"onclick","//event:buttonClicked",this.component.getComponentIndex()),this.eventRegistry.listen("//event:buttonClicked",t,this.component.getComponentIndex()),this}disable(){this.getComponent().get("button").setAttributeValue("disabled","true")}enable(){this.getComponent().get("button").removeAttribute("disabled")}}const LOG$2=new coreutil_v1.Logger("DialogBox");class DialogBox{static get COMPONENT_NAME(){return"DialogBox"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/dialogBox.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/dialogBox.css"}constructor(){this.eventRegistry=justright_core_v1.EventRegistry,this.componentFactory=justright_core_v1.ComponentFactory,this.injector=mindi_v1.Injector,this.component=null,this.backShade=null,this.stylesRegistry=justright_core_v1.StylesRegistry}createComponent(){LOG$2.info("creating component"),this.component=this.componentFactory.create("DialogBox")}postConfig(){this.eventRegistry.attach(this.component.get("closeButton"),"onclick","//event:closeClicked",this.component.getComponentIndex()),this.eventRegistry.listen("//event:closeClicked",new coreutil_v1.ObjectFunction(this,this.hide),this.component.getComponentIndex())}getComponent(){return this.component}setTitle(t){this.getComponent().setChild("title",t)}setFooter(t){this.getComponent().get("footer").setStyle("display","block"),this.getComponent().setChild("footer",t)}setContent(t){this.getComponent().setChild("content",t)}set(t,e){this.getComponent().set(t,e)}hide(){this.initBackShade(),this.mountSelf(),this.getComponent().get("dialogBox").setAttributeValue("class","dialogbox fade"),setTimeout(()=>{this.getComponent().get("dialogBox").setStyle("display","none");this.backShade.disableAfter(500)},200),setTimeout(()=>{justright_core_v1.CanvasStyles.disableStyle(DialogBox.COMPONENT_NAME)},201)}show(){justright_core_v1.CanvasStyles.enableStyle(DialogBox.COMPONENT_NAME),this.initBackShade(),this.mountSelf(),this.backShade.enable(),this.getComponent().get("dialogBox").setStyle("display","block"),setTimeout(()=>{this.getComponent().get("dialogBox").setAttributeValue("class","dialogbox fade show")},100)}mountSelf(){this.getComponent().getRootElement().isMounted()||justright_core_v1.CanvasRoot.addBodyElement(this.getComponent().getRootElement())}initBackShade(){this.backShade||(this.backShade=this.injector.prototypeInstance(BackShade).withClickListener(new coreutil_v1.ObjectFunction(this,this.hide)),this.backShade.mountSelf())}removeSelf(){justright_core_v1.CanvasStyles.removeStyle(DialogBox.COMPONENT_NAME),this.getComponent().removeSelf()}}const LOG$3=new coreutil_v1.Logger("CheckBox");class CheckBox{static get COMPONENT_NAME(){return"CheckBox"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/checkBox.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/checkBox.css"}constructor(t){this.componentFactory=justright_core_v1.ComponentFactory,this.eventRegistry=justright_core_v1.EventRegistry,this.dataBindRegistry=justright_core_v1.DataBindRegistry,this.name=t}createComponent(){this.component=this.componentFactory.create("CheckBox")}postConfig(){justright_core_v1.CanvasStyles.enableStyle(CheckBox.COMPONENT_NAME),this.component.get("checkBox").setAttributeValue("name",this.name)}getComponent(){return this.component}withModel(t,e){return this.dataBindRegistry.add(justright_core_v1.InputElementDataBinding.link(t,e).to(this.component.get("checkBox"))),this}withClickListener(t){return this.eventRegistry.attach(this.component.get("checkBox"),"onclick","//event:checkBoxClicked",this.component.getComponentIndex()),this.eventRegistry.listen("//event:checkBoxClicked",t,this.component.getComponentIndex()),this}withEnterListener(t){this.eventRegistry.attach(this.component.get("checkBox"),"onkeyup","//event:checkBoxEnter",this.component.getComponentIndex());let e=new coreutil_v1.ObjectFunction(this,e=>{13===e.getKeyCode()&&t.call()});return this.eventRegistry.listen("//event:checkBoxEnter",e,this.component.getComponentIndex()),this}}const LOG$4=new coreutil_v1.Logger("EmailInput");class EmailInput{static get COMPONENT_NAME(){return"EmailInput"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/emailInput.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/emailInput.css"}constructor(t){this.componentFactory=justright_core_v1.ComponentFactory,this.eventRegistry=justright_core_v1.EventRegistry,this.dataBindRegistry=justright_core_v1.DataBindRegistry,this.name=t,this.validator=(new justright_core_v1.EmailValidator).withValidListener(new coreutil_v1.ObjectFunction(this,this.hideValidationError))}createComponent(){this.component=this.componentFactory.create("EmailInput")}postConfig(){justright_core_v1.CanvasStyles.enableStyle(EmailInput.COMPONENT_NAME);let t=this.component.getComponentIndex(),e=this.component.get("emailInput"),n=this.component.get("emailError");e.setAttributeValue("name",this.name),this.eventRegistry.attach(e,"onblur","//event:emailInputBlur",t),this.eventRegistry.attach(n,"onclick","//event:emailErrorClicked",t),this.eventRegistry.attach(e,"onkeyup","//event:emailInputEnter",t),this.eventRegistry.listen("//event:emailInputBlur",new coreutil_v1.ObjectFunction(this,this.emailInputBlurred),t),this.eventRegistry.listen("//event:emailErrorClicked",new coreutil_v1.ObjectFunction(this,this.hideValidationError),t);let i=new coreutil_v1.ObjectFunction(this,t=>{13!==t.getKeyCode()||this.validator.isValid()||(this.showValidationError(),this.selectAll())});this.eventRegistry.listen("//event:emailInputEnter",i,t)}getComponent(){return this.component}getValidator(){return this.validator}withModel(t){return this.dataBindRegistry.add(justright_core_v1.InputElementDataBinding.link(t,this.validator).to(this.component.get("emailInput"))),this}withPlaceholder(t){return this.component.get("emailInput").setAttributeValue("placeholder",t),this}withEnterListener(t){let e=new coreutil_v1.ObjectFunction(this,e=>{13===e.getKeyCode()&&this.validator.isValid()&&t.call()});return this.eventRegistry.listen("//event:emailInputEnter",e,this.component.getComponentIndex()),this}emailInputBlurred(){this.validator.isValid()?this.hideValidationError():this.showValidationError()}showValidationError(){this.component.get("emailError").setStyle("display","block")}hideValidationError(){this.component.get("emailError").setStyle("display","none")}focus(){this.component.get("emailInput").focus()}selectAll(){this.component.get("emailInput").selectAll()}}const LOG$5=new coreutil_v1.Logger("PasswordInput");class PasswordInput{static get COMPONENT_NAME(){return"PasswordInput"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/passwordInput.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/passwordInput.css"}constructor(t){this.componentFactory=justright_core_v1.ComponentFactory,this.eventRegistry=justright_core_v1.EventRegistry,this.dataBindRegistry=justright_core_v1.DataBindRegistry,this.name=t,this.validator=(new justright_core_v1.RequiredValidator).withValidListener(new coreutil_v1.ObjectFunction(this,this.hideValidationError))}createComponent(){this.component=this.componentFactory.create("PasswordInput")}postConfig(){justright_core_v1.CanvasStyles.enableStyle(PasswordInput.COMPONENT_NAME);let t=this.component.getComponentIndex(),e=this.component.get("passwordInput"),n=this.component.get("passwordError");e.setAttributeValue("name",this.name),this.eventRegistry.attach(e,"onblur","//event:passwordInputBlur",t),this.eventRegistry.attach(n,"onclick","//event:passwordErrorClicked",t),this.eventRegistry.attach(e,"onkeyup","//event:passwordInputEnter",t),this.eventRegistry.listen("//event:passwordInputBlur",new coreutil_v1.ObjectFunction(this,this.passwordInputBlurred),t),this.eventRegistry.listen("//event:passwordErrorClicked",new coreutil_v1.ObjectFunction(this,this.hideValidationError),t);let i=new coreutil_v1.ObjectFunction(this,t=>{13!==t.getKeyCode()||this.validator.isValid()||(this.showValidationError(),this.selectAll())});this.eventRegistry.listen("//event:passwordInputEnter",i,this.component.getComponentIndex())}getComponent(){return this.component}getValidator(){return this.validator}withModel(t){return this.dataBindRegistry.add(justright_core_v1.InputElementDataBinding.link(t,this.validator).to(this.component.get("passwordInput"))),this}withPlaceholder(t){return this.component.get("passwordInput").setAttributeValue("placeholder",t),this}withEnterListener(t){this.eventRegistry.attach(this.component.get("passwordInput"),"onkeyup","//event:passwordInputEnter",this.component.getComponentIndex());let e=new coreutil_v1.ObjectFunction(this,e=>{13===e.getKeyCode()&&this.validator.isValid()&&t.call()});return this.eventRegistry.listen("//event:passwordInputEnter",e,this.component.getComponentIndex()),this}passwordInputBlurred(){this.validator.isValid()?this.hideValidationError():this.showValidationError()}showValidationError(){this.component.get("passwordError").setStyle("display","block")}hideValidationError(){this.component.get("passwordError").setStyle("display","none")}focus(){this.component.get("passwordInput").focus()}selectAll(){this.component.get("passwordInput").selectAll()}}const LOG$6=new coreutil_v1.Logger("TextInput");class TextInput{static get COMPONENT_NAME(){return"TextInput"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/textInput.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/textInput.css"}constructor(t){this.componentFactory=justright_core_v1.ComponentFactory,this.eventRegistry=justright_core_v1.EventRegistry,this.dataBindRegistry=justright_core_v1.DataBindRegistry,this.name=t}createComponent(){this.component=this.componentFactory.create("TextInput")}postConfig(){justright_core_v1.CanvasStyles.enableStyle(TextInput.COMPONENT_NAME),this.component.get("textInput").setAttributeValue("name",this.name)}getComponent(){return this.component}withModel(t,e){return this.dataBindRegistry.add(justright_core_v1.InputElementDataBinding.link(t,e).to(this.component.get("textInput"))),this}withPlaceholder(t){return this.component.get("textInput").setAttributeValue("placeholder",t),this}withClickListener(t){return this.eventRegistry.attach(this.component.get("textInput"),"onclick","//event:textInputClicked",this.component.getComponentIndex()),this.eventRegistry.listen("//event:textInputClicked",t,this.component.getComponentIndex()),this}withEnterListener(t){this.eventRegistry.attach(this.component.get("textInput"),"onkeyup","//event:textInputEnter",this.component.getComponentIndex());let e=new coreutil_v1.ObjectFunction(this,e=>{13===e.getKeyCode()&&t.call()});return this.eventRegistry.listen("//event:textInputEnter",e,this.component.getComponentIndex()),this}}exports.BackShade=BackShade,exports.Button=Button,exports.CheckBox=CheckBox,exports.DialogBox=DialogBox,exports.EmailInput=EmailInput,exports.PasswordInput=PasswordInput,exports.TextInput=TextInput;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianVzdHJpZ2h0X3VpX3YxLmpzIiwic291cmNlcyI6WyIuLi8uLi9zcmMvanVzdHJpZ2h0L2NvbXBvbmVudC9iYWNrU2hhZGUvYmFja1NoYWRlLmpzIiwiLi4vLi4vc3JjL2p1c3RyaWdodC9jb21wb25lbnQvYnV0dG9uL2J1dHRvbi5qcyIsIi4uLy4uL3NyYy9qdXN0cmlnaHQvY29tcG9uZW50L2RpYWxvZ0JveC9kaWFsb2dCb3guanMiLCIuLi8uLi9zcmMvanVzdHJpZ2h0L2NvbXBvbmVudC9pbnB1dC9jaGVja0JveC9jaGVja0JveC5qcyIsIi4uLy4uL3NyYy9qdXN0cmlnaHQvY29tcG9uZW50L2lucHV0L2VtYWlsSW5wdXQvZW1haWxJbnB1dC5qcyIsIi4uLy4uL3NyYy9qdXN0cmlnaHQvY29tcG9uZW50L2lucHV0L3Bhc3N3b3JkSW5wdXQvcGFzc3dvcmRJbnB1dC5qcyIsIi4uLy4uL3NyYy9qdXN0cmlnaHQvY29tcG9uZW50L2lucHV0L3RleHRJbnB1dC90ZXh0SW5wdXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICAgIENvbXBvbmVudCxcclxuICAgIENvbXBvbmVudEZhY3RvcnksXHJcbiAgICBFdmVudFJlZ2lzdHJ5LFxyXG4gICAgQ2FudmFzU3R5bGVzLFxyXG4gICAgQ2FudmFzUm9vdFxyXG59IGZyb20gXCJqdXN0cmlnaHRfY29yZV92MVwiO1xyXG5pbXBvcnQgeyBMb2dnZXIsIE9iamVjdEZ1bmN0aW9uIH0gZnJvbSBcImNvcmV1dGlsX3YxXCI7XHJcblxyXG5jb25zdCBMT0cgPSBuZXcgTG9nZ2VyKFwiQmFja1NoYWRlXCIpO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJhY2tTaGFkZSB7XHJcblxyXG5cdHN0YXRpYyBnZXQgQ09NUE9ORU5UX05BTUUoKSB7IHJldHVybiBcIkJhY2tTaGFkZVwiOyB9XHJcblx0c3RhdGljIGdldCBURU1QTEFURV9VUkwoKSB7IHJldHVybiBcIi9hc3NldHMvanVzdHJpZ2h0anMtdWkvYmFja1NoYWRlLmh0bWxcIjsgfVxyXG4gICAgc3RhdGljIGdldCBTVFlMRVNfVVJMKCkgeyByZXR1cm4gXCIvYXNzZXRzL2p1c3RyaWdodGpzLXVpL2JhY2tTaGFkZS5jc3NcIjsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcblxyXG5cdFx0LyoqIEB0eXBlIHtFdmVudFJlZ2lzdHJ5fSAqL1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeSA9IEV2ZW50UmVnaXN0cnk7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7Q29tcG9uZW50RmFjdG9yeX0gKi9cclxuICAgICAgICB0aGlzLmNvbXBvbmVudEZhY3RvcnkgPSBDb21wb25lbnRGYWN0b3J5O1xyXG5cdH1cclxuXHJcbiAgICBjcmVhdGVDb21wb25lbnQoKSB7XHJcbiAgICAgICAgTE9HLmluZm8oXCJjcmVhdGluZyBjb21wb25lbnRcIik7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSB0aGlzLmNvbXBvbmVudEZhY3RvcnkuY3JlYXRlKFwiQmFja1NoYWRlXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHBvc3RDb25maWcoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHJldHVybiB7Q29tcG9uZW50fVxyXG4gICAgICovXHJcblx0Z2V0Q29tcG9uZW50KCl7XHJcblx0XHRyZXR1cm4gdGhpcy5jb21wb25lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0RnVuY3Rpb259IGNsaWNrZWRMaXN0ZW5lciBcclxuICAgICAqL1xyXG4gICAgd2l0aENsaWNrTGlzdGVuZXIoY2xpY2tlZExpc3RlbmVyKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5LmF0dGFjaCh0aGlzLmNvbXBvbmVudC5nZXQoXCJiYWNrU2hhZGVcIiksIFwib25jbGlja1wiLCBcIi8vZXZlbnQ6YmFja1NoYWRlQ2xpY2tlZFwiLCB0aGlzLmNvbXBvbmVudC5nZXRDb21wb25lbnRJbmRleCgpKTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKFwiLy9ldmVudDpiYWNrU2hhZGVDbGlja2VkXCIsIGNsaWNrZWRMaXN0ZW5lciwgdGhpcy5jb21wb25lbnQuZ2V0Q29tcG9uZW50SW5kZXgoKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZGlzYWJsZUFmdGVyKG1pbGxpU2Vjb25kcykge1xyXG4gICAgICAgIHRoaXMubW91bnRTZWxmKCk7XHJcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoKS5nZXQoXCJiYWNrU2hhZGVcIikuc2V0QXR0cmlidXRlVmFsdWUoXCJjbGFzc1wiLCBcImJhY2stc2hhZGUgZmFkZVwiKTtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KCkuZ2V0KFwiYmFja1NoYWRlXCIpLnNldFN0eWxlKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XHJcbiAgICAgICAgfSwgbWlsbGlTZWNvbmRzKTtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgQ2FudmFzU3R5bGVzLmRpc2FibGVTdHlsZShCYWNrU2hhZGUuQ09NUE9ORU5UX05BTUUpO1xyXG4gICAgICAgIH0sIG1pbGxpU2Vjb25kcyArIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIGRpc2FibGUoKSB7XHJcbiAgICAgICAgdGhpcy5kaXNhYmxlQWZ0ZXIoNTAwKTtcclxuICAgIH1cclxuXHJcbiAgICBlbmFibGUoKSB7XHJcbiAgICAgICAgQ2FudmFzU3R5bGVzLmVuYWJsZVN0eWxlKEJhY2tTaGFkZS5DT01QT05FTlRfTkFNRSk7XHJcbiAgICAgICAgdGhpcy5tb3VudFNlbGYoKTtcclxuICAgICAgICB0aGlzLmdldENvbXBvbmVudCgpLmdldChcImJhY2tTaGFkZVwiKS5zZXRTdHlsZShcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KCkuZ2V0KFwiYmFja1NoYWRlXCIpLnNldEF0dHJpYnV0ZVZhbHVlKFwiY2xhc3NcIiwgXCJiYWNrLXNoYWRlIGZhZGUgc2hvd1wiKSBcclxuICAgICAgICB9LCAxMDApO1xyXG4gICAgfVxyXG5cclxuICAgIG1vdW50U2VsZigpIHtcclxuICAgICAgICBpZighdGhpcy5nZXRDb21wb25lbnQoKS5nZXRSb290RWxlbWVudCgpLmlzTW91bnRlZCgpKSB7XHJcbiAgICAgICAgICAgIENhbnZhc1Jvb3QuYWRkQm9keUVsZW1lbnQodGhpcy5nZXRDb21wb25lbnQoKS5nZXRSb290RWxlbWVudCgpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlU2VsZigpIHtcclxuICAgICAgICB0aGlzLmdldENvbXBvbmVudCgpLnJlbW92ZSgpO1xyXG4gICAgfVxyXG4gICAgXHJcbn0iLCJpbXBvcnQge1xyXG4gICAgQ29tcG9uZW50RmFjdG9yeSxcclxuICAgIEV2ZW50UmVnaXN0cnksXHJcbiAgICBDYW52YXNTdHlsZXNcclxufSBmcm9tIFwianVzdHJpZ2h0X2NvcmVfdjFcIjtcclxuaW1wb3J0IHsgTG9nZ2VyLCBPYmplY3RGdW5jdGlvbiB9IGZyb20gXCJjb3JldXRpbF92MVwiO1xyXG5cclxuY29uc3QgTE9HID0gbmV3IExvZ2dlcihcIkJ1dHRvblwiKTtcclxuXHJcbmV4cG9ydCBjbGFzcyBCdXR0b24ge1xyXG5cclxuXHRzdGF0aWMgZ2V0IENPTVBPTkVOVF9OQU1FKCkgeyByZXR1cm4gXCJCdXR0b25cIjsgfVxyXG4gICAgc3RhdGljIGdldCBURU1QTEFURV9VUkwoKSB7IHJldHVybiBcIi9hc3NldHMvanVzdHJpZ2h0anMtdWkvYnV0dG9uLmh0bWxcIjsgfVxyXG4gICAgc3RhdGljIGdldCBTVFlMRVNfVVJMKCkgeyByZXR1cm4gXCIvYXNzZXRzL2p1c3RyaWdodGpzLXVpL2J1dHRvbi5jc3NcIjsgfVxyXG5cclxuICAgIHN0YXRpYyBnZXQgVFlQRV9QUklNQVJZKCkgeyByZXR1cm4gXCJidG4tcHJpbWFyeVwiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFRZUEVfU0VDT05EQVJZKCkgeyByZXR1cm4gXCJidG4tc2Vjb25kYXJ5XCI7IH1cclxuICAgIHN0YXRpYyBnZXQgVFlQRV9TVUNDRVNTKCkgeyByZXR1cm4gXCJidG4tc3VjY2Vzc1wiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFRZUEVfSU5GTygpIHsgcmV0dXJuIFwiYnRuLWluZm9cIjsgfVxyXG4gICAgc3RhdGljIGdldCBUWVBFX1dBUk5JTkcoKSB7IHJldHVybiBcImJ0bi13YXJuaW5nXCI7IH1cclxuICAgIHN0YXRpYyBnZXQgVFlQRV9EQU5HRVIoKSB7IHJldHVybiBcImJ0bi1kYW5nZXJcIjsgfVxyXG4gICAgc3RhdGljIGdldCBUWVBFX0xJR0hUKCkgeyByZXR1cm4gXCJidG4tbGlnaHRcIjsgfVxyXG4gICAgc3RhdGljIGdldCBUWVBFX0RBUksoKSB7IHJldHVybiBcImJ0bi1kYXJrXCI7IH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxhYmVsIFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJ1dHRvblR5cGUgXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKGxhYmVsLCBidXR0b25UeXBlID0gQnV0dG9uLlRZUEVfUFJJTUFSWSkge1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cclxuICAgICAgICB0aGlzLmxhYmVsID0gbGFiZWw7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7Q29tcG9uZW50RmFjdG9yeX0gKi9cclxuICAgICAgICB0aGlzLmNvbXBvbmVudEZhY3RvcnkgPSBDb21wb25lbnRGYWN0b3J5O1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cclxuICAgICAgICB0aGlzLmJ1dHRvblR5cGUgPSBidXR0b25UeXBlO1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge0V2ZW50UmVnaXN0cnl9ICovXHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5ID0gRXZlbnRSZWdpc3RyeTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVDb21wb25lbnQoKSB7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSB0aGlzLmNvbXBvbmVudEZhY3RvcnkuY3JlYXRlKFwiQnV0dG9uXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHBvc3RDb25maWcoKSB7XHJcbiAgICAgICAgQ2FudmFzU3R5bGVzLmVuYWJsZVN0eWxlKEJ1dHRvbi5DT01QT05FTlRfTkFNRSk7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQuZ2V0KFwiYnV0dG9uXCIpLnNldENoaWxkKHRoaXMubGFiZWwpO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50LmdldChcImJ1dHRvblwiKS5zZXRBdHRyaWJ1dGVWYWx1ZShcImNsYXNzXCIsXCJidG4gXCIgKyB0aGlzLmJ1dHRvblR5cGUpO1xyXG4gICAgfVxyXG5cclxuXHRnZXRDb21wb25lbnQoKXtcclxuXHRcdHJldHVybiB0aGlzLmNvbXBvbmVudDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtPYmplY3RGdW5jdGlvbn0gY2xpY2tlZExpc3RlbmVyIFxyXG4gICAgICovXHJcbiAgICB3aXRoQ2xpY2tMaXN0ZW5lcihjbGlja0xpc3RlbmVyKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5LmF0dGFjaCh0aGlzLmNvbXBvbmVudC5nZXQoXCJidXR0b25cIiksIFwib25jbGlja1wiLCBcIi8vZXZlbnQ6YnV0dG9uQ2xpY2tlZFwiLCB0aGlzLmNvbXBvbmVudC5nZXRDb21wb25lbnRJbmRleCgpKTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKFwiLy9ldmVudDpidXR0b25DbGlja2VkXCIsIGNsaWNrTGlzdGVuZXIsIHRoaXMuY29tcG9uZW50LmdldENvbXBvbmVudEluZGV4KCkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGRpc2FibGUoKSB7XHJcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoKS5nZXQoXCJidXR0b25cIikuc2V0QXR0cmlidXRlVmFsdWUoXCJkaXNhYmxlZFwiLFwidHJ1ZVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBlbmFibGUoKSB7XHJcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoKS5nZXQoXCJidXR0b25cIikucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge1xyXG4gICAgQ29tcG9uZW50LFxyXG4gICAgQ29tcG9uZW50RmFjdG9yeSxcclxuICAgIEV2ZW50UmVnaXN0cnksXHJcbiAgICBDYW52YXNTdHlsZXMsXHJcbiAgICBTdHlsZXNSZWdpc3RyeSxcclxuICAgIENhbnZhc1Jvb3RcclxufSBmcm9tIFwianVzdHJpZ2h0X2NvcmVfdjFcIjtcclxuaW1wb3J0IHsgTG9nZ2VyLCBPYmplY3RGdW5jdGlvbiB9IGZyb20gXCJjb3JldXRpbF92MVwiO1xyXG5pbXBvcnQgeyBJbmplY3RvciB9IGZyb20gXCJtaW5kaV92MVwiO1xyXG5pbXBvcnQgeyBCYWNrU2hhZGUgfSBmcm9tIFwiLi4vYmFja1NoYWRlL2JhY2tTaGFkZS5qc1wiO1xyXG5cclxuXHJcbmNvbnN0IExPRyA9IG5ldyBMb2dnZXIoXCJEaWFsb2dCb3hcIik7XHJcblxyXG5leHBvcnQgY2xhc3MgRGlhbG9nQm94IHtcclxuXHJcblx0c3RhdGljIGdldCBDT01QT05FTlRfTkFNRSgpIHsgcmV0dXJuIFwiRGlhbG9nQm94XCI7IH1cclxuICAgIHN0YXRpYyBnZXQgVEVNUExBVEVfVVJMKCkgeyByZXR1cm4gXCIvYXNzZXRzL2p1c3RyaWdodGpzLXVpL2RpYWxvZ0JveC5odG1sXCI7IH1cclxuICAgIHN0YXRpYyBnZXQgU1RZTEVTX1VSTCgpIHsgcmV0dXJuIFwiL2Fzc2V0cy9qdXN0cmlnaHRqcy11aS9kaWFsb2dCb3guY3NzXCI7IH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuXHJcblx0XHQvKiogQHR5cGUge0V2ZW50UmVnaXN0cnl9ICovXHJcblx0XHR0aGlzLmV2ZW50UmVnaXN0cnkgPSBFdmVudFJlZ2lzdHJ5O1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge0NvbXBvbmVudEZhY3Rvcnl9ICovXHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRGYWN0b3J5ID0gQ29tcG9uZW50RmFjdG9yeTtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHtJbmplY3Rvcn0gKi9cclxuICAgICAgICB0aGlzLmluamVjdG9yID0gSW5qZWN0b3I7XHJcblxyXG5cdFx0LyoqIEB0eXBlIHtDb21wb25lbnR9ICovXHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSBudWxsO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8qKiBAdHlwZSB7QmFja1NoYWRlfSAqL1xyXG4gICAgICAgIHRoaXMuYmFja1NoYWRlID0gbnVsbDtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHtTdHlsZXNSZWdpc3RyeX0gKi9cclxuICAgICAgICB0aGlzLnN0eWxlc1JlZ2lzdHJ5ID0gU3R5bGVzUmVnaXN0cnk7XHJcblx0fVxyXG5cclxuICAgIGNyZWF0ZUNvbXBvbmVudCgpIHtcclxuICAgICAgICBMT0cuaW5mbyhcImNyZWF0aW5nIGNvbXBvbmVudFwiKTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50RmFjdG9yeS5jcmVhdGUoXCJEaWFsb2dCb3hcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcG9zdENvbmZpZygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkuYXR0YWNoKHRoaXMuY29tcG9uZW50LmdldChcImNsb3NlQnV0dG9uXCIpLCBcIm9uY2xpY2tcIiwgXCIvL2V2ZW50OmNsb3NlQ2xpY2tlZFwiLCB0aGlzLmNvbXBvbmVudC5nZXRDb21wb25lbnRJbmRleCgpKTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKFwiLy9ldmVudDpjbG9zZUNsaWNrZWRcIiwgbmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsIHRoaXMuaGlkZSksdGhpcy5jb21wb25lbnQuZ2V0Q29tcG9uZW50SW5kZXgoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcmV0dXJuIHtDb21wb25lbnR9XHJcbiAgICAgKi9cclxuXHRnZXRDb21wb25lbnQoKXtcclxuXHRcdHJldHVybiB0aGlzLmNvbXBvbmVudDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgXHJcbiAgICAgKi9cclxuICAgIHNldFRpdGxlKHRleHQpe1xyXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KCkuc2V0Q2hpbGQoXCJ0aXRsZVwiLCB0ZXh0KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtDb21wb25lbnR9IGNvbXBvbmVudCBcclxuICAgICAqL1xyXG4gICAgc2V0Rm9vdGVyKGNvbXBvbmVudCl7XHJcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoKS5nZXQoXCJmb290ZXJcIikuc2V0U3R5bGUoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XHJcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoKS5zZXRDaGlsZChcImZvb3RlclwiLCBjb21wb25lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge0NvbXBvbmVudH0gY29tcG9uZW50IFxyXG4gICAgICovXHJcbiAgICBzZXRDb250ZW50KGNvbXBvbmVudCl7XHJcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoKS5zZXRDaGlsZChcImNvbnRlbnRcIixjb21wb25lbnQpO1xyXG4gICAgfVxyXG5cclxuXHRzZXQoa2V5LHZhbCkge1xyXG5cdFx0dGhpcy5nZXRDb21wb25lbnQoKS5zZXQoa2V5LHZhbCk7XHJcblx0fVxyXG4gICAgXHJcbiAgICBoaWRlKCkge1xyXG4gICAgICAgIHRoaXMuaW5pdEJhY2tTaGFkZSgpO1xyXG4gICAgICAgIHRoaXMubW91bnRTZWxmKCk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KCkuZ2V0KFwiZGlhbG9nQm94XCIpLnNldEF0dHJpYnV0ZVZhbHVlKFwiY2xhc3NcIiAsIFwiZGlhbG9nYm94IGZhZGVcIik7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IFxyXG4gICAgICAgICAgICB0aGlzLmdldENvbXBvbmVudCgpLmdldChcImRpYWxvZ0JveFwiKS5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIik7XHJcbiAgICAgICAgICAgIHRoaXMuYmFja1NoYWRlLmRpc2FibGVBZnRlcig1MDApO1xyXG4gICAgICAgIH0sMjAwKTtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgQ2FudmFzU3R5bGVzLmRpc2FibGVTdHlsZShEaWFsb2dCb3guQ09NUE9ORU5UX05BTUUpO1xyXG4gICAgICAgIH0sMjAxKTtcclxuICAgIH1cclxuXHJcbiAgICBzaG93KCkge1xyXG4gICAgICAgIENhbnZhc1N0eWxlcy5lbmFibGVTdHlsZShEaWFsb2dCb3guQ09NUE9ORU5UX05BTUUpO1xyXG4gICAgICAgIHRoaXMuaW5pdEJhY2tTaGFkZSgpO1xyXG4gICAgICAgIHRoaXMubW91bnRTZWxmKCk7XHJcblxyXG4gICAgICAgIHRoaXMuYmFja1NoYWRlLmVuYWJsZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmdldENvbXBvbmVudCgpLmdldChcImRpYWxvZ0JveFwiKS5zZXRTdHlsZShcImRpc3BsYXlcIixcImJsb2NrXCIpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyBcclxuICAgICAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoKS5nZXQoXCJkaWFsb2dCb3hcIikuc2V0QXR0cmlidXRlVmFsdWUoXCJjbGFzc1wiICwgXCJkaWFsb2dib3ggZmFkZSBzaG93XCIpIDtcclxuICAgICAgICB9LDEwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbnNlcnRzIHRoaXMgY29tcG9uZW50IGluIHRoZSBjb250YWluZXIgYXQgdGhlIHByb3ZpZGVkIGlkXHJcbiAgICAgKi9cclxuICAgIG1vdW50U2VsZigpIHtcclxuICAgICAgICBpZighdGhpcy5nZXRDb21wb25lbnQoKS5nZXRSb290RWxlbWVudCgpLmlzTW91bnRlZCgpKSB7XHJcbiAgICAgICAgICAgIENhbnZhc1Jvb3QuYWRkQm9keUVsZW1lbnQodGhpcy5nZXRDb21wb25lbnQoKS5nZXRSb290RWxlbWVudCgpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdEJhY2tTaGFkZSgpIHtcclxuICAgICAgICBpZighdGhpcy5iYWNrU2hhZGUpIHtcclxuICAgICAgICAgICAgdGhpcy5iYWNrU2hhZGUgPSB0aGlzLmluamVjdG9yLnByb3RvdHlwZUluc3RhbmNlKEJhY2tTaGFkZSlcclxuICAgICAgICAgICAgICAgIC53aXRoQ2xpY2tMaXN0ZW5lcihuZXcgT2JqZWN0RnVuY3Rpb24odGhpcywgdGhpcy5oaWRlKSk7XHJcbiAgICAgICAgICAgIHRoaXMuYmFja1NoYWRlLm1vdW50U2VsZigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVTZWxmKCkge1xyXG4gICAgICAgIENhbnZhc1N0eWxlcy5yZW1vdmVTdHlsZShEaWFsb2dCb3guQ09NUE9ORU5UX05BTUUpO1xyXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KCkucmVtb3ZlU2VsZigpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHtcclxuICAgIENvbXBvbmVudEZhY3RvcnksXHJcbiAgICBFdmVudFJlZ2lzdHJ5LFxyXG4gICAgQ2FudmFzU3R5bGVzLFxyXG4gICAgRGF0YUJpbmRSZWdpc3RyeSxcclxuICAgIENvbXBvbmVudCxcclxuICAgIElucHV0RWxlbWVudERhdGFCaW5kaW5nXHJcbn0gZnJvbSBcImp1c3RyaWdodF9jb3JlX3YxXCI7XHJcbmltcG9ydCB7IExvZ2dlciwgT2JqZWN0RnVuY3Rpb24gfSBmcm9tIFwiY29yZXV0aWxfdjFcIjtcclxuXHJcbmNvbnN0IExPRyA9IG5ldyBMb2dnZXIoXCJDaGVja0JveFwiKTtcclxuXHJcbmV4cG9ydCBjbGFzcyBDaGVja0JveCB7XHJcblxyXG5cdHN0YXRpYyBnZXQgQ09NUE9ORU5UX05BTUUoKSB7IHJldHVybiBcIkNoZWNrQm94XCI7IH1cclxuICAgIHN0YXRpYyBnZXQgVEVNUExBVEVfVVJMKCkgeyByZXR1cm4gXCIvYXNzZXRzL2p1c3RyaWdodGpzLXVpL2NoZWNrQm94Lmh0bWxcIjsgfVxyXG4gICAgc3RhdGljIGdldCBTVFlMRVNfVVJMKCkgeyByZXR1cm4gXCIvYXNzZXRzL2p1c3RyaWdodGpzLXVpL2NoZWNrQm94LmNzc1wiOyB9XHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcclxuICAgICAgICAvKiogQHR5cGUge0NvbXBvbmVudEZhY3Rvcnl9ICovXHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRGYWN0b3J5ID0gQ29tcG9uZW50RmFjdG9yeTtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHtFdmVudFJlZ2lzdHJ5fSAqL1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeSA9IEV2ZW50UmVnaXN0cnk7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7RGF0YUJpbmRSZWdpc3RyeX0gKi9cclxuICAgICAgICB0aGlzLmRhdGFCaW5kUmVnaXN0cnkgPSBEYXRhQmluZFJlZ2lzdHJ5O1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUNvbXBvbmVudCgpIHtcclxuICAgICAgICAvKiogQHR5cGUge0NvbXBvbmVudH0gKi9cclxuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50RmFjdG9yeS5jcmVhdGUoXCJDaGVja0JveFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwb3N0Q29uZmlnKCkge1xyXG4gICAgICAgIENhbnZhc1N0eWxlcy5lbmFibGVTdHlsZShDaGVja0JveC5DT01QT05FTlRfTkFNRSk7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQuZ2V0KFwiY2hlY2tCb3hcIikuc2V0QXR0cmlidXRlVmFsdWUoXCJuYW1lXCIsdGhpcy5uYW1lKTtcclxuICAgIH1cclxuXHJcblx0Z2V0Q29tcG9uZW50KCl7XHJcblx0XHRyZXR1cm4gdGhpcy5jb21wb25lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgd2l0aE1vZGVsKG1vZGVsLCB2YWxpZGF0b3IpIHtcclxuICAgICAgICB0aGlzLmRhdGFCaW5kUmVnaXN0cnlcclxuICAgICAgICAgICAgLmFkZChJbnB1dEVsZW1lbnREYXRhQmluZGluZy5saW5rKG1vZGVsLCB2YWxpZGF0b3IpLnRvKHRoaXMuY29tcG9uZW50LmdldChcImNoZWNrQm94XCIpKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgd2l0aENsaWNrTGlzdGVuZXIobGlzdGVuZXIpIHtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkuYXR0YWNoKHRoaXMuY29tcG9uZW50LmdldChcImNoZWNrQm94XCIpLCBcIm9uY2xpY2tcIiwgXCIvL2V2ZW50OmNoZWNrQm94Q2xpY2tlZFwiLCB0aGlzLmNvbXBvbmVudC5nZXRDb21wb25lbnRJbmRleCgpKTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKFwiLy9ldmVudDpjaGVja0JveENsaWNrZWRcIiwgbGlzdGVuZXIsdGhpcy5jb21wb25lbnQuZ2V0Q29tcG9uZW50SW5kZXgoKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgd2l0aEVudGVyTGlzdGVuZXIobGlzdGVuZXIpIHtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkuYXR0YWNoKHRoaXMuY29tcG9uZW50LmdldChcImNoZWNrQm94XCIpLCBcIm9ua2V5dXBcIiwgXCIvL2V2ZW50OmNoZWNrQm94RW50ZXJcIiwgdGhpcy5jb21wb25lbnQuZ2V0Q29tcG9uZW50SW5kZXgoKSk7XHJcbiAgICAgICAgbGV0IGVudGVyQ2hlY2sgPSBuZXcgT2JqZWN0RnVuY3Rpb24odGhpcywoZXZlbnQpID0+IHsgaWYoZXZlbnQuZ2V0S2V5Q29kZSgpID09PSAxMykgeyBsaXN0ZW5lci5jYWxsKCk7IH0gfSk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5Lmxpc3RlbihcIi8vZXZlbnQ6Y2hlY2tCb3hFbnRlclwiLCBlbnRlckNoZWNrLCB0aGlzLmNvbXBvbmVudC5nZXRDb21wb25lbnRJbmRleCgpKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQge1xyXG4gICAgQWJzdHJhY3RWYWxpZGF0b3IsXHJcbiAgICBFbWFpbFZhbGlkYXRvcixcclxuICAgIENvbXBvbmVudEZhY3RvcnksXHJcbiAgICBFdmVudFJlZ2lzdHJ5LFxyXG4gICAgQ2FudmFzU3R5bGVzLFxyXG4gICAgRGF0YUJpbmRSZWdpc3RyeSxcclxuICAgIENvbXBvbmVudCxcclxuICAgIElucHV0RWxlbWVudERhdGFCaW5kaW5nXHJcbn0gZnJvbSBcImp1c3RyaWdodF9jb3JlX3YxXCI7XHJcbmltcG9ydCB7IExvZ2dlciwgT2JqZWN0RnVuY3Rpb24gfSBmcm9tIFwiY29yZXV0aWxfdjFcIjtcclxuXHJcbmNvbnN0IExPRyA9IG5ldyBMb2dnZXIoXCJFbWFpbElucHV0XCIpO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVtYWlsSW5wdXQge1xyXG5cclxuXHRzdGF0aWMgZ2V0IENPTVBPTkVOVF9OQU1FKCkgeyByZXR1cm4gXCJFbWFpbElucHV0XCI7IH1cclxuICAgIHN0YXRpYyBnZXQgVEVNUExBVEVfVVJMKCkgeyByZXR1cm4gXCIvYXNzZXRzL2p1c3RyaWdodGpzLXVpL2VtYWlsSW5wdXQuaHRtbFwiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFNUWUxFU19VUkwoKSB7IHJldHVybiBcIi9hc3NldHMvanVzdHJpZ2h0anMtdWkvZW1haWxJbnB1dC5jc3NcIjsgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XHJcbiAgICAgICAgLyoqIEB0eXBlIHtDb21wb25lbnRGYWN0b3J5fSAqL1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50RmFjdG9yeSA9IENvbXBvbmVudEZhY3Rvcnk7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7RXZlbnRSZWdpc3RyeX0gKi9cclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkgPSBFdmVudFJlZ2lzdHJ5O1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge0RhdGFCaW5kUmVnaXN0cnl9ICovXHJcbiAgICAgICAgdGhpcy5kYXRhQmluZFJlZ2lzdHJ5ID0gRGF0YUJpbmRSZWdpc3RyeTtcclxuXHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuXHJcbiAgICAgICAgdGhpcy52YWxpZGF0b3IgPSBuZXcgRW1haWxWYWxpZGF0b3IoKVxyXG4gICAgICAgICAgICAud2l0aFZhbGlkTGlzdGVuZXIobmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsIHRoaXMuaGlkZVZhbGlkYXRpb25FcnJvcikpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUNvbXBvbmVudCgpIHtcclxuICAgICAgICAvKiogQHR5cGUge0NvbXBvbmVudH0gKi9cclxuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50RmFjdG9yeS5jcmVhdGUoXCJFbWFpbElucHV0XCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHBvc3RDb25maWcoKSB7XHJcbiAgICAgICAgQ2FudmFzU3R5bGVzLmVuYWJsZVN0eWxlKEVtYWlsSW5wdXQuQ09NUE9ORU5UX05BTUUpO1xyXG5cclxuICAgICAgICBsZXQgaWR4ID0gdGhpcy5jb21wb25lbnQuZ2V0Q29tcG9uZW50SW5kZXgoKTtcclxuICAgICAgICBsZXQgZW1haWxJbnB1dCA9IHRoaXMuY29tcG9uZW50LmdldChcImVtYWlsSW5wdXRcIik7XHJcbiAgICAgICAgbGV0IGVtYWlsRXJyb3IgPSB0aGlzLmNvbXBvbmVudC5nZXQoXCJlbWFpbEVycm9yXCIpO1xyXG5cclxuICAgICAgICBlbWFpbElucHV0LnNldEF0dHJpYnV0ZVZhbHVlKFwibmFtZVwiLHRoaXMubmFtZSk7XHJcblxyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5hdHRhY2goZW1haWxJbnB1dCwgXCJvbmJsdXJcIiwgXCIvL2V2ZW50OmVtYWlsSW5wdXRCbHVyXCIsIGlkeCk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5LmF0dGFjaChlbWFpbEVycm9yLCBcIm9uY2xpY2tcIiwgXCIvL2V2ZW50OmVtYWlsRXJyb3JDbGlja2VkXCIsIGlkeCk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5LmF0dGFjaChlbWFpbElucHV0LCBcIm9ua2V5dXBcIiwgXCIvL2V2ZW50OmVtYWlsSW5wdXRFbnRlclwiLCBpZHgpO1xyXG5cclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKFwiLy9ldmVudDplbWFpbElucHV0Qmx1clwiLCBuZXcgT2JqZWN0RnVuY3Rpb24odGhpcywgdGhpcy5lbWFpbElucHV0Qmx1cnJlZCksIGlkeCk7XHJcblxyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5saXN0ZW4oXCIvL2V2ZW50OmVtYWlsRXJyb3JDbGlja2VkXCIsIG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLCB0aGlzLmhpZGVWYWxpZGF0aW9uRXJyb3IpLCBpZHgpO1xyXG5cclxuICAgICAgICBsZXQgZW50ZXJDaGVjayA9IG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmdldEtleUNvZGUoKSA9PT0gMTMgJiYgIXRoaXMudmFsaWRhdG9yLmlzVmFsaWQoKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93VmFsaWRhdGlvbkVycm9yKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdEFsbCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5Lmxpc3RlbihcIi8vZXZlbnQ6ZW1haWxJbnB1dEVudGVyXCIsIGVudGVyQ2hlY2ssIGlkeCk7XHJcbiAgICB9XHJcblxyXG5cdGdldENvbXBvbmVudCgpe1xyXG5cdFx0cmV0dXJuIHRoaXMuY29tcG9uZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHJldHVybnMge0Fic3RyYWN0VmFsaWRhdG9yfVxyXG4gICAgICovXHJcbiAgICBnZXRWYWxpZGF0b3IoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsaWRhdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIHdpdGhNb2RlbChtb2RlbCkge1xyXG4gICAgICAgIHRoaXMuZGF0YUJpbmRSZWdpc3RyeS5hZGQoXHJcbiAgICAgICAgICAgIElucHV0RWxlbWVudERhdGFCaW5kaW5nXHJcbiAgICAgICAgICAgICAgICAubGluayhtb2RlbCwgdGhpcy52YWxpZGF0b3IpXHJcbiAgICAgICAgICAgICAgICAudG8odGhpcy5jb21wb25lbnQuZ2V0KFwiZW1haWxJbnB1dFwiKSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHdpdGhQbGFjZWhvbGRlcihwbGFjZWhvbGRlclZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQuZ2V0KFwiZW1haWxJbnB1dFwiKS5zZXRBdHRyaWJ1dGVWYWx1ZShcInBsYWNlaG9sZGVyXCIscGxhY2Vob2xkZXJWYWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgd2l0aEVudGVyTGlzdGVuZXIobGlzdGVuZXIpIHtcclxuICAgICAgICBsZXQgZW50ZXJDaGVjayA9IG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLCAoZXZlbnQpID0+IHsgaWYgKGV2ZW50LmdldEtleUNvZGUoKSA9PT0gMTMgJiYgdGhpcy52YWxpZGF0b3IuaXNWYWxpZCgpKSB7IGxpc3RlbmVyLmNhbGwoKTsgfSB9KTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKFwiLy9ldmVudDplbWFpbElucHV0RW50ZXJcIiwgZW50ZXJDaGVjaywgdGhpcy5jb21wb25lbnQuZ2V0Q29tcG9uZW50SW5kZXgoKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZW1haWxJbnB1dEJsdXJyZWQoKSB7XHJcbiAgICAgICAgaWYodGhpcy52YWxpZGF0b3IuaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZVZhbGlkYXRpb25FcnJvcigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd1ZhbGlkYXRpb25FcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaG93VmFsaWRhdGlvbkVycm9yKCkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50LmdldChcImVtYWlsRXJyb3JcIikuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJibG9ja1wiKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaGlkZVZhbGlkYXRpb25FcnJvcigpIHtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudC5nZXQoXCJlbWFpbEVycm9yXCIpLnNldFN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBmb2N1cygpIHtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudC5nZXQoXCJlbWFpbElucHV0XCIpLmZvY3VzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2VsZWN0QWxsKCkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50LmdldChcImVtYWlsSW5wdXRcIikuc2VsZWN0QWxsKCk7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IHsgXHJcbiAgICBBYnN0cmFjdFZhbGlkYXRvcixcclxuICAgIFJlcXVpcmVkVmFsaWRhdG9yLFxyXG4gICAgQ29tcG9uZW50RmFjdG9yeSxcclxuICAgIEV2ZW50UmVnaXN0cnksXHJcbiAgICBDYW52YXNTdHlsZXMsXHJcbiAgICBEYXRhQmluZFJlZ2lzdHJ5LFxyXG4gICAgQ29tcG9uZW50LFxyXG4gICAgSW5wdXRFbGVtZW50RGF0YUJpbmRpbmcgXHJcbn0gZnJvbSBcImp1c3RyaWdodF9jb3JlX3YxXCI7XHJcbmltcG9ydCB7IExvZ2dlciwgT2JqZWN0RnVuY3Rpb24gfSBmcm9tIFwiY29yZXV0aWxfdjFcIjtcclxuXHJcbmNvbnN0IExPRyA9IG5ldyBMb2dnZXIoXCJQYXNzd29yZElucHV0XCIpO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhc3N3b3JkSW5wdXQge1xyXG5cclxuXHRzdGF0aWMgZ2V0IENPTVBPTkVOVF9OQU1FKCkgeyByZXR1cm4gXCJQYXNzd29yZElucHV0XCI7IH1cclxuICAgIHN0YXRpYyBnZXQgVEVNUExBVEVfVVJMKCkgeyByZXR1cm4gXCIvYXNzZXRzL2p1c3RyaWdodGpzLXVpL3Bhc3N3b3JkSW5wdXQuaHRtbFwiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFNUWUxFU19VUkwoKSB7IHJldHVybiBcIi9hc3NldHMvanVzdHJpZ2h0anMtdWkvcGFzc3dvcmRJbnB1dC5jc3NcIjsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IobmFtZSkge1xyXG4gICAgICAgIC8qKiBAdHlwZSB7Q29tcG9uZW50RmFjdG9yeX0gKi9cclxuICAgICAgICB0aGlzLmNvbXBvbmVudEZhY3RvcnkgPSBDb21wb25lbnRGYWN0b3J5O1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge0V2ZW50UmVnaXN0cnl9ICovXHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5ID0gRXZlbnRSZWdpc3RyeTtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHtEYXRhQmluZFJlZ2lzdHJ5fSAqL1xyXG4gICAgICAgIHRoaXMuZGF0YUJpbmRSZWdpc3RyeSA9IERhdGFCaW5kUmVnaXN0cnk7XHJcblxyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcblxyXG4gICAgICAgIHRoaXMudmFsaWRhdG9yID0gbmV3IFJlcXVpcmVkVmFsaWRhdG9yKClcclxuICAgICAgICAgICAgLndpdGhWYWxpZExpc3RlbmVyKG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLCB0aGlzLmhpZGVWYWxpZGF0aW9uRXJyb3IpKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVDb21wb25lbnQoKSB7XHJcbiAgICAgICAgLyoqIEB0eXBlIHtDb21wb25lbnR9ICovXHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSB0aGlzLmNvbXBvbmVudEZhY3RvcnkuY3JlYXRlKFwiUGFzc3dvcmRJbnB1dFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwb3N0Q29uZmlnKCkge1xyXG4gICAgICAgIENhbnZhc1N0eWxlcy5lbmFibGVTdHlsZShQYXNzd29yZElucHV0LkNPTVBPTkVOVF9OQU1FKTtcclxuXHJcbiAgICAgICAgbGV0IGlkeCA9IHRoaXMuY29tcG9uZW50LmdldENvbXBvbmVudEluZGV4KCk7XHJcbiAgICAgICAgbGV0IHBhc3N3b3JkSW5wdXQgPSB0aGlzLmNvbXBvbmVudC5nZXQoXCJwYXNzd29yZElucHV0XCIpO1xyXG4gICAgICAgIGxldCBwYXNzd29yZEVycm9yID0gdGhpcy5jb21wb25lbnQuZ2V0KFwicGFzc3dvcmRFcnJvclwiKTtcclxuXHJcbiAgICAgICAgcGFzc3dvcmRJbnB1dC5zZXRBdHRyaWJ1dGVWYWx1ZShcIm5hbWVcIix0aGlzLm5hbWUpO1xyXG5cclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkuYXR0YWNoKHBhc3N3b3JkSW5wdXQsIFwib25ibHVyXCIsIFwiLy9ldmVudDpwYXNzd29yZElucHV0Qmx1clwiLCBpZHgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5hdHRhY2gocGFzc3dvcmRFcnJvciwgXCJvbmNsaWNrXCIsIFwiLy9ldmVudDpwYXNzd29yZEVycm9yQ2xpY2tlZFwiLCBpZHgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5hdHRhY2gocGFzc3dvcmRJbnB1dCwgXCJvbmtleXVwXCIsIFwiLy9ldmVudDpwYXNzd29yZElucHV0RW50ZXJcIiwgaWR4KTtcclxuXHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5Lmxpc3RlbihcIi8vZXZlbnQ6cGFzc3dvcmRJbnB1dEJsdXJcIiwgbmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsIHRoaXMucGFzc3dvcmRJbnB1dEJsdXJyZWQpLCBpZHgpO1xyXG5cclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKFwiLy9ldmVudDpwYXNzd29yZEVycm9yQ2xpY2tlZFwiLCBuZXcgT2JqZWN0RnVuY3Rpb24odGhpcywgdGhpcy5oaWRlVmFsaWRhdGlvbkVycm9yKSwgaWR4KTtcclxuXHJcbiAgICAgICAgbGV0IGVudGVyQ2hlY2sgPSBuZXcgT2JqZWN0RnVuY3Rpb24odGhpcywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5nZXRLZXlDb2RlKCkgPT09IDEzICYmICF0aGlzLnZhbGlkYXRvci5pc1ZhbGlkKCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd1ZhbGlkYXRpb25FcnJvcigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RBbGwoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5saXN0ZW4oXCIvL2V2ZW50OnBhc3N3b3JkSW5wdXRFbnRlclwiLCBlbnRlckNoZWNrLCB0aGlzLmNvbXBvbmVudC5nZXRDb21wb25lbnRJbmRleCgpKTtcclxuICAgIH1cclxuXHJcblx0Z2V0Q29tcG9uZW50KCl7XHJcblx0XHRyZXR1cm4gdGhpcy5jb21wb25lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcmV0dXJucyB7QWJzdHJhY3RWYWxpZGF0b3J9XHJcbiAgICAgKi9cclxuICAgIGdldFZhbGlkYXRvcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52YWxpZGF0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgd2l0aE1vZGVsKG1vZGVsKSB7XHJcbiAgICAgICAgdGhpcy5kYXRhQmluZFJlZ2lzdHJ5LmFkZChcclxuICAgICAgICAgICAgSW5wdXRFbGVtZW50RGF0YUJpbmRpbmdcclxuICAgICAgICAgICAgICAgIC5saW5rKG1vZGVsLCB0aGlzLnZhbGlkYXRvcilcclxuICAgICAgICAgICAgICAgIC50byh0aGlzLmNvbXBvbmVudC5nZXQoXCJwYXNzd29yZElucHV0XCIpKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgd2l0aFBsYWNlaG9sZGVyKHBsYWNlaG9sZGVyVmFsdWUpIHtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudC5nZXQoXCJwYXNzd29yZElucHV0XCIpLnNldEF0dHJpYnV0ZVZhbHVlKFwicGxhY2Vob2xkZXJcIixwbGFjZWhvbGRlclZhbHVlKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICB3aXRoRW50ZXJMaXN0ZW5lcihsaXN0ZW5lcikge1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5hdHRhY2godGhpcy5jb21wb25lbnQuZ2V0KFwicGFzc3dvcmRJbnB1dFwiKSwgXCJvbmtleXVwXCIsIFwiLy9ldmVudDpwYXNzd29yZElucHV0RW50ZXJcIiwgdGhpcy5jb21wb25lbnQuZ2V0Q29tcG9uZW50SW5kZXgoKSk7XHJcbiAgICAgICAgbGV0IGVudGVyQ2hlY2sgPSBuZXcgT2JqZWN0RnVuY3Rpb24odGhpcywoZXZlbnQpID0+IHsgaWYoZXZlbnQuZ2V0S2V5Q29kZSgpID09PSAxMyAmJiB0aGlzLnZhbGlkYXRvci5pc1ZhbGlkKCkpIHsgbGlzdGVuZXIuY2FsbCgpOyB9IH0pO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5saXN0ZW4oXCIvL2V2ZW50OnBhc3N3b3JkSW5wdXRFbnRlclwiLCBlbnRlckNoZWNrLCB0aGlzLmNvbXBvbmVudC5nZXRDb21wb25lbnRJbmRleCgpKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBwYXNzd29yZElucHV0Qmx1cnJlZCgpIHtcclxuICAgICAgICBpZih0aGlzLnZhbGlkYXRvci5pc1ZhbGlkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5oaWRlVmFsaWRhdGlvbkVycm9yKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93VmFsaWRhdGlvbkVycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNob3dWYWxpZGF0aW9uRXJyb3IoKSB7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQuZ2V0KFwicGFzc3dvcmRFcnJvclwiKS5zZXRTdHlsZShcImRpc3BsYXlcIixcImJsb2NrXCIpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBoaWRlVmFsaWRhdGlvbkVycm9yKCkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50LmdldChcInBhc3N3b3JkRXJyb3JcIikuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJub25lXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZvY3VzKCkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50LmdldChcInBhc3N3b3JkSW5wdXRcIikuZm9jdXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZWxlY3RBbGwoKSB7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQuZ2V0KFwicGFzc3dvcmRJbnB1dFwiKS5zZWxlY3RBbGwoKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbXBvbmVudEZhY3RvcnksIEV2ZW50UmVnaXN0cnksIENhbnZhc1N0eWxlcywgRGF0YUJpbmRSZWdpc3RyeSwgQ29tcG9uZW50LCBJbnB1dEVsZW1lbnREYXRhQmluZGluZyB9IGZyb20gXCJqdXN0cmlnaHRfY29yZV92MVwiO1xyXG5pbXBvcnQgeyBMb2dnZXIsIE9iamVjdEZ1bmN0aW9uIH0gZnJvbSBcImNvcmV1dGlsX3YxXCI7XHJcblxyXG5jb25zdCBMT0cgPSBuZXcgTG9nZ2VyKFwiVGV4dElucHV0XCIpO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRleHRJbnB1dCB7XHJcblxyXG5cdHN0YXRpYyBnZXQgQ09NUE9ORU5UX05BTUUoKSB7IHJldHVybiBcIlRleHRJbnB1dFwiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFRFTVBMQVRFX1VSTCgpIHsgcmV0dXJuIFwiL2Fzc2V0cy9qdXN0cmlnaHRqcy11aS90ZXh0SW5wdXQuaHRtbFwiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFNUWUxFU19VUkwoKSB7IHJldHVybiBcIi9hc3NldHMvanVzdHJpZ2h0anMtdWkvdGV4dElucHV0LmNzc1wiOyB9XHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IobmFtZSkge1xyXG4gICAgICAgIC8qKiBAdHlwZSB7Q29tcG9uZW50RmFjdG9yeX0gKi9cclxuICAgICAgICB0aGlzLmNvbXBvbmVudEZhY3RvcnkgPSBDb21wb25lbnRGYWN0b3J5O1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge0V2ZW50UmVnaXN0cnl9ICovXHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5ID0gRXZlbnRSZWdpc3RyeTtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHtEYXRhQmluZFJlZ2lzdHJ5fSAqL1xyXG4gICAgICAgIHRoaXMuZGF0YUJpbmRSZWdpc3RyeSA9IERhdGFCaW5kUmVnaXN0cnk7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQ29tcG9uZW50KCkge1xyXG4gICAgICAgIC8qKiBAdHlwZSB7Q29tcG9uZW50fSAqL1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50ID0gdGhpcy5jb21wb25lbnRGYWN0b3J5LmNyZWF0ZShcIlRleHRJbnB1dFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwb3N0Q29uZmlnKCkge1xyXG4gICAgICAgIENhbnZhc1N0eWxlcy5lbmFibGVTdHlsZShUZXh0SW5wdXQuQ09NUE9ORU5UX05BTUUpO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50LmdldChcInRleHRJbnB1dFwiKS5zZXRBdHRyaWJ1dGVWYWx1ZShcIm5hbWVcIiwgdGhpcy5uYW1lKTtcclxuICAgIH1cclxuXHJcblx0Z2V0Q29tcG9uZW50KCl7XHJcblx0XHRyZXR1cm4gdGhpcy5jb21wb25lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgd2l0aE1vZGVsKG1vZGVsLCB2YWxpZGF0b3IpIHtcclxuICAgICAgICB0aGlzLmRhdGFCaW5kUmVnaXN0cnlcclxuICAgICAgICAgICAgLmFkZChJbnB1dEVsZW1lbnREYXRhQmluZGluZy5saW5rKG1vZGVsLCB2YWxpZGF0b3IpLnRvKHRoaXMuY29tcG9uZW50LmdldChcInRleHRJbnB1dFwiKSkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHdpdGhQbGFjZWhvbGRlcihwbGFjZWhvbGRlclZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQuZ2V0KFwidGV4dElucHV0XCIpLnNldEF0dHJpYnV0ZVZhbHVlKFwicGxhY2Vob2xkZXJcIiwgcGxhY2Vob2xkZXJWYWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgd2l0aENsaWNrTGlzdGVuZXIoY2xpY2tMaXN0ZW5lcikge1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5hdHRhY2godGhpcy5jb21wb25lbnQuZ2V0KFwidGV4dElucHV0XCIpLCBcIm9uY2xpY2tcIiwgXCIvL2V2ZW50OnRleHRJbnB1dENsaWNrZWRcIiwgdGhpcy5jb21wb25lbnQuZ2V0Q29tcG9uZW50SW5kZXgoKSk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5Lmxpc3RlbihcIi8vZXZlbnQ6dGV4dElucHV0Q2xpY2tlZFwiLCBjbGlja0xpc3RlbmVyLCB0aGlzLmNvbXBvbmVudC5nZXRDb21wb25lbnRJbmRleCgpKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICB3aXRoRW50ZXJMaXN0ZW5lcihsaXN0ZW5lcikge1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5hdHRhY2godGhpcy5jb21wb25lbnQuZ2V0KFwidGV4dElucHV0XCIpLCBcIm9ua2V5dXBcIiwgXCIvL2V2ZW50OnRleHRJbnB1dEVudGVyXCIsIHRoaXMuY29tcG9uZW50LmdldENvbXBvbmVudEluZGV4KCkpO1xyXG4gICAgICAgIGxldCBlbnRlckNoZWNrID0gbmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsIChldmVudCkgPT4geyBpZiAoZXZlbnQuZ2V0S2V5Q29kZSgpID09PSAxMykgeyBsaXN0ZW5lci5jYWxsKCk7IH0gfSk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5Lmxpc3RlbihcIi8vZXZlbnQ6dGV4dElucHV0RW50ZXJcIiwgZW50ZXJDaGVjaywgdGhpcy5jb21wb25lbnQuZ2V0Q29tcG9uZW50SW5kZXgoKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG59Il0sIm5hbWVzIjpbIkxPRyIsIkxvZ2dlciIsIkJhY2tTaGFkZSIsIkNPTVBPTkVOVF9OQU1FIiwiVEVNUExBVEVfVVJMIiwiU1RZTEVTX1VSTCIsIltvYmplY3QgT2JqZWN0XSIsInRoaXMiLCJldmVudFJlZ2lzdHJ5IiwiRXZlbnRSZWdpc3RyeSIsImNvbXBvbmVudEZhY3RvcnkiLCJDb21wb25lbnRGYWN0b3J5IiwiaW5mbyIsImNvbXBvbmVudCIsImNyZWF0ZSIsImNsaWNrZWRMaXN0ZW5lciIsImF0dGFjaCIsImdldCIsImdldENvbXBvbmVudEluZGV4IiwibGlzdGVuIiwibWlsbGlTZWNvbmRzIiwibW91bnRTZWxmIiwiZ2V0Q29tcG9uZW50Iiwic2V0QXR0cmlidXRlVmFsdWUiLCJzZXRUaW1lb3V0Iiwic2V0U3R5bGUiLCJDYW52YXNTdHlsZXMiLCJkaXNhYmxlU3R5bGUiLCJkaXNhYmxlQWZ0ZXIiLCJlbmFibGVTdHlsZSIsImdldFJvb3RFbGVtZW50IiwiaXNNb3VudGVkIiwiQ2FudmFzUm9vdCIsImFkZEJvZHlFbGVtZW50IiwicmVtb3ZlIiwiQnV0dG9uIiwiVFlQRV9QUklNQVJZIiwiVFlQRV9TRUNPTkRBUlkiLCJUWVBFX1NVQ0NFU1MiLCJUWVBFX0lORk8iLCJUWVBFX1dBUk5JTkciLCJUWVBFX0RBTkdFUiIsIlRZUEVfTElHSFQiLCJUWVBFX0RBUksiLCJsYWJlbCIsImJ1dHRvblR5cGUiLCJzZXRDaGlsZCIsImNsaWNrTGlzdGVuZXIiLCJyZW1vdmVBdHRyaWJ1dGUiLCJEaWFsb2dCb3giLCJpbmplY3RvciIsIkluamVjdG9yIiwiYmFja1NoYWRlIiwic3R5bGVzUmVnaXN0cnkiLCJTdHlsZXNSZWdpc3RyeSIsIk9iamVjdEZ1bmN0aW9uIiwiaGlkZSIsInRleHQiLCJrZXkiLCJ2YWwiLCJzZXQiLCJpbml0QmFja1NoYWRlIiwiZW5hYmxlIiwicHJvdG90eXBlSW5zdGFuY2UiLCJ3aXRoQ2xpY2tMaXN0ZW5lciIsInJlbW92ZVN0eWxlIiwicmVtb3ZlU2VsZiIsIkNoZWNrQm94IiwibmFtZSIsImRhdGFCaW5kUmVnaXN0cnkiLCJEYXRhQmluZFJlZ2lzdHJ5IiwibW9kZWwiLCJ2YWxpZGF0b3IiLCJhZGQiLCJJbnB1dEVsZW1lbnREYXRhQmluZGluZyIsImxpbmsiLCJ0byIsImxpc3RlbmVyIiwiZW50ZXJDaGVjayIsImV2ZW50IiwiZ2V0S2V5Q29kZSIsImNhbGwiLCJFbWFpbElucHV0IiwiRW1haWxWYWxpZGF0b3IiLCJ3aXRoVmFsaWRMaXN0ZW5lciIsImhpZGVWYWxpZGF0aW9uRXJyb3IiLCJpZHgiLCJlbWFpbElucHV0IiwiZW1haWxFcnJvciIsImVtYWlsSW5wdXRCbHVycmVkIiwiaXNWYWxpZCIsInNob3dWYWxpZGF0aW9uRXJyb3IiLCJzZWxlY3RBbGwiLCJwbGFjZWhvbGRlclZhbHVlIiwiZm9jdXMiLCJQYXNzd29yZElucHV0IiwiUmVxdWlyZWRWYWxpZGF0b3IiLCJwYXNzd29yZElucHV0IiwicGFzc3dvcmRFcnJvciIsInBhc3N3b3JkSW5wdXRCbHVycmVkIiwiVGV4dElucHV0Il0sIm1hcHBpbmdzIjoic0xBU0EsTUFBTUEsS0FBTSxHQUFJQyxvQkFBTyxrQkFFVkMsV0FFWkMsNEJBQThCLE1BQU8sWUFDckNDLDBCQUE0QixNQUFPLHdDQUNoQ0Msd0JBQTBCLE1BQU8sdUNBS2pDQyxjQUdJQyxLQUFLQyxjQUFnQkMsZ0NBR3JCRixLQUFLRyxpQkFBbUJDLG1DQUc1Qkwsa0JBQ0lOLElBQUlZLEtBQUssc0JBQ1RMLEtBQUtNLFVBQVlOLEtBQUtHLGlCQUFpQkksT0FBTyxhQUdsRFIsY0FPSEEsZUFDQyxNQUFPQyxNQUFLTSxVQU9WUCxrQkFBa0JTLEdBR2QsTUFGQVIsTUFBS0MsY0FBY1EsT0FBT1QsS0FBS00sVUFBVUksSUFBSSxhQUFjLFVBQVcsMkJBQTRC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
