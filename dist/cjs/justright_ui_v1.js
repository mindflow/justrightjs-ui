"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var justright_core_v1=require("justright_core_v1"),coreutil_v1=require("coreutil_v1"),mindi_v1=require("mindi_v1");const LOG=new coreutil_v1.Logger("BackShade");class BackShade{static get COMPONENT_NAME(){return"BackShade"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/backShade.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/backShade.css"}constructor(){this.eventRegistry=justright_core_v1.EventRegistry,this.componentFactory=justright_core_v1.ComponentFactory}createComponent(){LOG.info("creating component"),this.component=this.componentFactory.create("BackShade")}postConfig(){}getComponent(){return this.component}withClickListener(t){return this.eventRegistry.attach(this.component.get("backShade"),"onclick","//event:backShadeClicked",this.component.getComponentIndex()),this.eventRegistry.listen("//event:backShadeClicked",t,this.component.getComponentIndex()),this}disableAfter(t){this.mountSelf(),this.getComponent().get("backShade").setAttributeValue("class","back-shade fade"),setTimeout(()=>{this.getComponent().get("backShade").setStyle("display","none")},t),setTimeout(()=>{justright_core_v1.CanvasStyles.disableStyle(BackShade.COMPONENT_NAME)},t+1)}disable(){this.disableAfter(500)}enable(){justright_core_v1.CanvasStyles.enableStyle(BackShade.COMPONENT_NAME),this.mountSelf(),this.getComponent().get("backShade").setStyle("display","block"),setTimeout(()=>{this.getComponent().get("backShade").setAttributeValue("class","back-shade fade show")},100)}mountSelf(){this.getComponent().getRootElement().isMounted()||justright_core_v1.CanvasRoot.addBodyElement(this.getComponent().getRootElement())}removeSelf(){this.getComponent().remove()}}const LOG$1=new coreutil_v1.Logger("Button");class Button{static get COMPONENT_NAME(){return"Button"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/button.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/button.css"}static get TYPE_PRIMARY(){return"btn-primary"}static get TYPE_SECONDARY(){return"btn-secondary"}static get TYPE_SUCCESS(){return"btn-success"}static get TYPE_INFO(){return"btn-info"}static get TYPE_WARNING(){return"btn-warning"}static get TYPE_DANGER(){return"btn-danger"}static get TYPE_LIGHT(){return"btn-light"}static get TYPE_DARK(){return"btn-dark"}constructor(t,e=Button.TYPE_PRIMARY){this.label=t,this.componentFactory=justright_core_v1.ComponentFactory,this.buttonType=e,this.eventRegistry=justright_core_v1.EventRegistry}createComponent(){this.component=this.componentFactory.create("Button")}postConfig(){justright_core_v1.CanvasStyles.enableStyle(Button.COMPONENT_NAME),this.component.get("button").setChild(this.label),this.component.get("button").setAttributeValue("class","btn "+this.buttonType)}getComponent(){return this.component}withClickListener(t){return this.eventRegistry.attach(this.component.get("button"),"onclick","//event:buttonClicked",this.component.getComponentIndex()),this.eventRegistry.listen("//event:buttonClicked",t,this.component.getComponentIndex()),this}disable(){this.getComponent().get("button").setAttributeValue("disabled","true")}enable(){this.getComponent().get("button").removeAttribute("disabled")}}const LOG$2=new coreutil_v1.Logger("DialogBox");class DialogBox{static get COMPONENT_NAME(){return"DialogBox"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/dialogBox.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/dialogBox.css"}constructor(){this.eventRegistry=justright_core_v1.EventRegistry,this.componentFactory=justright_core_v1.ComponentFactory,this.injector=mindi_v1.Injector,this.component=null,this.backShade=null,this.stylesRegistry=justright_core_v1.StylesRegistry}createComponent(){LOG$2.info("creating component"),this.component=this.componentFactory.create("DialogBox")}postConfig(){this.eventRegistry.attach(this.component.get("closeButton"),"onclick","//event:closeClicked",this.component.getComponentIndex()),this.eventRegistry.listen("//event:closeClicked",new coreutil_v1.ObjectFunction(this,this.hide),this.component.getComponentIndex())}getComponent(){return this.component}setTitle(t){this.getComponent().setChild("title",t)}setFooter(t){this.getComponent().get("footer").setStyle("display","block"),this.getComponent().setChild("footer",t)}setContent(t){this.getComponent().setChild("content",t)}set(t,e){this.getComponent().set(t,e)}hide(){this.initBackShade(),this.mountSelf(),this.getComponent().get("dialogBox").setAttributeValue("class","dialogbox fade"),setTimeout(()=>{this.getComponent().get("dialogBox").setStyle("display","none");this.backShade.disableAfter(500)},200),setTimeout(()=>{justright_core_v1.CanvasStyles.disableStyle(DialogBox.COMPONENT_NAME)},201)}show(){justright_core_v1.CanvasStyles.enableStyle(DialogBox.COMPONENT_NAME),this.initBackShade(),this.mountSelf(),this.backShade.enable(),this.getComponent().get("dialogBox").setStyle("display","block"),setTimeout(()=>{this.getComponent().get("dialogBox").setAttributeValue("class","dialogbox fade show")},100)}mountSelf(){this.getComponent().getRootElement().isMounted()||justright_core_v1.CanvasRoot.addBodyElement(this.getComponent().getRootElement())}initBackShade(){this.backShade||(this.backShade=this.injector.prototypeInstance(BackShade).withClickListener(new coreutil_v1.ObjectFunction(this,this.hide)),this.backShade.mountSelf())}removeSelf(){justright_core_v1.CanvasStyles.removeStyle(DialogBox.COMPONENT_NAME),this.getComponent().removeSelf()}}const LOG$3=new coreutil_v1.Logger("CheckBox");class CheckBox{static get COMPONENT_NAME(){return"CheckBox"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/checkBox.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/checkBox.css"}constructor(t){this.componentFactory=justright_core_v1.ComponentFactory,this.eventRegistry=justright_core_v1.EventRegistry,this.dataBindRegistry=justright_core_v1.DataBindRegistry,this.name=t}createComponent(){this.component=this.componentFactory.create("CheckBox")}postConfig(){justright_core_v1.CanvasStyles.enableStyle(CheckBox.COMPONENT_NAME),this.component.get("checkBox").setAttributeValue("name",this.name)}getComponent(){return this.component}withModel(t,e){return this.dataBindRegistry.add(justright_core_v1.InputElementDataBinding.link(t,e).to(this.component.get("checkBox"))),this}withClickListener(t){return this.eventRegistry.attach(this.component.get("checkBox"),"onclick","//event:checkBoxClicked",this.component.getComponentIndex()),this.eventRegistry.listen("//event:checkBoxClicked",t,this.component.getComponentIndex()),this}withEnterListener(t){this.eventRegistry.attach(this.component.get("checkBox"),"onkeyup","//event:checkBoxEnter",this.component.getComponentIndex());let e=new coreutil_v1.ObjectFunction(this,e=>{13===e.getKeyCode()&&t.call()});return this.eventRegistry.listen("//event:checkBoxEnter",e,this.component.getComponentIndex()),this}}const LOG$4=new coreutil_v1.Logger("EmailInput");class EmailInput{static get COMPONENT_NAME(){return"EmailInput"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/emailInput.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/emailInput.css"}constructor(t){this.componentFactory=justright_core_v1.ComponentFactory,this.eventRegistry=justright_core_v1.EventRegistry,this.dataBindRegistry=justright_core_v1.DataBindRegistry,this.name=t,this.validator=(new justright_core_v1.EmailValidator).withValidListener(new coreutil_v1.ObjectFunction(this,this.hideValidationError))}createComponent(){this.component=this.componentFactory.create("EmailInput")}postConfig(){justright_core_v1.CanvasStyles.enableStyle(EmailInput.COMPONENT_NAME);let t=this.component.getComponentIndex(),e=this.component.get("emailInput"),n=this.component.get("emailError");e.setAttributeValue("name",this.name),this.eventRegistry.attach(e,"onblur","//event:emailInputBlur",t),this.eventRegistry.attach(n,"onclick","//event:emailErrorClicked",t),this.eventRegistry.attach(e,"onkeyup","//event:emailInputEnter",t),this.eventRegistry.listen("//event:emailInputBlur",new coreutil_v1.ObjectFunction(this,this.emailInputBlurred),t),this.eventRegistry.listen("//event:emailErrorClicked",new coreutil_v1.ObjectFunction(this,this.hideValidationError),t);let i=new coreutil_v1.ObjectFunction(this,t=>{13!==t.getKeyCode()||this.validator.isValid()||(this.showValidationError(),this.selectAll())});this.eventRegistry.listen("//event:emailInputEnter",i,t),this.withPlaceholder("Email")}getComponent(){return this.component}getValidator(){return this.validator}withModel(t){return this.dataBindRegistry.add(justright_core_v1.InputElementDataBinding.link(t,this.validator).to(this.component.get("emailInput"))),this}withPlaceholder(t){return this.component.get("emailInput").setAttributeValue("placeholder",t),this}withEnterListener(t){let e=new coreutil_v1.ObjectFunction(this,e=>{13===e.getKeyCode()&&this.validator.isValid()&&t.call()});return this.eventRegistry.listen("//event:emailInputEnter",e,this.component.getComponentIndex()),this}emailInputBlurred(){this.validator.isValid()?this.hideValidationError():this.showValidationError()}showValidationError(){this.component.get("emailError").setStyle("display","block")}hideValidationError(){this.component.get("emailError").setStyle("display","none")}focus(){this.component.get("emailInput").focus()}selectAll(){this.component.get("emailInput").selectAll()}}const LOG$5=new coreutil_v1.Logger("PasswordInput");class PasswordInput{static get COMPONENT_NAME(){return"PasswordInput"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/passwordInput.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/passwordInput.css"}constructor(t){this.componentFactory=justright_core_v1.ComponentFactory,this.eventRegistry=justright_core_v1.EventRegistry,this.dataBindRegistry=justright_core_v1.DataBindRegistry,this.name=t,this.validator=(new justright_core_v1.RequiredValidator).withValidListener(new coreutil_v1.ObjectFunction(this,this.hideValidationError))}createComponent(){this.component=this.componentFactory.create("PasswordInput")}postConfig(){justright_core_v1.CanvasStyles.enableStyle(PasswordInput.COMPONENT_NAME);let t=this.component.getComponentIndex(),e=this.component.get("passwordInput"),n=this.component.get("passwordError");e.setAttributeValue("name",this.name),this.eventRegistry.attach(e,"onblur","//event:passwordInputBlur",t),this.eventRegistry.attach(n,"onclick","//event:passwordErrorClicked",t),this.eventRegistry.attach(e,"onkeyup","//event:passwordInputEnter",t),this.eventRegistry.listen("//event:passwordInputBlur",new coreutil_v1.ObjectFunction(this,this.passwordInputBlurred),t),this.eventRegistry.listen("//event:passwordErrorClicked",new coreutil_v1.ObjectFunction(this,this.hideValidationError),t);let i=new coreutil_v1.ObjectFunction(this,t=>{13!==t.getKeyCode()||this.validator.isValid()||(this.showValidationError(),this.selectAll())});this.eventRegistry.listen("//event:passwordInputEnter",i,this.component.getComponentIndex()),this.withPlaceholder("Password")}getComponent(){return this.component}getValidator(){return this.validator}withModel(t){return this.dataBindRegistry.add(justright_core_v1.InputElementDataBinding.link(t,this.validator).to(this.component.get("passwordInput"))),this}withPlaceholder(t){return this.component.get("passwordInput").setAttributeValue("placeholder",t),this}withEnterListener(t){let e=new coreutil_v1.ObjectFunction(this,e=>{13===e.getKeyCode()&&this.validator.isValid()&&t.call()});return this.eventRegistry.listen("//event:passwordInputEnter",e,this.component.getComponentIndex()),this}passwordInputBlurred(){this.validator.isValid()?this.hideValidationError():this.showValidationError()}showValidationError(){this.component.get("passwordError").setStyle("display","block")}hideValidationError(){this.component.get("passwordError").setStyle("display","none")}focus(){this.component.get("passwordInput").focus()}selectAll(){this.component.get("passwordInput").selectAll()}}const LOG$6=new coreutil_v1.Logger("PasswordMatcherInput");class PasswordMatcherInput{static get COMPONENT_NAME(){return"PasswordMatcherInput"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/passwordMatcherInput.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/passwordMatcherInput.css"}constructor(t){this.componentFactory=justright_core_v1.ComponentFactory,this.eventRegistry=justright_core_v1.EventRegistry,this.dataBindRegistry=justright_core_v1.DataBindRegistry,this.name=t,this.validator=(new justright_core_v1.RequiredValidator).withValidListener(new coreutil_v1.ObjectFunction(this,this.hideValidationError))}createComponent(){this.component=this.componentFactory.create("PasswordMatcherInput")}postConfig(){justright_core_v1.CanvasStyles.enableStyle(PasswordMatcherInput.COMPONENT_NAME);let t=this.component.getComponentIndex(),e=this.component.get("passwordMatcherInput"),n=this.component.get("passwordMatcherError");e.setAttributeValue("name",this.name),this.eventRegistry.attach(e,"onblur","//event:passwordMatcherInputBlur",t),this.eventRegistry.attach(n,"onclick","//event:passwordMatcherErrorClicked",t),this.eventRegistry.attach(e,"onkeyup","//event:passwordMatcherInputEnter",t),this.eventRegistry.listen("//event:passwordMatcherInputBlur",new coreutil_v1.ObjectFunction(this,this.passwordMatcherInputBlurred),t),this.eventRegistry.listen("//event:passwordMatcherErrorClicked",new coreutil_v1.ObjectFunction(this,this.hideValidationError),t);let i=new coreutil_v1.ObjectFunction(this,t=>{13!==t.getKeyCode()||this.validator.isValid()||(this.showValidationError(),this.selectAll())});this.eventRegistry.listen("//event:passwordMatcherInputEnter",i,this.component.getComponentIndex()),this.withPlaceholder("Password","Confirm password")}getComponent(){return this.component}getValidator(){return this.validator}withModel(t){return this.dataBindRegistry.add(justright_core_v1.InputElementDataBinding.link(t,this.validator).to(this.component.get("passwordMatcherInput"))),this}withPlaceholder(t,e){return this.component.get("passwordMatcherInput").setAttributeValue("placeholder",t),this.component.get("passwordMatcherControlInput").setAttributeValue("placeholder",e),this}withEnterListener(t){let e=new coreutil_v1.ObjectFunction(this,e=>{13===e.getKeyCode()&&this.validator.isValid()&&t.call()});return this.eventRegistry.listen("//event:passwordMatcherInputEnter",e,this.component.getComponentIndex()),this}passwordMatcherInputBlurred(){this.validator.isValid()?this.hideValidationError():this.showValidationError()}showValidationError(){this.component.get("passwordMatcherError").setStyle("display","block")}hideValidationError(){this.component.get("passwordMatcherError").setStyle("display","none")}focus(){this.component.get("passwordMatcherInput").focus()}selectAll(){this.component.get("passwordMatcherInput").selectAll()}}const LOG$7=new coreutil_v1.Logger("TextInput");class TextInput{static get COMPONENT_NAME(){return"TextInput"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/textInput.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/textInput.css"}constructor(t){this.componentFactory=justright_core_v1.ComponentFactory,this.eventRegistry=justright_core_v1.EventRegistry,this.dataBindRegistry=justright_core_v1.DataBindRegistry,this.name=t}createComponent(){this.component=this.componentFactory.create("TextInput")}postConfig(){justright_core_v1.CanvasStyles.enableStyle(TextInput.COMPONENT_NAME),this.component.get("textInput").setAttributeValue("name",this.name)}getComponent(){return this.component}withModel(t,e){return this.dataBindRegistry.add(justright_core_v1.InputElementDataBinding.link(t,e).to(this.component.get("textInput"))),this}withPlaceholder(t){return this.component.get("textInput").setAttributeValue("placeholder",t),this}withClickListener(t){return this.eventRegistry.attach(this.component.get("textInput"),"onclick","//event:textInputClicked",this.component.getComponentIndex()),this.eventRegistry.listen("//event:textInputClicked",t,this.component.getComponentIndex()),this}withEnterListener(t){this.eventRegistry.attach(this.component.get("textInput"),"onkeyup","//event:textInputEnter",this.component.getComponentIndex());let e=new coreutil_v1.ObjectFunction(this,e=>{13===e.getKeyCode()&&t.call()});return this.eventRegistry.listen("//event:textInputEnter",e,this.component.getComponentIndex()),this}}exports.BackShade=BackShade,exports.Button=Button,exports.CheckBox=CheckBox,exports.DialogBox=DialogBox,exports.EmailInput=EmailInput,exports.PasswordInput=PasswordInput,exports.PasswordMatcherInput=PasswordMatcherInput,exports.TextInput=TextInput;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianVzdHJpZ2h0X3VpX3YxLmpzIiwic291cmNlcyI6WyIuLi8uLi9zcmMvanVzdHJpZ2h0L2NvbXBvbmVudC9iYWNrU2hhZGUvYmFja1NoYWRlLmpzIiwiLi4vLi4vc3JjL2p1c3RyaWdodC9jb21wb25lbnQvYnV0dG9uL2J1dHRvbi5qcyIsIi4uLy4uL3NyYy9qdXN0cmlnaHQvY29tcG9uZW50L2RpYWxvZ0JveC9kaWFsb2dCb3guanMiLCIuLi8uLi9zcmMvanVzdHJpZ2h0L2NvbXBvbmVudC9pbnB1dC9jaGVja0JveC9jaGVja0JveC5qcyIsIi4uLy4uL3NyYy9qdXN0cmlnaHQvY29tcG9uZW50L2lucHV0L2VtYWlsSW5wdXQvZW1haWxJbnB1dC5qcyIsIi4uLy4uL3NyYy9qdXN0cmlnaHQvY29tcG9uZW50L2lucHV0L3Bhc3N3b3JkSW5wdXQvcGFzc3dvcmRJbnB1dC5qcyIsIi4uLy4uL3NyYy9qdXN0cmlnaHQvY29tcG9uZW50L2lucHV0L3Bhc3N3b3JkTWF0Y2hlcklucHV0L3Bhc3N3b3JkTWF0Y2hlcklucHV0LmpzIiwiLi4vLi4vc3JjL2p1c3RyaWdodC9jb21wb25lbnQvaW5wdXQvdGV4dElucHV0L3RleHRJbnB1dC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gICAgQ29tcG9uZW50LFxyXG4gICAgQ29tcG9uZW50RmFjdG9yeSxcclxuICAgIEV2ZW50UmVnaXN0cnksXHJcbiAgICBDYW52YXNTdHlsZXMsXHJcbiAgICBDYW52YXNSb290XHJcbn0gZnJvbSBcImp1c3RyaWdodF9jb3JlX3YxXCI7XHJcbmltcG9ydCB7IExvZ2dlciwgT2JqZWN0RnVuY3Rpb24gfSBmcm9tIFwiY29yZXV0aWxfdjFcIjtcclxuXHJcbmNvbnN0IExPRyA9IG5ldyBMb2dnZXIoXCJCYWNrU2hhZGVcIik7XHJcblxyXG5leHBvcnQgY2xhc3MgQmFja1NoYWRlIHtcclxuXHJcblx0c3RhdGljIGdldCBDT01QT05FTlRfTkFNRSgpIHsgcmV0dXJuIFwiQmFja1NoYWRlXCI7IH1cclxuXHRzdGF0aWMgZ2V0IFRFTVBMQVRFX1VSTCgpIHsgcmV0dXJuIFwiL2Fzc2V0cy9qdXN0cmlnaHRqcy11aS9iYWNrU2hhZGUuaHRtbFwiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFNUWUxFU19VUkwoKSB7IHJldHVybiBcIi9hc3NldHMvanVzdHJpZ2h0anMtdWkvYmFja1NoYWRlLmNzc1wiOyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuXHJcblx0XHQvKiogQHR5cGUge0V2ZW50UmVnaXN0cnl9ICovXHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5ID0gRXZlbnRSZWdpc3RyeTtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHtDb21wb25lbnRGYWN0b3J5fSAqL1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50RmFjdG9yeSA9IENvbXBvbmVudEZhY3Rvcnk7XHJcblx0fVxyXG5cclxuICAgIGNyZWF0ZUNvbXBvbmVudCgpIHtcclxuICAgICAgICBMT0cuaW5mbyhcImNyZWF0aW5nIGNvbXBvbmVudFwiKTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50RmFjdG9yeS5jcmVhdGUoXCJCYWNrU2hhZGVcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcG9zdENvbmZpZygpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcmV0dXJuIHtDb21wb25lbnR9XHJcbiAgICAgKi9cclxuXHRnZXRDb21wb25lbnQoKXtcclxuXHRcdHJldHVybiB0aGlzLmNvbXBvbmVudDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtPYmplY3RGdW5jdGlvbn0gY2xpY2tlZExpc3RlbmVyIFxyXG4gICAgICovXHJcbiAgICB3aXRoQ2xpY2tMaXN0ZW5lcihjbGlja2VkTGlzdGVuZXIpIHtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkuYXR0YWNoKHRoaXMuY29tcG9uZW50LmdldChcImJhY2tTaGFkZVwiKSwgXCJvbmNsaWNrXCIsIFwiLy9ldmVudDpiYWNrU2hhZGVDbGlja2VkXCIsIHRoaXMuY29tcG9uZW50LmdldENvbXBvbmVudEluZGV4KCkpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5saXN0ZW4oXCIvL2V2ZW50OmJhY2tTaGFkZUNsaWNrZWRcIiwgY2xpY2tlZExpc3RlbmVyLCB0aGlzLmNvbXBvbmVudC5nZXRDb21wb25lbnRJbmRleCgpKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBkaXNhYmxlQWZ0ZXIobWlsbGlTZWNvbmRzKSB7XHJcbiAgICAgICAgdGhpcy5tb3VudFNlbGYoKTtcclxuICAgICAgICB0aGlzLmdldENvbXBvbmVudCgpLmdldChcImJhY2tTaGFkZVwiKS5zZXRBdHRyaWJ1dGVWYWx1ZShcImNsYXNzXCIsIFwiYmFjay1zaGFkZSBmYWRlXCIpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyBcclxuICAgICAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoKS5nZXQoXCJiYWNrU2hhZGVcIikuc2V0U3R5bGUoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcclxuICAgICAgICB9LCBtaWxsaVNlY29uZHMpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBDYW52YXNTdHlsZXMuZGlzYWJsZVN0eWxlKEJhY2tTaGFkZS5DT01QT05FTlRfTkFNRSk7XHJcbiAgICAgICAgfSwgbWlsbGlTZWNvbmRzICsgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGlzYWJsZSgpIHtcclxuICAgICAgICB0aGlzLmRpc2FibGVBZnRlcig1MDApO1xyXG4gICAgfVxyXG5cclxuICAgIGVuYWJsZSgpIHtcclxuICAgICAgICBDYW52YXNTdHlsZXMuZW5hYmxlU3R5bGUoQmFja1NoYWRlLkNPTVBPTkVOVF9OQU1FKTtcclxuICAgICAgICB0aGlzLm1vdW50U2VsZigpO1xyXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KCkuZ2V0KFwiYmFja1NoYWRlXCIpLnNldFN0eWxlKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyBcclxuICAgICAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoKS5nZXQoXCJiYWNrU2hhZGVcIikuc2V0QXR0cmlidXRlVmFsdWUoXCJjbGFzc1wiLCBcImJhY2stc2hhZGUgZmFkZSBzaG93XCIpIFxyXG4gICAgICAgIH0sIDEwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgbW91bnRTZWxmKCkge1xyXG4gICAgICAgIGlmKCF0aGlzLmdldENvbXBvbmVudCgpLmdldFJvb3RFbGVtZW50KCkuaXNNb3VudGVkKCkpIHtcclxuICAgICAgICAgICAgQ2FudmFzUm9vdC5hZGRCb2R5RWxlbWVudCh0aGlzLmdldENvbXBvbmVudCgpLmdldFJvb3RFbGVtZW50KCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVTZWxmKCkge1xyXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KCkucmVtb3ZlKCk7XHJcbiAgICB9XHJcbiAgICBcclxufSIsImltcG9ydCB7XHJcbiAgICBDb21wb25lbnRGYWN0b3J5LFxyXG4gICAgRXZlbnRSZWdpc3RyeSxcclxuICAgIENhbnZhc1N0eWxlc1xyXG59IGZyb20gXCJqdXN0cmlnaHRfY29yZV92MVwiO1xyXG5pbXBvcnQgeyBMb2dnZXIsIE9iamVjdEZ1bmN0aW9uIH0gZnJvbSBcImNvcmV1dGlsX3YxXCI7XHJcblxyXG5jb25zdCBMT0cgPSBuZXcgTG9nZ2VyKFwiQnV0dG9uXCIpO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJ1dHRvbiB7XHJcblxyXG5cdHN0YXRpYyBnZXQgQ09NUE9ORU5UX05BTUUoKSB7IHJldHVybiBcIkJ1dHRvblwiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFRFTVBMQVRFX1VSTCgpIHsgcmV0dXJuIFwiL2Fzc2V0cy9qdXN0cmlnaHRqcy11aS9idXR0b24uaHRtbFwiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFNUWUxFU19VUkwoKSB7IHJldHVybiBcIi9hc3NldHMvanVzdHJpZ2h0anMtdWkvYnV0dG9uLmNzc1wiOyB9XHJcblxyXG4gICAgc3RhdGljIGdldCBUWVBFX1BSSU1BUlkoKSB7IHJldHVybiBcImJ0bi1wcmltYXJ5XCI7IH1cclxuICAgIHN0YXRpYyBnZXQgVFlQRV9TRUNPTkRBUlkoKSB7IHJldHVybiBcImJ0bi1zZWNvbmRhcnlcIjsgfVxyXG4gICAgc3RhdGljIGdldCBUWVBFX1NVQ0NFU1MoKSB7IHJldHVybiBcImJ0bi1zdWNjZXNzXCI7IH1cclxuICAgIHN0YXRpYyBnZXQgVFlQRV9JTkZPKCkgeyByZXR1cm4gXCJidG4taW5mb1wiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFRZUEVfV0FSTklORygpIHsgcmV0dXJuIFwiYnRuLXdhcm5pbmdcIjsgfVxyXG4gICAgc3RhdGljIGdldCBUWVBFX0RBTkdFUigpIHsgcmV0dXJuIFwiYnRuLWRhbmdlclwiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFRZUEVfTElHSFQoKSB7IHJldHVybiBcImJ0bi1saWdodFwiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFRZUEVfREFSSygpIHsgcmV0dXJuIFwiYnRuLWRhcmtcIjsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGFiZWwgXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYnV0dG9uVHlwZSBcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IobGFiZWwsIGJ1dHRvblR5cGUgPSBCdXR0b24uVFlQRV9QUklNQVJZKSB7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xyXG4gICAgICAgIHRoaXMubGFiZWwgPSBsYWJlbDtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHtDb21wb25lbnRGYWN0b3J5fSAqL1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50RmFjdG9yeSA9IENvbXBvbmVudEZhY3Rvcnk7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xyXG4gICAgICAgIHRoaXMuYnV0dG9uVHlwZSA9IGJ1dHRvblR5cGU7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7RXZlbnRSZWdpc3RyeX0gKi9cclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkgPSBFdmVudFJlZ2lzdHJ5O1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUNvbXBvbmVudCgpIHtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50RmFjdG9yeS5jcmVhdGUoXCJCdXR0b25cIik7XHJcbiAgICB9XHJcblxyXG4gICAgcG9zdENvbmZpZygpIHtcclxuICAgICAgICBDYW52YXNTdHlsZXMuZW5hYmxlU3R5bGUoQnV0dG9uLkNPTVBPTkVOVF9OQU1FKTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudC5nZXQoXCJidXR0b25cIikuc2V0Q2hpbGQodGhpcy5sYWJlbCk7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQuZ2V0KFwiYnV0dG9uXCIpLnNldEF0dHJpYnV0ZVZhbHVlKFwiY2xhc3NcIixcImJ0biBcIiArIHRoaXMuYnV0dG9uVHlwZSk7XHJcbiAgICB9XHJcblxyXG5cdGdldENvbXBvbmVudCgpe1xyXG5cdFx0cmV0dXJuIHRoaXMuY29tcG9uZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdEZ1bmN0aW9ufSBjbGlja2VkTGlzdGVuZXIgXHJcbiAgICAgKi9cclxuICAgIHdpdGhDbGlja0xpc3RlbmVyKGNsaWNrTGlzdGVuZXIpIHtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkuYXR0YWNoKHRoaXMuY29tcG9uZW50LmdldChcImJ1dHRvblwiKSwgXCJvbmNsaWNrXCIsIFwiLy9ldmVudDpidXR0b25DbGlja2VkXCIsIHRoaXMuY29tcG9uZW50LmdldENvbXBvbmVudEluZGV4KCkpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5saXN0ZW4oXCIvL2V2ZW50OmJ1dHRvbkNsaWNrZWRcIiwgY2xpY2tMaXN0ZW5lciwgdGhpcy5jb21wb25lbnQuZ2V0Q29tcG9uZW50SW5kZXgoKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZGlzYWJsZSgpIHtcclxuICAgICAgICB0aGlzLmdldENvbXBvbmVudCgpLmdldChcImJ1dHRvblwiKS5zZXRBdHRyaWJ1dGVWYWx1ZShcImRpc2FibGVkXCIsXCJ0cnVlXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGVuYWJsZSgpIHtcclxuICAgICAgICB0aGlzLmdldENvbXBvbmVudCgpLmdldChcImJ1dHRvblwiKS5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7XHJcbiAgICBDb21wb25lbnQsXHJcbiAgICBDb21wb25lbnRGYWN0b3J5LFxyXG4gICAgRXZlbnRSZWdpc3RyeSxcclxuICAgIENhbnZhc1N0eWxlcyxcclxuICAgIFN0eWxlc1JlZ2lzdHJ5LFxyXG4gICAgQ2FudmFzUm9vdFxyXG59IGZyb20gXCJqdXN0cmlnaHRfY29yZV92MVwiO1xyXG5pbXBvcnQgeyBMb2dnZXIsIE9iamVjdEZ1bmN0aW9uIH0gZnJvbSBcImNvcmV1dGlsX3YxXCI7XHJcbmltcG9ydCB7IEluamVjdG9yIH0gZnJvbSBcIm1pbmRpX3YxXCI7XHJcbmltcG9ydCB7IEJhY2tTaGFkZSB9IGZyb20gXCIuLi9iYWNrU2hhZGUvYmFja1NoYWRlLmpzXCI7XHJcblxyXG5cclxuY29uc3QgTE9HID0gbmV3IExvZ2dlcihcIkRpYWxvZ0JveFwiKTtcclxuXHJcbmV4cG9ydCBjbGFzcyBEaWFsb2dCb3gge1xyXG5cclxuXHRzdGF0aWMgZ2V0IENPTVBPTkVOVF9OQU1FKCkgeyByZXR1cm4gXCJEaWFsb2dCb3hcIjsgfVxyXG4gICAgc3RhdGljIGdldCBURU1QTEFURV9VUkwoKSB7IHJldHVybiBcIi9hc3NldHMvanVzdHJpZ2h0anMtdWkvZGlhbG9nQm94Lmh0bWxcIjsgfVxyXG4gICAgc3RhdGljIGdldCBTVFlMRVNfVVJMKCkgeyByZXR1cm4gXCIvYXNzZXRzL2p1c3RyaWdodGpzLXVpL2RpYWxvZ0JveC5jc3NcIjsgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG5cclxuXHRcdC8qKiBAdHlwZSB7RXZlbnRSZWdpc3RyeX0gKi9cclxuXHRcdHRoaXMuZXZlbnRSZWdpc3RyeSA9IEV2ZW50UmVnaXN0cnk7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7Q29tcG9uZW50RmFjdG9yeX0gKi9cclxuICAgICAgICB0aGlzLmNvbXBvbmVudEZhY3RvcnkgPSBDb21wb25lbnRGYWN0b3J5O1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge0luamVjdG9yfSAqL1xyXG4gICAgICAgIHRoaXMuaW5qZWN0b3IgPSBJbmplY3RvcjtcclxuXHJcblx0XHQvKiogQHR5cGUge0NvbXBvbmVudH0gKi9cclxuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IG51bGw7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLyoqIEB0eXBlIHtCYWNrU2hhZGV9ICovXHJcbiAgICAgICAgdGhpcy5iYWNrU2hhZGUgPSBudWxsO1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge1N0eWxlc1JlZ2lzdHJ5fSAqL1xyXG4gICAgICAgIHRoaXMuc3R5bGVzUmVnaXN0cnkgPSBTdHlsZXNSZWdpc3RyeTtcclxuXHR9XHJcblxyXG4gICAgY3JlYXRlQ29tcG9uZW50KCkge1xyXG4gICAgICAgIExPRy5pbmZvKFwiY3JlYXRpbmcgY29tcG9uZW50XCIpO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50ID0gdGhpcy5jb21wb25lbnRGYWN0b3J5LmNyZWF0ZShcIkRpYWxvZ0JveFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwb3N0Q29uZmlnKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5hdHRhY2godGhpcy5jb21wb25lbnQuZ2V0KFwiY2xvc2VCdXR0b25cIiksIFwib25jbGlja1wiLCBcIi8vZXZlbnQ6Y2xvc2VDbGlja2VkXCIsIHRoaXMuY29tcG9uZW50LmdldENvbXBvbmVudEluZGV4KCkpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5saXN0ZW4oXCIvL2V2ZW50OmNsb3NlQ2xpY2tlZFwiLCBuZXcgT2JqZWN0RnVuY3Rpb24odGhpcywgdGhpcy5oaWRlKSx0aGlzLmNvbXBvbmVudC5nZXRDb21wb25lbnRJbmRleCgpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEByZXR1cm4ge0NvbXBvbmVudH1cclxuICAgICAqL1xyXG5cdGdldENvbXBvbmVudCgpe1xyXG5cdFx0cmV0dXJuIHRoaXMuY29tcG9uZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBcclxuICAgICAqL1xyXG4gICAgc2V0VGl0bGUodGV4dCl7XHJcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoKS5zZXRDaGlsZChcInRpdGxlXCIsIHRleHQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge0NvbXBvbmVudH0gY29tcG9uZW50IFxyXG4gICAgICovXHJcbiAgICBzZXRGb290ZXIoY29tcG9uZW50KXtcclxuICAgICAgICB0aGlzLmdldENvbXBvbmVudCgpLmdldChcImZvb3RlclwiKS5zZXRTdHlsZShcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcclxuICAgICAgICB0aGlzLmdldENvbXBvbmVudCgpLnNldENoaWxkKFwiZm9vdGVyXCIsIGNvbXBvbmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7Q29tcG9uZW50fSBjb21wb25lbnQgXHJcbiAgICAgKi9cclxuICAgIHNldENvbnRlbnQoY29tcG9uZW50KXtcclxuICAgICAgICB0aGlzLmdldENvbXBvbmVudCgpLnNldENoaWxkKFwiY29udGVudFwiLGNvbXBvbmVudCk7XHJcbiAgICB9XHJcblxyXG5cdHNldChrZXksdmFsKSB7XHJcblx0XHR0aGlzLmdldENvbXBvbmVudCgpLnNldChrZXksdmFsKTtcclxuXHR9XHJcbiAgICBcclxuICAgIGhpZGUoKSB7XHJcbiAgICAgICAgdGhpcy5pbml0QmFja1NoYWRlKCk7XHJcbiAgICAgICAgdGhpcy5tb3VudFNlbGYoKTtcclxuXHJcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoKS5nZXQoXCJkaWFsb2dCb3hcIikuc2V0QXR0cmlidXRlVmFsdWUoXCJjbGFzc1wiICwgXCJkaWFsb2dib3ggZmFkZVwiKTtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KCkuZ2V0KFwiZGlhbG9nQm94XCIpLnNldFN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKTtcclxuICAgICAgICAgICAgdGhpcy5iYWNrU2hhZGUuZGlzYWJsZUFmdGVyKDUwMCk7XHJcbiAgICAgICAgfSwyMDApO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBDYW52YXNTdHlsZXMuZGlzYWJsZVN0eWxlKERpYWxvZ0JveC5DT01QT05FTlRfTkFNRSk7XHJcbiAgICAgICAgfSwyMDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3coKSB7XHJcbiAgICAgICAgQ2FudmFzU3R5bGVzLmVuYWJsZVN0eWxlKERpYWxvZ0JveC5DT01QT05FTlRfTkFNRSk7XHJcbiAgICAgICAgdGhpcy5pbml0QmFja1NoYWRlKCk7XHJcbiAgICAgICAgdGhpcy5tb3VudFNlbGYoKTtcclxuXHJcbiAgICAgICAgdGhpcy5iYWNrU2hhZGUuZW5hYmxlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KCkuZ2V0KFwiZGlhbG9nQm94XCIpLnNldFN0eWxlKFwiZGlzcGxheVwiLFwiYmxvY2tcIik7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IFxyXG4gICAgICAgICAgICB0aGlzLmdldENvbXBvbmVudCgpLmdldChcImRpYWxvZ0JveFwiKS5zZXRBdHRyaWJ1dGVWYWx1ZShcImNsYXNzXCIgLCBcImRpYWxvZ2JveCBmYWRlIHNob3dcIikgO1xyXG4gICAgICAgIH0sMTAwKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEluc2VydHMgdGhpcyBjb21wb25lbnQgaW4gdGhlIGNvbnRhaW5lciBhdCB0aGUgcHJvdmlkZWQgaWRcclxuICAgICAqL1xyXG4gICAgbW91bnRTZWxmKCkge1xyXG4gICAgICAgIGlmKCF0aGlzLmdldENvbXBvbmVudCgpLmdldFJvb3RFbGVtZW50KCkuaXNNb3VudGVkKCkpIHtcclxuICAgICAgICAgICAgQ2FudmFzUm9vdC5hZGRCb2R5RWxlbWVudCh0aGlzLmdldENvbXBvbmVudCgpLmdldFJvb3RFbGVtZW50KCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpbml0QmFja1NoYWRlKCkge1xyXG4gICAgICAgIGlmKCF0aGlzLmJhY2tTaGFkZSkge1xyXG4gICAgICAgICAgICB0aGlzLmJhY2tTaGFkZSA9IHRoaXMuaW5qZWN0b3IucHJvdG90eXBlSW5zdGFuY2UoQmFja1NoYWRlKVxyXG4gICAgICAgICAgICAgICAgLndpdGhDbGlja0xpc3RlbmVyKG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLCB0aGlzLmhpZGUpKTtcclxuICAgICAgICAgICAgdGhpcy5iYWNrU2hhZGUubW91bnRTZWxmKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZVNlbGYoKSB7XHJcbiAgICAgICAgQ2FudmFzU3R5bGVzLnJlbW92ZVN0eWxlKERpYWxvZ0JveC5DT01QT05FTlRfTkFNRSk7XHJcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoKS5yZW1vdmVTZWxmKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge1xyXG4gICAgQ29tcG9uZW50RmFjdG9yeSxcclxuICAgIEV2ZW50UmVnaXN0cnksXHJcbiAgICBDYW52YXNTdHlsZXMsXHJcbiAgICBEYXRhQmluZFJlZ2lzdHJ5LFxyXG4gICAgQ29tcG9uZW50LFxyXG4gICAgSW5wdXRFbGVtZW50RGF0YUJpbmRpbmdcclxufSBmcm9tIFwianVzdHJpZ2h0X2NvcmVfdjFcIjtcclxuaW1wb3J0IHsgTG9nZ2VyLCBPYmplY3RGdW5jdGlvbiB9IGZyb20gXCJjb3JldXRpbF92MVwiO1xyXG5cclxuY29uc3QgTE9HID0gbmV3IExvZ2dlcihcIkNoZWNrQm94XCIpO1xyXG5cclxuZXhwb3J0IGNsYXNzIENoZWNrQm94IHtcclxuXHJcblx0c3RhdGljIGdldCBDT01QT05FTlRfTkFNRSgpIHsgcmV0dXJuIFwiQ2hlY2tCb3hcIjsgfVxyXG4gICAgc3RhdGljIGdldCBURU1QTEFURV9VUkwoKSB7IHJldHVybiBcIi9hc3NldHMvanVzdHJpZ2h0anMtdWkvY2hlY2tCb3guaHRtbFwiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFNUWUxFU19VUkwoKSB7IHJldHVybiBcIi9hc3NldHMvanVzdHJpZ2h0anMtdWkvY2hlY2tCb3guY3NzXCI7IH1cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IobmFtZSkge1xyXG4gICAgICAgIC8qKiBAdHlwZSB7Q29tcG9uZW50RmFjdG9yeX0gKi9cclxuICAgICAgICB0aGlzLmNvbXBvbmVudEZhY3RvcnkgPSBDb21wb25lbnRGYWN0b3J5O1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge0V2ZW50UmVnaXN0cnl9ICovXHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5ID0gRXZlbnRSZWdpc3RyeTtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHtEYXRhQmluZFJlZ2lzdHJ5fSAqL1xyXG4gICAgICAgIHRoaXMuZGF0YUJpbmRSZWdpc3RyeSA9IERhdGFCaW5kUmVnaXN0cnk7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQ29tcG9uZW50KCkge1xyXG4gICAgICAgIC8qKiBAdHlwZSB7Q29tcG9uZW50fSAqL1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50ID0gdGhpcy5jb21wb25lbnRGYWN0b3J5LmNyZWF0ZShcIkNoZWNrQm94XCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHBvc3RDb25maWcoKSB7XHJcbiAgICAgICAgQ2FudmFzU3R5bGVzLmVuYWJsZVN0eWxlKENoZWNrQm94LkNPTVBPTkVOVF9OQU1FKTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudC5nZXQoXCJjaGVja0JveFwiKS5zZXRBdHRyaWJ1dGVWYWx1ZShcIm5hbWVcIix0aGlzLm5hbWUpO1xyXG4gICAgfVxyXG5cclxuXHRnZXRDb21wb25lbnQoKXtcclxuXHRcdHJldHVybiB0aGlzLmNvbXBvbmVudDtcclxuICAgIH1cclxuXHJcbiAgICB3aXRoTW9kZWwobW9kZWwsIHZhbGlkYXRvcikge1xyXG4gICAgICAgIHRoaXMuZGF0YUJpbmRSZWdpc3RyeVxyXG4gICAgICAgICAgICAuYWRkKElucHV0RWxlbWVudERhdGFCaW5kaW5nLmxpbmsobW9kZWwsIHZhbGlkYXRvcikudG8odGhpcy5jb21wb25lbnQuZ2V0KFwiY2hlY2tCb3hcIikpKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICB3aXRoQ2xpY2tMaXN0ZW5lcihsaXN0ZW5lcikge1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5hdHRhY2godGhpcy5jb21wb25lbnQuZ2V0KFwiY2hlY2tCb3hcIiksIFwib25jbGlja1wiLCBcIi8vZXZlbnQ6Y2hlY2tCb3hDbGlja2VkXCIsIHRoaXMuY29tcG9uZW50LmdldENvbXBvbmVudEluZGV4KCkpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5saXN0ZW4oXCIvL2V2ZW50OmNoZWNrQm94Q2xpY2tlZFwiLCBsaXN0ZW5lcix0aGlzLmNvbXBvbmVudC5nZXRDb21wb25lbnRJbmRleCgpKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICB3aXRoRW50ZXJMaXN0ZW5lcihsaXN0ZW5lcikge1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5hdHRhY2godGhpcy5jb21wb25lbnQuZ2V0KFwiY2hlY2tCb3hcIiksIFwib25rZXl1cFwiLCBcIi8vZXZlbnQ6Y2hlY2tCb3hFbnRlclwiLCB0aGlzLmNvbXBvbmVudC5nZXRDb21wb25lbnRJbmRleCgpKTtcclxuICAgICAgICBsZXQgZW50ZXJDaGVjayA9IG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLChldmVudCkgPT4geyBpZihldmVudC5nZXRLZXlDb2RlKCkgPT09IDEzKSB7IGxpc3RlbmVyLmNhbGwoKTsgfSB9KTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKFwiLy9ldmVudDpjaGVja0JveEVudGVyXCIsIGVudGVyQ2hlY2ssIHRoaXMuY29tcG9uZW50LmdldENvbXBvbmVudEluZGV4KCkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7XHJcbiAgICBBYnN0cmFjdFZhbGlkYXRvcixcclxuICAgIEVtYWlsVmFsaWRhdG9yLFxyXG4gICAgQ29tcG9uZW50RmFjdG9yeSxcclxuICAgIEV2ZW50UmVnaXN0cnksXHJcbiAgICBDYW52YXNTdHlsZXMsXHJcbiAgICBEYXRhQmluZFJlZ2lzdHJ5LFxyXG4gICAgQ29tcG9uZW50LFxyXG4gICAgSW5wdXRFbGVtZW50RGF0YUJpbmRpbmdcclxufSBmcm9tIFwianVzdHJpZ2h0X2NvcmVfdjFcIjtcclxuaW1wb3J0IHsgTG9nZ2VyLCBPYmplY3RGdW5jdGlvbiB9IGZyb20gXCJjb3JldXRpbF92MVwiO1xyXG5cclxuY29uc3QgTE9HID0gbmV3IExvZ2dlcihcIkVtYWlsSW5wdXRcIik7XHJcblxyXG5leHBvcnQgY2xhc3MgRW1haWxJbnB1dCB7XHJcblxyXG5cdHN0YXRpYyBnZXQgQ09NUE9ORU5UX05BTUUoKSB7IHJldHVybiBcIkVtYWlsSW5wdXRcIjsgfVxyXG4gICAgc3RhdGljIGdldCBURU1QTEFURV9VUkwoKSB7IHJldHVybiBcIi9hc3NldHMvanVzdHJpZ2h0anMtdWkvZW1haWxJbnB1dC5odG1sXCI7IH1cclxuICAgIHN0YXRpYyBnZXQgU1RZTEVTX1VSTCgpIHsgcmV0dXJuIFwiL2Fzc2V0cy9qdXN0cmlnaHRqcy11aS9lbWFpbElucHV0LmNzc1wiOyB9XHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcclxuICAgICAgICAvKiogQHR5cGUge0NvbXBvbmVudEZhY3Rvcnl9ICovXHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRGYWN0b3J5ID0gQ29tcG9uZW50RmFjdG9yeTtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHtFdmVudFJlZ2lzdHJ5fSAqL1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeSA9IEV2ZW50UmVnaXN0cnk7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7RGF0YUJpbmRSZWdpc3RyeX0gKi9cclxuICAgICAgICB0aGlzLmRhdGFCaW5kUmVnaXN0cnkgPSBEYXRhQmluZFJlZ2lzdHJ5O1xyXG5cclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG5cclxuICAgICAgICB0aGlzLnZhbGlkYXRvciA9IG5ldyBFbWFpbFZhbGlkYXRvcigpXHJcbiAgICAgICAgICAgIC53aXRoVmFsaWRMaXN0ZW5lcihuZXcgT2JqZWN0RnVuY3Rpb24odGhpcywgdGhpcy5oaWRlVmFsaWRhdGlvbkVycm9yKSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQ29tcG9uZW50KCkge1xyXG4gICAgICAgIC8qKiBAdHlwZSB7Q29tcG9uZW50fSAqL1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50ID0gdGhpcy5jb21wb25lbnRGYWN0b3J5LmNyZWF0ZShcIkVtYWlsSW5wdXRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcG9zdENvbmZpZygpIHtcclxuICAgICAgICBDYW52YXNTdHlsZXMuZW5hYmxlU3R5bGUoRW1haWxJbnB1dC5DT01QT05FTlRfTkFNRSk7XHJcblxyXG4gICAgICAgIGxldCBpZHggPSB0aGlzLmNvbXBvbmVudC5nZXRDb21wb25lbnRJbmRleCgpO1xyXG4gICAgICAgIGxldCBlbWFpbElucHV0ID0gdGhpcy5jb21wb25lbnQuZ2V0KFwiZW1haWxJbnB1dFwiKTtcclxuICAgICAgICBsZXQgZW1haWxFcnJvciA9IHRoaXMuY29tcG9uZW50LmdldChcImVtYWlsRXJyb3JcIik7XHJcblxyXG4gICAgICAgIGVtYWlsSW5wdXQuc2V0QXR0cmlidXRlVmFsdWUoXCJuYW1lXCIsdGhpcy5uYW1lKTtcclxuXHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5LmF0dGFjaChlbWFpbElucHV0LCBcIm9uYmx1clwiLCBcIi8vZXZlbnQ6ZW1haWxJbnB1dEJsdXJcIiwgaWR4KTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkuYXR0YWNoKGVtYWlsRXJyb3IsIFwib25jbGlja1wiLCBcIi8vZXZlbnQ6ZW1haWxFcnJvckNsaWNrZWRcIiwgaWR4KTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkuYXR0YWNoKGVtYWlsSW5wdXQsIFwib25rZXl1cFwiLCBcIi8vZXZlbnQ6ZW1haWxJbnB1dEVudGVyXCIsIGlkeCk7XHJcblxyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5saXN0ZW4oXCIvL2V2ZW50OmVtYWlsSW5wdXRCbHVyXCIsIG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLCB0aGlzLmVtYWlsSW5wdXRCbHVycmVkKSwgaWR4KTtcclxuXHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5Lmxpc3RlbihcIi8vZXZlbnQ6ZW1haWxFcnJvckNsaWNrZWRcIiwgbmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsIHRoaXMuaGlkZVZhbGlkYXRpb25FcnJvciksIGlkeCk7XHJcblxyXG4gICAgICAgIGxldCBlbnRlckNoZWNrID0gbmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQuZ2V0S2V5Q29kZSgpID09PSAxMyAmJiAhdGhpcy52YWxpZGF0b3IuaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dWYWxpZGF0aW9uRXJyb3IoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0QWxsKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKFwiLy9ldmVudDplbWFpbElucHV0RW50ZXJcIiwgZW50ZXJDaGVjaywgaWR4KTtcclxuXHJcbiAgICAgICAgdGhpcy53aXRoUGxhY2Vob2xkZXIoXCJFbWFpbFwiKTtcclxuICAgIH1cclxuXHJcblx0Z2V0Q29tcG9uZW50KCl7XHJcblx0XHRyZXR1cm4gdGhpcy5jb21wb25lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcmV0dXJucyB7QWJzdHJhY3RWYWxpZGF0b3J9XHJcbiAgICAgKi9cclxuICAgIGdldFZhbGlkYXRvcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52YWxpZGF0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgd2l0aE1vZGVsKG1vZGVsKSB7XHJcbiAgICAgICAgdGhpcy5kYXRhQmluZFJlZ2lzdHJ5LmFkZChcclxuICAgICAgICAgICAgSW5wdXRFbGVtZW50RGF0YUJpbmRpbmdcclxuICAgICAgICAgICAgICAgIC5saW5rKG1vZGVsLCB0aGlzLnZhbGlkYXRvcilcclxuICAgICAgICAgICAgICAgIC50byh0aGlzLmNvbXBvbmVudC5nZXQoXCJlbWFpbElucHV0XCIpKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgd2l0aFBsYWNlaG9sZGVyKHBsYWNlaG9sZGVyVmFsdWUpIHtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudC5nZXQoXCJlbWFpbElucHV0XCIpLnNldEF0dHJpYnV0ZVZhbHVlKFwicGxhY2Vob2xkZXJcIixwbGFjZWhvbGRlclZhbHVlKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICB3aXRoRW50ZXJMaXN0ZW5lcihsaXN0ZW5lcikge1xyXG4gICAgICAgIGxldCBlbnRlckNoZWNrID0gbmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsIChldmVudCkgPT4geyBpZiAoZXZlbnQuZ2V0S2V5Q29kZSgpID09PSAxMyAmJiB0aGlzLnZhbGlkYXRvci5pc1ZhbGlkKCkpIHsgbGlzdGVuZXIuY2FsbCgpOyB9IH0pO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5saXN0ZW4oXCIvL2V2ZW50OmVtYWlsSW5wdXRFbnRlclwiLCBlbnRlckNoZWNrLCB0aGlzLmNvbXBvbmVudC5nZXRDb21wb25lbnRJbmRleCgpKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBlbWFpbElucHV0Qmx1cnJlZCgpIHtcclxuICAgICAgICBpZih0aGlzLnZhbGlkYXRvci5pc1ZhbGlkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5oaWRlVmFsaWRhdGlvbkVycm9yKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93VmFsaWRhdGlvbkVycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNob3dWYWxpZGF0aW9uRXJyb3IoKSB7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQuZ2V0KFwiZW1haWxFcnJvclwiKS5zZXRTdHlsZShcImRpc3BsYXlcIixcImJsb2NrXCIpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBoaWRlVmFsaWRhdGlvbkVycm9yKCkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50LmdldChcImVtYWlsRXJyb3JcIikuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJub25lXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZvY3VzKCkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50LmdldChcImVtYWlsSW5wdXRcIikuZm9jdXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZWxlY3RBbGwoKSB7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQuZ2V0KFwiZW1haWxJbnB1dFwiKS5zZWxlY3RBbGwoKTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgeyBcclxuICAgIEFic3RyYWN0VmFsaWRhdG9yLFxyXG4gICAgUmVxdWlyZWRWYWxpZGF0b3IsXHJcbiAgICBDb21wb25lbnRGYWN0b3J5LFxyXG4gICAgRXZlbnRSZWdpc3RyeSxcclxuICAgIENhbnZhc1N0eWxlcyxcclxuICAgIERhdGFCaW5kUmVnaXN0cnksXHJcbiAgICBDb21wb25lbnQsXHJcbiAgICBJbnB1dEVsZW1lbnREYXRhQmluZGluZyBcclxufSBmcm9tIFwianVzdHJpZ2h0X2NvcmVfdjFcIjtcclxuaW1wb3J0IHsgTG9nZ2VyLCBPYmplY3RGdW5jdGlvbiB9IGZyb20gXCJjb3JldXRpbF92MVwiO1xyXG5cclxuY29uc3QgTE9HID0gbmV3IExvZ2dlcihcIlBhc3N3b3JkSW5wdXRcIik7XHJcblxyXG5leHBvcnQgY2xhc3MgUGFzc3dvcmRJbnB1dCB7XHJcblxyXG5cdHN0YXRpYyBnZXQgQ09NUE9ORU5UX05BTUUoKSB7IHJldHVybiBcIlBhc3N3b3JkSW5wdXRcIjsgfVxyXG4gICAgc3RhdGljIGdldCBURU1QTEFURV9VUkwoKSB7IHJldHVybiBcIi9hc3NldHMvanVzdHJpZ2h0anMtdWkvcGFzc3dvcmRJbnB1dC5odG1sXCI7IH1cclxuICAgIHN0YXRpYyBnZXQgU1RZTEVTX1VSTCgpIHsgcmV0dXJuIFwiL2Fzc2V0cy9qdXN0cmlnaHRqcy11aS9wYXNzd29yZElucHV0LmNzc1wiOyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XHJcbiAgICAgICAgLyoqIEB0eXBlIHtDb21wb25lbnRGYWN0b3J5fSAqL1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50RmFjdG9yeSA9IENvbXBvbmVudEZhY3Rvcnk7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7RXZlbnRSZWdpc3RyeX0gKi9cclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkgPSBFdmVudFJlZ2lzdHJ5O1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge0RhdGFCaW5kUmVnaXN0cnl9ICovXHJcbiAgICAgICAgdGhpcy5kYXRhQmluZFJlZ2lzdHJ5ID0gRGF0YUJpbmRSZWdpc3RyeTtcclxuXHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuXHJcbiAgICAgICAgdGhpcy52YWxpZGF0b3IgPSBuZXcgUmVxdWlyZWRWYWxpZGF0b3IoKVxyXG4gICAgICAgICAgICAud2l0aFZhbGlkTGlzdGVuZXIobmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsIHRoaXMuaGlkZVZhbGlkYXRpb25FcnJvcikpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUNvbXBvbmVudCgpIHtcclxuICAgICAgICAvKiogQHR5cGUge0NvbXBvbmVudH0gKi9cclxuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50RmFjdG9yeS5jcmVhdGUoXCJQYXNzd29yZElucHV0XCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHBvc3RDb25maWcoKSB7XHJcbiAgICAgICAgQ2FudmFzU3R5bGVzLmVuYWJsZVN0eWxlKFBhc3N3b3JkSW5wdXQuQ09NUE9ORU5UX05BTUUpO1xyXG5cclxuICAgICAgICBsZXQgaWR4ID0gdGhpcy5jb21wb25lbnQuZ2V0Q29tcG9uZW50SW5kZXgoKTtcclxuICAgICAgICBsZXQgcGFzc3dvcmRJbnB1dCA9IHRoaXMuY29tcG9uZW50LmdldChcInBhc3N3b3JkSW5wdXRcIik7XHJcbiAgICAgICAgbGV0IHBhc3N3b3JkRXJyb3IgPSB0aGlzLmNvbXBvbmVudC5nZXQoXCJwYXNzd29yZEVycm9yXCIpO1xyXG5cclxuICAgICAgICBwYXNzd29yZElucHV0LnNldEF0dHJpYnV0ZVZhbHVlKFwibmFtZVwiLHRoaXMubmFtZSk7XHJcblxyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5hdHRhY2gocGFzc3dvcmRJbnB1dCwgXCJvbmJsdXJcIiwgXCIvL2V2ZW50OnBhc3N3b3JkSW5wdXRCbHVyXCIsIGlkeCk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5LmF0dGFjaChwYXNzd29yZEVycm9yLCBcIm9uY2xpY2tcIiwgXCIvL2V2ZW50OnBhc3N3b3JkRXJyb3JDbGlja2VkXCIsIGlkeCk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5LmF0dGFjaChwYXNzd29yZElucHV0LCBcIm9ua2V5dXBcIiwgXCIvL2V2ZW50OnBhc3N3b3JkSW5wdXRFbnRlclwiLCBpZHgpO1xyXG5cclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKFwiLy9ldmVudDpwYXNzd29yZElucHV0Qmx1clwiLCBuZXcgT2JqZWN0RnVuY3Rpb24odGhpcywgdGhpcy5wYXNzd29yZElucHV0Qmx1cnJlZCksIGlkeCk7XHJcblxyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5saXN0ZW4oXCIvL2V2ZW50OnBhc3N3b3JkRXJyb3JDbGlja2VkXCIsIG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLCB0aGlzLmhpZGVWYWxpZGF0aW9uRXJyb3IpLCBpZHgpO1xyXG5cclxuICAgICAgICBsZXQgZW50ZXJDaGVjayA9IG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmdldEtleUNvZGUoKSA9PT0gMTMgJiYgIXRoaXMudmFsaWRhdG9yLmlzVmFsaWQoKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93VmFsaWRhdGlvbkVycm9yKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdEFsbCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5Lmxpc3RlbihcIi8vZXZlbnQ6cGFzc3dvcmRJbnB1dEVudGVyXCIsIGVudGVyQ2hlY2ssIHRoaXMuY29tcG9uZW50LmdldENvbXBvbmVudEluZGV4KCkpO1xyXG5cclxuICAgICAgICB0aGlzLndpdGhQbGFjZWhvbGRlcihcIlBhc3N3b3JkXCIpO1xyXG4gICAgfVxyXG5cclxuXHRnZXRDb21wb25lbnQoKXtcclxuXHRcdHJldHVybiB0aGlzLmNvbXBvbmVudDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEByZXR1cm5zIHtBYnN0cmFjdFZhbGlkYXRvcn1cclxuICAgICAqL1xyXG4gICAgZ2V0VmFsaWRhdG9yKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZhbGlkYXRvcjtcclxuICAgIH1cclxuXHJcbiAgICB3aXRoTW9kZWwobW9kZWwpIHtcclxuICAgICAgICB0aGlzLmRhdGFCaW5kUmVnaXN0cnkuYWRkKFxyXG4gICAgICAgICAgICBJbnB1dEVsZW1lbnREYXRhQmluZGluZ1xyXG4gICAgICAgICAgICAgICAgLmxpbmsobW9kZWwsIHRoaXMudmFsaWRhdG9yKVxyXG4gICAgICAgICAgICAgICAgLnRvKHRoaXMuY29tcG9uZW50LmdldChcInBhc3N3b3JkSW5wdXRcIikpXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICB3aXRoUGxhY2Vob2xkZXIocGxhY2Vob2xkZXJWYWx1ZSkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50LmdldChcInBhc3N3b3JkSW5wdXRcIikuc2V0QXR0cmlidXRlVmFsdWUoXCJwbGFjZWhvbGRlclwiLHBsYWNlaG9sZGVyVmFsdWUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHdpdGhFbnRlckxpc3RlbmVyKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgbGV0IGVudGVyQ2hlY2sgPSBuZXcgT2JqZWN0RnVuY3Rpb24odGhpcywoZXZlbnQpID0+IHsgaWYoZXZlbnQuZ2V0S2V5Q29kZSgpID09PSAxMyAmJiB0aGlzLnZhbGlkYXRvci5pc1ZhbGlkKCkpIHsgbGlzdGVuZXIuY2FsbCgpOyB9IH0pO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5saXN0ZW4oXCIvL2V2ZW50OnBhc3N3b3JkSW5wdXRFbnRlclwiLCBlbnRlckNoZWNrLCB0aGlzLmNvbXBvbmVudC5nZXRDb21wb25lbnRJbmRleCgpKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBwYXNzd29yZElucHV0Qmx1cnJlZCgpIHtcclxuICAgICAgICBpZih0aGlzLnZhbGlkYXRvci5pc1ZhbGlkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5oaWRlVmFsaWRhdGlvbkVycm9yKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93VmFsaWRhdGlvbkVycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNob3dWYWxpZGF0aW9uRXJyb3IoKSB7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQuZ2V0KFwicGFzc3dvcmRFcnJvclwiKS5zZXRTdHlsZShcImRpc3BsYXlcIixcImJsb2NrXCIpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBoaWRlVmFsaWRhdGlvbkVycm9yKCkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50LmdldChcInBhc3N3b3JkRXJyb3JcIikuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJub25lXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZvY3VzKCkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50LmdldChcInBhc3N3b3JkSW5wdXRcIikuZm9jdXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZWxlY3RBbGwoKSB7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQuZ2V0KFwicGFzc3dvcmRJbnB1dFwiKS5zZWxlY3RBbGwoKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFxyXG4gICAgQWJzdHJhY3RWYWxpZGF0b3IsXHJcbiAgICBSZXF1aXJlZFZhbGlkYXRvcixcclxuICAgIENvbXBvbmVudEZhY3RvcnksXHJcbiAgICBFdmVudFJlZ2lzdHJ5LFxyXG4gICAgQ2FudmFzU3R5bGVzLFxyXG4gICAgRGF0YUJpbmRSZWdpc3RyeSxcclxuICAgIENvbXBvbmVudCxcclxuICAgIElucHV0RWxlbWVudERhdGFCaW5kaW5nIFxyXG59IGZyb20gXCJqdXN0cmlnaHRfY29yZV92MVwiO1xyXG5pbXBvcnQgeyBMb2dnZXIsIE9iamVjdEZ1bmN0aW9uIH0gZnJvbSBcImNvcmV1dGlsX3YxXCI7XHJcblxyXG5jb25zdCBMT0cgPSBuZXcgTG9nZ2VyKFwiUGFzc3dvcmRNYXRjaGVySW5wdXRcIik7XHJcblxyXG5leHBvcnQgY2xhc3MgUGFzc3dvcmRNYXRjaGVySW5wdXQge1xyXG5cclxuXHRzdGF0aWMgZ2V0IENPTVBPTkVOVF9OQU1FKCkgeyByZXR1cm4gXCJQYXNzd29yZE1hdGNoZXJJbnB1dFwiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFRFTVBMQVRFX1VSTCgpIHsgcmV0dXJuIFwiL2Fzc2V0cy9qdXN0cmlnaHRqcy11aS9wYXNzd29yZE1hdGNoZXJJbnB1dC5odG1sXCI7IH1cclxuICAgIHN0YXRpYyBnZXQgU1RZTEVTX1VSTCgpIHsgcmV0dXJuIFwiL2Fzc2V0cy9qdXN0cmlnaHRqcy11aS9wYXNzd29yZE1hdGNoZXJJbnB1dC5jc3NcIjsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IobmFtZSkge1xyXG4gICAgICAgIC8qKiBAdHlwZSB7Q29tcG9uZW50RmFjdG9yeX0gKi9cclxuICAgICAgICB0aGlzLmNvbXBvbmVudEZhY3RvcnkgPSBDb21wb25lbnRGYWN0b3J5O1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge0V2ZW50UmVnaXN0cnl9ICovXHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5ID0gRXZlbnRSZWdpc3RyeTtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHtEYXRhQmluZFJlZ2lzdHJ5fSAqL1xyXG4gICAgICAgIHRoaXMuZGF0YUJpbmRSZWdpc3RyeSA9IERhdGFCaW5kUmVnaXN0cnk7XHJcblxyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcblxyXG4gICAgICAgIHRoaXMudmFsaWRhdG9yID0gbmV3IFJlcXVpcmVkVmFsaWRhdG9yKClcclxuICAgICAgICAgICAgLndpdGhWYWxpZExpc3RlbmVyKG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLCB0aGlzLmhpZGVWYWxpZGF0aW9uRXJyb3IpKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVDb21wb25lbnQoKSB7XHJcbiAgICAgICAgLyoqIEB0eXBlIHtDb21wb25lbnR9ICovXHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSB0aGlzLmNvbXBvbmVudEZhY3RvcnkuY3JlYXRlKFwiUGFzc3dvcmRNYXRjaGVySW5wdXRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcG9zdENvbmZpZygpIHtcclxuICAgICAgICBDYW52YXNTdHlsZXMuZW5hYmxlU3R5bGUoUGFzc3dvcmRNYXRjaGVySW5wdXQuQ09NUE9ORU5UX05BTUUpO1xyXG5cclxuICAgICAgICBsZXQgaWR4ID0gdGhpcy5jb21wb25lbnQuZ2V0Q29tcG9uZW50SW5kZXgoKTtcclxuICAgICAgICBsZXQgcGFzc3dvcmRNYXRjaGVySW5wdXQgPSB0aGlzLmNvbXBvbmVudC5nZXQoXCJwYXNzd29yZE1hdGNoZXJJbnB1dFwiKTtcclxuICAgICAgICBsZXQgcGFzc3dvcmRNYXRjaGVyRXJyb3IgPSB0aGlzLmNvbXBvbmVudC5nZXQoXCJwYXNzd29yZE1hdGNoZXJFcnJvclwiKTtcclxuXHJcbiAgICAgICAgcGFzc3dvcmRNYXRjaGVySW5wdXQuc2V0QXR0cmlidXRlVmFsdWUoXCJuYW1lXCIsdGhpcy5uYW1lKTtcclxuXHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5LmF0dGFjaChwYXNzd29yZE1hdGNoZXJJbnB1dCwgXCJvbmJsdXJcIiwgXCIvL2V2ZW50OnBhc3N3b3JkTWF0Y2hlcklucHV0Qmx1clwiLCBpZHgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5hdHRhY2gocGFzc3dvcmRNYXRjaGVyRXJyb3IsIFwib25jbGlja1wiLCBcIi8vZXZlbnQ6cGFzc3dvcmRNYXRjaGVyRXJyb3JDbGlja2VkXCIsIGlkeCk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5LmF0dGFjaChwYXNzd29yZE1hdGNoZXJJbnB1dCwgXCJvbmtleXVwXCIsIFwiLy9ldmVudDpwYXNzd29yZE1hdGNoZXJJbnB1dEVudGVyXCIsIGlkeCk7XHJcblxyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5saXN0ZW4oXCIvL2V2ZW50OnBhc3N3b3JkTWF0Y2hlcklucHV0Qmx1clwiLCBuZXcgT2JqZWN0RnVuY3Rpb24odGhpcywgdGhpcy5wYXNzd29yZE1hdGNoZXJJbnB1dEJsdXJyZWQpLCBpZHgpO1xyXG5cclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKFwiLy9ldmVudDpwYXNzd29yZE1hdGNoZXJFcnJvckNsaWNrZWRcIiwgbmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsIHRoaXMuaGlkZVZhbGlkYXRpb25FcnJvciksIGlkeCk7XHJcblxyXG4gICAgICAgIGxldCBlbnRlckNoZWNrID0gbmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQuZ2V0S2V5Q29kZSgpID09PSAxMyAmJiAhdGhpcy52YWxpZGF0b3IuaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dWYWxpZGF0aW9uRXJyb3IoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0QWxsKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKFwiLy9ldmVudDpwYXNzd29yZE1hdGNoZXJJbnB1dEVudGVyXCIsIGVudGVyQ2hlY2ssIHRoaXMuY29tcG9uZW50LmdldENvbXBvbmVudEluZGV4KCkpO1xyXG5cclxuICAgICAgICB0aGlzLndpdGhQbGFjZWhvbGRlcihcIlBhc3N3b3JkXCIsIFwiQ29uZmlybSBwYXNzd29yZFwiKTtcclxuICAgIH1cclxuXHJcblx0Z2V0Q29tcG9uZW50KCl7XHJcblx0XHRyZXR1cm4gdGhpcy5jb21wb25lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcmV0dXJucyB7QWJzdHJhY3RWYWxpZGF0b3J9XHJcbiAgICAgKi9cclxuICAgIGdldFZhbGlkYXRvcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52YWxpZGF0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgd2l0aE1vZGVsKG1vZGVsKSB7XHJcbiAgICAgICAgdGhpcy5kYXRhQmluZFJlZ2lzdHJ5LmFkZChcclxuICAgICAgICAgICAgSW5wdXRFbGVtZW50RGF0YUJpbmRpbmdcclxuICAgICAgICAgICAgICAgIC5saW5rKG1vZGVsLCB0aGlzLnZhbGlkYXRvcilcclxuICAgICAgICAgICAgICAgIC50byh0aGlzLmNvbXBvbmVudC5nZXQoXCJwYXNzd29yZE1hdGNoZXJJbnB1dFwiKSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHdpdGhQbGFjZWhvbGRlcihwbGFjZWhvbGRlclZhbHVlLCBjb250cm9sUGxhY2VIb2xkZXJWYWx1ZSkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50LmdldChcInBhc3N3b3JkTWF0Y2hlcklucHV0XCIpLnNldEF0dHJpYnV0ZVZhbHVlKFwicGxhY2Vob2xkZXJcIixwbGFjZWhvbGRlclZhbHVlKTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudC5nZXQoXCJwYXNzd29yZE1hdGNoZXJDb250cm9sSW5wdXRcIikuc2V0QXR0cmlidXRlVmFsdWUoXCJwbGFjZWhvbGRlclwiLGNvbnRyb2xQbGFjZUhvbGRlclZhbHVlKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICB3aXRoRW50ZXJMaXN0ZW5lcihsaXN0ZW5lcikge1xyXG4gICAgICAgIGxldCBlbnRlckNoZWNrID0gbmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsKGV2ZW50KSA9PiB7IGlmKGV2ZW50LmdldEtleUNvZGUoKSA9PT0gMTMgJiYgdGhpcy52YWxpZGF0b3IuaXNWYWxpZCgpKSB7IGxpc3RlbmVyLmNhbGwoKTsgfSB9KTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKFwiLy9ldmVudDpwYXNzd29yZE1hdGNoZXJJbnB1dEVudGVyXCIsIGVudGVyQ2hlY2ssIHRoaXMuY29tcG9uZW50LmdldENvbXBvbmVudEluZGV4KCkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHBhc3N3b3JkTWF0Y2hlcklucHV0Qmx1cnJlZCgpIHtcclxuICAgICAgICBpZih0aGlzLnZhbGlkYXRvci5pc1ZhbGlkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5oaWRlVmFsaWRhdGlvbkVycm9yKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93VmFsaWRhdGlvbkVycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNob3dWYWxpZGF0aW9uRXJyb3IoKSB7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQuZ2V0KFwicGFzc3dvcmRNYXRjaGVyRXJyb3JcIikuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJibG9ja1wiKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaGlkZVZhbGlkYXRpb25FcnJvcigpIHtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudC5nZXQoXCJwYXNzd29yZE1hdGNoZXJFcnJvclwiKS5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIik7XHJcbiAgICB9XHJcblxyXG4gICAgZm9jdXMoKSB7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQuZ2V0KFwicGFzc3dvcmRNYXRjaGVySW5wdXRcIikuZm9jdXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZWxlY3RBbGwoKSB7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQuZ2V0KFwicGFzc3dvcmRNYXRjaGVySW5wdXRcIikuc2VsZWN0QWxsKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBDb21wb25lbnRGYWN0b3J5LCBFdmVudFJlZ2lzdHJ5LCBDYW52YXNTdHlsZXMsIERhdGFCaW5kUmVnaXN0cnksIENvbXBvbmVudCwgSW5wdXRFbGVtZW50RGF0YUJpbmRpbmcgfSBmcm9tIFwianVzdHJpZ2h0X2NvcmVfdjFcIjtcclxuaW1wb3J0IHsgTG9nZ2VyLCBPYmplY3RGdW5jdGlvbiB9IGZyb20gXCJjb3JldXRpbF92MVwiO1xyXG5cclxuY29uc3QgTE9HID0gbmV3IExvZ2dlcihcIlRleHRJbnB1dFwiKTtcclxuXHJcbmV4cG9ydCBjbGFzcyBUZXh0SW5wdXQge1xyXG5cclxuXHRzdGF0aWMgZ2V0IENPTVBPTkVOVF9OQU1FKCkgeyByZXR1cm4gXCJUZXh0SW5wdXRcIjsgfVxyXG4gICAgc3RhdGljIGdldCBURU1QTEFURV9VUkwoKSB7IHJldHVybiBcIi9hc3NldHMvanVzdHJpZ2h0anMtdWkvdGV4dElucHV0Lmh0bWxcIjsgfVxyXG4gICAgc3RhdGljIGdldCBTVFlMRVNfVVJMKCkgeyByZXR1cm4gXCIvYXNzZXRzL2p1c3RyaWdodGpzLXVpL3RleHRJbnB1dC5jc3NcIjsgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcclxuICAgICAgICAvKiogQHR5cGUge0NvbXBvbmVudEZhY3Rvcnl9ICovXHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRGYWN0b3J5ID0gQ29tcG9uZW50RmFjdG9yeTtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHtFdmVudFJlZ2lzdHJ5fSAqL1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeSA9IEV2ZW50UmVnaXN0cnk7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7RGF0YUJpbmRSZWdpc3RyeX0gKi9cclxuICAgICAgICB0aGlzLmRhdGFCaW5kUmVnaXN0cnkgPSBEYXRhQmluZFJlZ2lzdHJ5O1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUNvbXBvbmVudCgpIHtcclxuICAgICAgICAvKiogQHR5cGUge0NvbXBvbmVudH0gKi9cclxuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50RmFjdG9yeS5jcmVhdGUoXCJUZXh0SW5wdXRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcG9zdENvbmZpZygpIHtcclxuICAgICAgICBDYW52YXNTdHlsZXMuZW5hYmxlU3R5bGUoVGV4dElucHV0LkNPTVBPTkVOVF9OQU1FKTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudC5nZXQoXCJ0ZXh0SW5wdXRcIikuc2V0QXR0cmlidXRlVmFsdWUoXCJuYW1lXCIsIHRoaXMubmFtZSk7XHJcbiAgICB9XHJcblxyXG5cdGdldENvbXBvbmVudCgpe1xyXG5cdFx0cmV0dXJuIHRoaXMuY29tcG9uZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHdpdGhNb2RlbChtb2RlbCwgdmFsaWRhdG9yKSB7XHJcbiAgICAgICAgdGhpcy5kYXRhQmluZFJlZ2lzdHJ5XHJcbiAgICAgICAgICAgIC5hZGQoSW5wdXRFbGVtZW50RGF0YUJpbmRpbmcubGluayhtb2RlbCwgdmFsaWRhdG9yKS50byh0aGlzLmNvbXBvbmVudC5nZXQoXCJ0ZXh0SW5wdXRcIikpKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICB3aXRoUGxhY2Vob2xkZXIocGxhY2Vob2xkZXJWYWx1ZSkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50LmdldChcInRleHRJbnB1dFwiKS5zZXRBdHRyaWJ1dGVWYWx1ZShcInBsYWNlaG9sZGVyXCIsIHBsYWNlaG9sZGVyVmFsdWUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHdpdGhDbGlja0xpc3RlbmVyKGNsaWNrTGlzdGVuZXIpIHtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkuYXR0YWNoKHRoaXMuY29tcG9uZW50LmdldChcInRleHRJbnB1dFwiKSwgXCJvbmNsaWNrXCIsIFwiLy9ldmVudDp0ZXh0SW5wdXRDbGlja2VkXCIsIHRoaXMuY29tcG9uZW50LmdldENvbXBvbmVudEluZGV4KCkpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5saXN0ZW4oXCIvL2V2ZW50OnRleHRJbnB1dENsaWNrZWRcIiwgY2xpY2tMaXN0ZW5lciwgdGhpcy5jb21wb25lbnQuZ2V0Q29tcG9uZW50SW5kZXgoKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgd2l0aEVudGVyTGlzdGVuZXIobGlzdGVuZXIpIHtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkuYXR0YWNoKHRoaXMuY29tcG9uZW50LmdldChcInRleHRJbnB1dFwiKSwgXCJvbmtleXVwXCIsIFwiLy9ldmVudDp0ZXh0SW5wdXRFbnRlclwiLCB0aGlzLmNvbXBvbmVudC5nZXRDb21wb25lbnRJbmRleCgpKTtcclxuICAgICAgICBsZXQgZW50ZXJDaGVjayA9IG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLCAoZXZlbnQpID0+IHsgaWYgKGV2ZW50LmdldEtleUNvZGUoKSA9PT0gMTMpIHsgbGlzdGVuZXIuY2FsbCgpOyB9IH0pO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5saXN0ZW4oXCIvL2V2ZW50OnRleHRJbnB1dEVudGVyXCIsIGVudGVyQ2hlY2ssIHRoaXMuY29tcG9uZW50LmdldENvbXBvbmVudEluZGV4KCkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxufSJdLCJuYW1lcyI6WyJMT0ciLCJMb2dnZXIiLCJCYWNrU2hhZGUiLCJDT01QT05FTlRfTkFNRSIsIlRFTVBMQVRFX1VSTCIsIlNUWUxFU19VUkwiLCJbb2JqZWN0IE9iamVjdF0iLCJ0aGlzIiwiZXZlbnRSZWdpc3RyeSIsIkV2ZW50UmVnaXN0cnkiLCJjb21wb25lbnRGYWN0b3J5IiwiQ29tcG9uZW50RmFjdG9yeSIsImluZm8iLCJjb21wb25lbnQiLCJjcmVhdGUiLCJjbGlja2VkTGlzdGVuZXIiLCJhdHRhY2giLCJnZXQiLCJnZXRDb21wb25lbnRJbmRleCIsImxpc3RlbiIsIm1pbGxpU2Vjb25kcyIsIm1vdW50U2VsZiIsImdldENvbXBvbmVudCIsInNldEF0dHJpYnV0ZVZhbHVlIiwic2V0VGltZW91dCIsInNldFN0eWxlIiwiQ2FudmFzU3R5bGVzIiwiZGlzYWJsZVN0eWxlIiwiZGlzYWJsZUFmdGVyIiwiZW5hYmxlU3R5bGUiLCJnZXRSb290RWxlbWVudCIsImlzTW91bnRlZCIsIkNhbnZhc1Jvb3QiLCJhZGRCb2R5RWxlbWVudCIsInJlbW92ZSIsIkJ1dHRvbiIsIlRZUEVfUFJJTUFSWSIsIlRZUEVfU0VDT05EQVJZIiwiVFlQRV9TVUNDRVNTIiwiVFlQRV9JTkZPIiwiVFlQRV9XQVJOSU5HIiwiVFlQRV9EQU5HRVIiLCJUWVBFX0xJR0hUIiwiVFlQRV9EQVJLIiwibGFiZWwiLCJidXR0b25UeXBlIiwic2V0Q2hpbGQiLCJjbGlja0xpc3RlbmVyIiwicmVtb3ZlQXR0cmlidXRlIiwiRGlhbG9nQm94IiwiaW5qZWN0b3IiLCJJbmplY3RvciIsImJhY2tTaGFkZSIsInN0eWxlc1JlZ2lzdHJ5IiwiU3R5bGVzUmVnaXN0cnkiLCJPYmplY3RGdW5jdGlvbiIsImhpZGUiLCJ0ZXh0Iiwia2V5IiwidmFsIiwic2V0IiwiaW5pdEJhY2tTaGFkZSIsImVuYWJsZSIsInByb3RvdHlwZUluc3RhbmNlIiwid2l0aENsaWNrTGlzdGVuZXIiLCJyZW1vdmVTdHlsZSIsInJlbW92ZVNlbGYiLCJDaGVja0JveCIsIm5hbWUiLCJkYXRhQmluZFJlZ2lzdHJ5IiwiRGF0YUJpbmRSZWdpc3RyeSIsIm1vZGVsIiwidmFsaWRhdG9yIiwiYWRkIiwiSW5wdXRFbGVtZW50RGF0YUJpbmRpbmciLCJsaW5rIiwidG8iLCJsaXN0ZW5lciIsImVudGVyQ2hlY2siLCJldmVudCIsImdldEtleUNvZGUiLCJjYWxsIiwiRW1haWxJbnB1dCIsIkVtYWlsVmFsaWRhdG9yIiwid2l0aFZhbGlkTGlzdGVuZXIiLCJoaWRlVmFsaWRhdGlvbkVycm9yIiwiaWR4IiwiZW1haWxJbnB1dCIsImVtYWlsRXJyb3IiLCJlbWFpbElucHV0Qmx1cnJlZCIsImlzVmFsaWQiLCJzaG93VmFsaWRhdGlvbkVycm9yIiwic2VsZWN0QWxsIiwid2l0aFBsYWNlaG9sZGVyIiwicGxhY2Vob2xkZXJWYWx1ZSIsImZvY3VzIiwiUGFzc3dvcmRJbnB1dCIsIlJlcXVpcmVkVmFsaWRhdG9yIiwicGFzc3dvcmRJbnB1dCIsInBhc3N3b3JkRXJyb3IiLCJwYXNzd29yZElucHV0Qmx1cnJlZCIsIlBhc3N3b3JkTWF0Y2hlcklucHV0IiwicGFzc3dvcmRNYXRjaGVySW5wdXQiLCJwYXNzd29yZE1hdGNoZXJFcnJvciIsInBhc3N3b3JkTWF0Y2hlcklucHV0Qmx1cnJlZCIsImNvbnRyb2xQbGFjZUhvbGRlclZhbHVlIiwiVGV4dElucHV0Il0sIm1hcHBpbmdzIjoic0xBU0EsTUFBTUEsS0FBTSxHQUFJQyxvQkFBTyxrQkFFVkMsV0FFWkMsNEJBQThCLE1BQU8sWUFDckNDLDBCQUE0QixNQUFPLHdDQUNoQ0Msd0JBQTBCLE1BQU8sdUNBS2pDQyxjQUdJQyxLQUFLQyxjQUFnQkMsZ0NBR3JCRixLQUFLRyxpQkFBbUJDLG1DQUc1Qkwsa0JBQ0lOLElBQUlZLEtBQUssc0JBQ1RMLEtBQUtNLFVBQVlOLEtBQUtHLGlCQUFpQkksT0FBTyxhQUdsRFIsY0FPSEEsZUFDQyxNQUFPQyxNQUFLTSxVQU9WUCxrQkFBa0JTLEdBR2QsTUFGQVIsTUFBS0MsY0FBY1EsT0FBT1QsS0FBS00sVUFBVUksSUFBSSxhQUFjLFVBQVcsMkJBQTRCVixLQUFLTSxVQUFVSyxxQkFDakhYLEtBQUtDLGNBQWNXLE9BQU8sMkJBQTRCSixFQUFpQlIsS0FBS00sVUFBVUsscUJBQy9FWCxLQUdYRCxhQUFhYyxHQUNUYixLQUFLYyxZQUNMZCxLQUFLZSxlQUFlTCxJQUFJLGFBQWFNLGtCQUFrQixRQUFTLG1CQUNoRUMsZ0JBQ0lqQixLQUFLZSxlQUFlTCxJQUFJLGFBQWFRLFNBQVMsVUFBVyxTQUMxREwsR0FDSEksZ0JBQ0lFLCtCQUFhQyxhQUFhekIsVUFBVUMsaUJBQ3JDaUIsRUFBZSxHQUd0QmQsVUFDSUMsS0FBS3FCLGFBQWEsS0FHdEJ0QixTQUNJb0IsK0JBQWFHLFlBQVkzQixVQUFVQyxnQkFDbkNJLEtBQUtjLFlBQ0xkLEtBQUtlLGVBQWVMLElBQUksYUFBYVEsU0FBUyxVQUFXLFNBQ3pERCxnQkFDSWpCLEtBQUtlLGVBQWVMLElBQUksYUFBYU0sa0JBQWtCLFFBQVMseUJBQ2pFLEtBR1BqQixZQUNRQyxLQUFLZSxlQUFlUSxpQkFBaUJDLGFBQ3JDQyw2QkFBV0MsZUFBZTFCLEtBQUtlLGVBQWVRLGtCQUl0RHhCLGFB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
