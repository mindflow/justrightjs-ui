import{EventRegistry,ComponentFactory,CanvasStyles,CanvasRoot,StylesRegistry,InputElementDataBinding,EmailValidator,RequiredValidator,PasswordValidator,EqualsValidator,AndValidatorSet}from"./justright_core_v1.js";import{Logger,ObjectFunction}from"./coreutil_v1.js";import{InjectionPoint}from"./mindi_v1.js";const LOG=new Logger("BackShade");class BackShade{static get COMPONENT_NAME(){return"BackShade"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/backShade.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/backShade.css"}constructor(){this.eventRegistry=InjectionPoint.instance(EventRegistry),this.componentFactory=InjectionPoint.instance(ComponentFactory)}postConfig(){LOG.info("Post config"),this.component=this.componentFactory.create("BackShade")}getComponent(){return this.component}withClickListener(t){return this.eventRegistry.attach(this.component.get("backShade"),"onclick","//event:backShadeClicked",this.component.getComponentIndex()),this.eventRegistry.listen("//event:backShadeClicked",t,this.component.getComponentIndex()),this}disableAfter(t){this.mountSelf(),this.getComponent().get("backShade").setAttributeValue("class","back-shade fade"),setTimeout(()=>{this.getComponent().get("backShade").setStyle("display","none")},t),setTimeout(()=>{CanvasStyles.disableStyle(BackShade.COMPONENT_NAME)},t+1)}disable(){this.disableAfter(500)}enable(){CanvasStyles.enableStyle(BackShade.COMPONENT_NAME),this.mountSelf(),this.getComponent().get("backShade").setStyle("display","block"),setTimeout(()=>{this.getComponent().get("backShade").setAttributeValue("class","back-shade fade show")},100)}mountSelf(){this.getComponent().getRootElement().isMounted()||CanvasRoot.addBodyElement(this.getComponent().getRootElement())}removeSelf(){this.getComponent().remove()}}const LOG$1=new Logger("Button");class Button{static get COMPONENT_NAME(){return"Button"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/button.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/button.css"}static get TYPE_PRIMARY(){return"btn-primary"}static get TYPE_SECONDARY(){return"btn-secondary"}static get TYPE_SUCCESS(){return"btn-success"}static get TYPE_INFO(){return"btn-info"}static get TYPE_WARNING(){return"btn-warning"}static get TYPE_DANGER(){return"btn-danger"}static get TYPE_LIGHT(){return"btn-light"}static get TYPE_DARK(){return"btn-dark"}constructor(t,e=Button.TYPE_PRIMARY){this.label=t,this.componentFactory=InjectionPoint.instance(ComponentFactory),this.buttonType=e,this.eventRegistry=InjectionPoint.instance(EventRegistry)}postConfig(){this.component=this.componentFactory.create("Button"),CanvasStyles.enableStyle(Button.COMPONENT_NAME),this.component.get("button").setChild(this.label),this.component.get("button").setAttributeValue("class","btn "+this.buttonType)}getComponent(){return this.component}withClickListener(t){return this.eventRegistry.attach(this.component.get("button"),"onclick","//event:buttonClicked",this.component.getComponentIndex()),this.eventRegistry.listen("//event:buttonClicked",t,this.component.getComponentIndex()),this}disable(){this.getComponent().get("button").setAttributeValue("disabled","true")}enable(){this.getComponent().get("button").removeAttribute("disabled")}}const LOG$2=new Logger("DialogBox");class DialogBox{static get COMPONENT_NAME(){return"DialogBox"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/dialogBox.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/dialogBox.css"}constructor(){this.eventRegistry=InjectionPoint.instance(EventRegistry),this.componentFactory=InjectionPoint.instance(ComponentFactory),this.component=null,this.backShade=InjectionPoint.instance(BackShade),this.stylesRegistry=InjectionPoint.instance(StylesRegistry)}postConfig(){LOG$2.info("Post config"),this.component=this.componentFactory.create("DialogBox"),this.eventRegistry.attach(this.component.get("closeButton"),"onclick","//event:closeClicked",this.component.getComponentIndex()),this.eventRegistry.listen("//event:closeClicked",new ObjectFunction(this,this.hide),this.component.getComponentIndex()),this.backShade=this.backShade.withClickListener(new ObjectFunction(this,this.hide))}getComponent(){return this.component}setTitle(t){this.getComponent().setChild("title",t)}setFooter(t){this.getComponent().get("footer").setStyle("display","block"),this.getComponent().setChild("footer",t)}setContent(t){this.getComponent().setChild("content",t)}set(t,e){this.getComponent().set(t,e)}hide(){this.backShade.mountSelf(),this.mountSelf(),this.getComponent().get("dialogBox").setAttributeValue("class","dialogbox fade"),setTimeout(()=>{this.getComponent().get("dialogBox").setStyle("display","none");this.backShade.disableAfter(500)},200),setTimeout(()=>{CanvasStyles.disableStyle(DialogBox.COMPONENT_NAME)},201)}show(){CanvasStyles.enableStyle(DialogBox.COMPONENT_NAME),this.backShade.mountSelf(),this.mountSelf(),this.backShade.enable(),this.getComponent().get("dialogBox").setStyle("display","block"),setTimeout(()=>{this.getComponent().get("dialogBox").setAttributeValue("class","dialogbox fade show")},100)}mountSelf(){this.getComponent().getRootElement().isMounted()||CanvasRoot.addBodyElement(this.getComponent().getRootElement())}removeSelf(){CanvasStyles.removeStyle(DialogBox.COMPONENT_NAME),this.getComponent().removeSelf()}}const LOG$3=new Logger("CheckBox");class CheckBox{static get COMPONENT_NAME(){return"CheckBox"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/checkBox.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/checkBox.css"}constructor(t){this.componentFactory=InjectionPoint.instance(ComponentFactory),this.eventRegistry=InjectionPoint.instance(EventRegistry),this.name=t}postConfig(){this.component=this.componentFactory.create("CheckBox"),CanvasStyles.enableStyle(CheckBox.COMPONENT_NAME),this.component.get("checkBox").setAttributeValue("name",this.name)}getComponent(){return this.component}withModel(t,e){return InputElementDataBinding.link(t,e).to(this.component.get("checkBox")),this}withClickListener(t){return this.eventRegistry.attach(this.component.get("checkBox"),"onclick","//event:checkBoxClicked",this.component.getComponentIndex()),this.eventRegistry.listen("//event:checkBoxClicked",t,this.component.getComponentIndex()),this}withEnterListener(t){this.eventRegistry.attach(this.component.get("checkBox"),"onkeyup","//event:checkBoxEnter",this.component.getComponentIndex());let e=new ObjectFunction(this,e=>{13===e.getKeyCode()&&t.call()});return this.eventRegistry.listen("//event:checkBoxEnter",e,this.component.getComponentIndex()),this}}const LOG$4=new Logger("EmailInput"),BLUR_EVENT="//event:emailInputBlur",KEYUP_EVENT="//event:emailInputKeyUp",CHANGE_EVENT="//event:emailInputChange",ERROR_CLICK_EVENT="//event:emailErrorClicked";class EmailInput{static get COMPONENT_NAME(){return"EmailInput"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/emailInput.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/emailInput.css"}constructor(t){this.componentFactory=InjectionPoint.instance(ComponentFactory),this.eventRegistry=InjectionPoint.instance(EventRegistry),this.name=t,this.validator=(new EmailValidator).withValidListener(new ObjectFunction(this,this.hideValidationError)),this.changed=!1}postConfig(){this.component=this.componentFactory.create("EmailInput"),CanvasStyles.enableStyle(EmailInput.COMPONENT_NAME);const t=this.component.getComponentIndex(),e=this.component.get("emailInput"),n=this.component.get("emailError");e.setAttributeValue("name",this.name),this.eventRegistry.attach(e,"onblur",BLUR_EVENT,t),this.eventRegistry.attach(e,"onkeyup",KEYUP_EVENT,t),this.eventRegistry.attach(e,"onchange",CHANGE_EVENT,t),this.eventRegistry.attach(n,"onclick",ERROR_CLICK_EVENT,t),this.eventRegistry.listen(BLUR_EVENT,new ObjectFunction(this,this.blurred),t),this.eventRegistry.listen(KEYUP_EVENT,new ObjectFunction(this,this.keyUp),t),this.eventRegistry.listen(CHANGE_EVENT,new ObjectFunction(this,this.change),t),this.eventRegistry.listen(ERROR_CLICK_EVENT,new ObjectFunction(this,this.hideValidationError),t),this.withPlaceholder("Email")}getComponent(){return this.component}change(){this.changed=!0}keyUp(t){if(this.changed=!0,13===t.getKeyCode())return this.validator.isValid()?void(this.enterListener&&this.enterListener.call()):(this.showValidationError(),void this.selectAll())}getValidator(){return this.validator}withModel(t){return InputElementDataBinding.link(t,this.validator).to(this.component.get("emailInput")),this}withPlaceholder(t){return this.component.get("emailInput").setAttributeValue("placeholder",t),this}withEnterListener(t){return this.enterListener=t,this}blurred(){if(this.changed)return this.validator.isValid()?void this.hideValidationError():void this.showValidationError()}showValidationError(){this.component.get("emailError").setStyle("display","block")}hideValidationError(){this.component.get("emailError").setStyle("display","none")}focus(){this.component.get("emailInput").focus()}selectAll(){this.component.get("emailInput").selectAll()}enable(){this.component.get("emailInput").enable()}disable(){this.component.get("emailInput").disable()}}const LOG$5=new Logger("PasswordInput"),INPUT="passwordInput",ERROR="passwordError",BLUR_EVENT$1="//event:passwordInputBlur",KEYUP_EVENT$1="//event:passwordInputKeyUp",CHANGE_EVENT$1="//event:passwordInputChange",ERROR_CLICK_EVENT$1="//event:passwordErrorClicked";class PasswordInput{static get COMPONENT_NAME(){return"PasswordInput"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/passwordInput.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/passwordInput.css"}constructor(t){this.componentFactory=InjectionPoint.instance(ComponentFactory),this.eventRegistry=InjectionPoint.instance(EventRegistry),this.name=t,this.validator=(new RequiredValidator).withValidListener(new ObjectFunction(this,this.hideValidationError)),this.changed=!1}postConfig(){this.component=this.componentFactory.create("PasswordInput"),CanvasStyles.enableStyle(PasswordInput.COMPONENT_NAME);const t=this.component.getComponentIndex(),e=this.component.get(INPUT),n=this.component.get(ERROR);e.setAttributeValue("name",this.name),this.eventRegistry.attach(e,"onblur",BLUR_EVENT$1,t),this.eventRegistry.attach(e,"onkeyup",KEYUP_EVENT$1,t),this.eventRegistry.attach(e,"onchange",CHANGE_EVENT$1,t),this.eventRegistry.attach(n,"onclick",ERROR_CLICK_EVENT$1,t),this.eventRegistry.listen(BLUR_EVENT$1,new ObjectFunction(this,this.passwordInputBlurred),t),this.eventRegistry.listen(KEYUP_EVENT$1,new ObjectFunction(this,this.keyUp),t),this.eventRegistry.listen(CHANGE_EVENT$1,new ObjectFunction(this,this.change),t),this.eventRegistry.listen(ERROR_CLICK_EVENT$1,new ObjectFunction(this,this.hideValidationError),t),this.withPlaceholder("Password")}getComponent(){return this.component}change(){this.changed=!0}keyUp(t){if(this.changed=!0,13===t.getKeyCode())return this.validator.isValid()?void(this.enterListener&&this.enterListener.call()):(this.showValidationError(),void this.selectAll())}getValidator(){return this.validator}withModel(t){return InputElementDataBinding.link(t,this.validator).to(this.component.get(INPUT)),this}withPlaceholder(t){return this.component.get(INPUT).setAttributeValue("placeholder",t),this}withEnterListener(t){return this.enterListener=t,this}passwordInputBlurred(){if(this.changed)return this.validator.isValid()?void this.hideValidationError():void this.showValidationError()}showValidationError(){this.component.get(ERROR).setStyle("display","block")}hideValidationError(){this.component.get(ERROR).setStyle("display","none")}focus(){this.component.get(INPUT).focus()}selectAll(){this.component.get(INPUT).selectAll()}enable(){this.component.get(INPUT).enable()}disable(){this.component.get(INPUT).disable()}}const LOG$6=new Logger("PasswordMatcherInput"),INPUT$1="passwordMatcherInput",CONTROL_INPUT="passwordMatcherControlInput",ERROR$1="passwordMatcherError",CONTROL_ERROR="passwordMatcherControlError",BLUR_EVENT$2="//event:passwordMatcherInputBlur",KEYUP_EVENT$2="//event:passwordMatcherInputKeyUp",CHANGE_EVENT$2="//event:passwordMatcherInputChange",ERROR_CLICK_EVENT$2="//event:passwordMatcherErrorClicked",CONTROL_BLUR_EVENT="//event:passwordMatcherControlInputBlur",CONTROL_KEYUP_EVENT="//event:passwordMatcherControlInputKeyUp",CONTROL_CHANGE_EVENT="//event:passwordMatcherControlInputChange",CONTROL_ERROR_CLICK_EVENT="//event:passwordMatcherControlErrorClicked";class PasswordMatcherInput{static get COMPONENT_NAME(){return"PasswordMatcherInput"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/passwordMatcherInput.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/passwordMatcherInput.css"}constructor(t){this.componentFactory=InjectionPoint.instance(ComponentFactory),this.eventRegistry=InjectionPoint.instance(EventRegistry),this.name=t,this.passwordValidator=(new PasswordValidator).withValidListener(new ObjectFunction(this,this.hidePasswordValidationError)),this.controlValidator=(new EqualsValidator).withValidListener(new ObjectFunction(this,this.hideControlValidationError)),this.validator=(new AndValidatorSet).withValidator(this.passwordValidator).withValidator(this.controlValidator),this.changed=!1,this.controlChanged=!1}postConfig(){this.component=this.componentFactory.create("PasswordMatcherInput"),CanvasStyles.enableStyle(PasswordMatcherInput.COMPONENT_NAME);const t=this.component.getComponentIndex(),e=this.component.get(INPUT$1),n=this.component.get(ERROR$1),i=this.component.get(CONTROL_INPUT),o=this.component.get(CONTROL_ERROR);e.setAttributeValue("name",this.name),this.eventRegistry.attach(e,"onblur",BLUR_EVENT$2,t),this.eventRegistry.attach(e,"onkeyup",KEYUP_EVENT$2,t),this.eventRegistry.attach(e,"onchange",CHANGE_EVENT$2,t),this.eventRegistry.attach(n,"onclick",ERROR_CLICK_EVENT$2,t),this.eventRegistry.attach(i,"onblur",CONTROL_BLUR_EVENT,t),this.eventRegistry.attach(i,"onkeyup",CONTROL_KEYUP_EVENT,t),this.eventRegistry.attach(i,"onchange",CONTROL_CHANGE_EVENT,t),this.eventRegistry.attach(o,"onclick",CONTROL_ERROR_CLICK_EVENT,t),this.eventRegistry.listen(BLUR_EVENT$2,new ObjectFunction(this,this.blur),t),this.eventRegistry.listen(KEYUP_EVENT$2,new ObjectFunction(this,this.keyUp),t),this.eventRegistry.listen(CHANGE_EVENT$2,new ObjectFunction(this,this.change),t),this.eventRegistry.listen(ERROR_CLICK_EVENT$2,new ObjectFunction(this,this.hidePasswordValidationError),t),this.eventRegistry.listen(CONTROL_BLUR_EVENT,new ObjectFunction(this,this.controlBlur),t),this.eventRegistry.listen(CONTROL_KEYUP_EVENT,new ObjectFunction(this,this.controlKeyUp),t),this.eventRegistry.listen(CONTROL_CHANGE_EVENT,new ObjectFunction(this,this.controlChange),t),this.eventRegistry.listen(CONTROL_ERROR_CLICK_EVENT,new ObjectFunction(this,this.hideControlValidationError),t),this.withPlaceholder("Password","Confirm password")}controlChange(){this.changed=!0}controlKeyUp(t){if(""!==this.component.get(CONTROL_INPUT).getValue()&&(this.controlChanged=!0),13===t.getKeyCode())return this.controlValidator.isValid()?void(this.enterListener&&this.enterListener.call()):(this.showControlValidationError(),void this.selectAllControl())}change(){this.component.get(CONTROL_INPUT).getValue()!==this.component.get(INPUT$1).getValue()&&this.component.get(CONTROL_INPUT).setValue(""),this.changed=!0}keyUp(t){if(""!==this.component.get(INPUT$1).getValue()&&(this.changed=!0),this.controlValidator.setValue(this.component.get(INPUT$1).getValue()),this.controlValidator.validate(this.component.get(CONTROL_INPUT).getValue()),13===t.getKeyCode()){if(!this.passwordValidator.isValid())return this.showPasswordValidationError(),void this.selectAll();this.focusControl(),this.selectAllControl()}}getComponent(){return this.component}getValidator(){return this.validator}withModel(t){return InputElementDataBinding.link(t,this.passwordValidator).to(this.component.get(INPUT$1)),InputElementDataBinding.link(t,this.controlValidator).to(this.component.get(CONTROL_INPUT)),this}withPlaceholder(t,e){return this.component.get(INPUT$1).setAttributeValue("placeholder",t),this.component.get(CONTROL_INPUT).setAttributeValue("placeholder",e),this}withEnterListener(t){return this.enterListener=t,this}controlBlur(){if(this.controlChanged)return this.controlValidator.isValid()?void this.hideControlValidationError():void this.showControlValidationError()}blur(){if(this.changed)return this.passwordValidator.isValid()?void this.hidePasswordValidationError():void this.showPasswordValidationError()}showPasswordValidationError(){this.component.get(ERROR$1).setStyle("display","block")}hidePasswordValidationError(){this.component.get(ERROR$1).setStyle("display","none")}showControlValidationError(){this.component.get(CONTROL_ERROR).setStyle("display","block")}hideControlValidationError(){this.component.get(CONTROL_ERROR).setStyle("display","none")}focus(){this.component.get(INPUT$1).focus()}focusControl(){this.component.get(CONTROL_INPUT).focus()}selectAll(){this.component.get(INPUT$1).selectAll()}selectAllControl(){this.component.get(CONTROL_INPUT).selectAll()}enable(){this.component.get(INPUT$1).enable()}disable(){this.component.get(INPUT$1).disable()}enableControl(){this.component.get(CONTROL_INPUT).enable()}disableControl(){this.component.get(CONTROL_INPUT).disable()}}const LOG$7=new Logger("TextInput"),KEYUP_EVENT$3="//event:textInputKeyUp",CLICK_EVENT="//event:textInputClicked";class TextInput{static get COMPONENT_NAME(){return"TextInput"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/textInput.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/textInput.css"}constructor(t){this.componentFactory=ComponentFactory,this.eventRegistry=EventRegistry,this.name=t;const e=this.component.getComponentIndex(),n=this.component.get("textInput");this.eventRegistry.attach(n,"onkeyup",KEYUP_EVENT$3,e),this.eventRegistry.attach(n,"onclick",CLICK_EVENT,e),this.eventRegistry.listen(KEYUP_EVENT$3,new ObjectFunction(this,this.keyUp),e),this.eventRegistry.listen(CLICK_EVENT,new ObjectFunction(this,this.click),e)}keyUp(t){13===t.getKeyCode()&&this.enterListener&&this.enterListener.call()}click(t){this.clickListener&&this.clickListener.call()}postConfig(){this.component=this.componentFactory.create("TextInput"),CanvasStyles.enableStyle(TextInput.COMPONENT_NAME),this.component.get("textInput").setAttributeValue("name",this.name)}getComponent(){return this.component}withModel(t,e){return InputElementDataBinding.link(t,e).to(this.component.get("textInput")),this}withPlaceholder(t){return this.component.get("textInput").setAttributeValue("placeholder",t),this}withClickListener(t){return this.clickListener=t,this}withEnterListener(t){return this.enterListener=t,this}}export{BackShade,Button,CheckBox,DialogBox,EmailInput,PasswordInput,PasswordMatcherInput,TextInput};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianVzdHJpZ2h0X3VpX3YxLmpzIiwic291cmNlcyI6WyIuLi8uLi9zcmMvanVzdHJpZ2h0L2NvbXBvbmVudC9iYWNrU2hhZGUvYmFja1NoYWRlLmpzIiwiLi4vLi4vc3JjL2p1c3RyaWdodC9jb21wb25lbnQvYnV0dG9uL2J1dHRvbi5qcyIsIi4uLy4uL3NyYy9qdXN0cmlnaHQvY29tcG9uZW50L2RpYWxvZ0JveC9kaWFsb2dCb3guanMiLCIuLi8uLi9zcmMvanVzdHJpZ2h0L2NvbXBvbmVudC9pbnB1dC9jaGVja0JveC9jaGVja0JveC5qcyIsIi4uLy4uL3NyYy9qdXN0cmlnaHQvY29tcG9uZW50L2lucHV0L2VtYWlsSW5wdXQvZW1haWxJbnB1dC5qcyIsIi4uLy4uL3NyYy9qdXN0cmlnaHQvY29tcG9uZW50L2lucHV0L3Bhc3N3b3JkSW5wdXQvcGFzc3dvcmRJbnB1dC5qcyIsIi4uLy4uL3NyYy9qdXN0cmlnaHQvY29tcG9uZW50L2lucHV0L3Bhc3N3b3JkTWF0Y2hlcklucHV0L3Bhc3N3b3JkTWF0Y2hlcklucHV0LmpzIiwiLi4vLi4vc3JjL2p1c3RyaWdodC9jb21wb25lbnQvaW5wdXQvdGV4dElucHV0L3RleHRJbnB1dC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gICAgQ29tcG9uZW50LFxyXG4gICAgQ29tcG9uZW50RmFjdG9yeSxcclxuICAgIEV2ZW50UmVnaXN0cnksXHJcbiAgICBDYW52YXNTdHlsZXMsXHJcbiAgICBDYW52YXNSb290XHJcbn0gZnJvbSBcImp1c3RyaWdodF9jb3JlX3YxXCI7XHJcbmltcG9ydCB7IExvZ2dlciwgT2JqZWN0RnVuY3Rpb24gfSBmcm9tIFwiY29yZXV0aWxfdjFcIjtcclxuaW1wb3J0IHsgSW5qZWN0aW9uUG9pbnQgfSBmcm9tIFwibWluZGlfdjFcIjtcclxuXHJcbmNvbnN0IExPRyA9IG5ldyBMb2dnZXIoXCJCYWNrU2hhZGVcIik7XHJcblxyXG5leHBvcnQgY2xhc3MgQmFja1NoYWRlIHtcclxuXHJcblx0c3RhdGljIGdldCBDT01QT05FTlRfTkFNRSgpIHsgcmV0dXJuIFwiQmFja1NoYWRlXCI7IH1cclxuXHRzdGF0aWMgZ2V0IFRFTVBMQVRFX1VSTCgpIHsgcmV0dXJuIFwiL2Fzc2V0cy9qdXN0cmlnaHRqcy11aS9iYWNrU2hhZGUuaHRtbFwiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFNUWUxFU19VUkwoKSB7IHJldHVybiBcIi9hc3NldHMvanVzdHJpZ2h0anMtdWkvYmFja1NoYWRlLmNzc1wiOyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuXHJcblx0XHQvKiogQHR5cGUge0V2ZW50UmVnaXN0cnl9ICovXHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5ID0gSW5qZWN0aW9uUG9pbnQuaW5zdGFuY2UoRXZlbnRSZWdpc3RyeSk7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7Q29tcG9uZW50RmFjdG9yeX0gKi9cclxuICAgICAgICB0aGlzLmNvbXBvbmVudEZhY3RvcnkgPSBJbmplY3Rpb25Qb2ludC5pbnN0YW5jZShDb21wb25lbnRGYWN0b3J5KTtcclxuXHR9XHJcblxyXG4gICAgcG9zdENvbmZpZygpIHtcclxuICAgICAgICBMT0cuaW5mbyhcIlBvc3QgY29uZmlnXCIpO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50ID0gdGhpcy5jb21wb25lbnRGYWN0b3J5LmNyZWF0ZShcIkJhY2tTaGFkZVwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEByZXR1cm4ge0NvbXBvbmVudH1cclxuICAgICAqL1xyXG5cdGdldENvbXBvbmVudCgpe1xyXG5cdFx0cmV0dXJuIHRoaXMuY29tcG9uZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdEZ1bmN0aW9ufSBjbGlja2VkTGlzdGVuZXIgXHJcbiAgICAgKi9cclxuICAgIHdpdGhDbGlja0xpc3RlbmVyKGNsaWNrZWRMaXN0ZW5lcikge1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5hdHRhY2godGhpcy5jb21wb25lbnQuZ2V0KFwiYmFja1NoYWRlXCIpLCBcIm9uY2xpY2tcIiwgXCIvL2V2ZW50OmJhY2tTaGFkZUNsaWNrZWRcIiwgdGhpcy5jb21wb25lbnQuZ2V0Q29tcG9uZW50SW5kZXgoKSk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5Lmxpc3RlbihcIi8vZXZlbnQ6YmFja1NoYWRlQ2xpY2tlZFwiLCBjbGlja2VkTGlzdGVuZXIsIHRoaXMuY29tcG9uZW50LmdldENvbXBvbmVudEluZGV4KCkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGRpc2FibGVBZnRlcihtaWxsaVNlY29uZHMpIHtcclxuICAgICAgICB0aGlzLm1vdW50U2VsZigpO1xyXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KCkuZ2V0KFwiYmFja1NoYWRlXCIpLnNldEF0dHJpYnV0ZVZhbHVlKFwiY2xhc3NcIiwgXCJiYWNrLXNoYWRlIGZhZGVcIik7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IFxyXG4gICAgICAgICAgICB0aGlzLmdldENvbXBvbmVudCgpLmdldChcImJhY2tTaGFkZVwiKS5zZXRTdHlsZShcImRpc3BsYXlcIiwgXCJub25lXCIpO1xyXG4gICAgICAgIH0sIG1pbGxpU2Vjb25kcyk7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIENhbnZhc1N0eWxlcy5kaXNhYmxlU3R5bGUoQmFja1NoYWRlLkNPTVBPTkVOVF9OQU1FKTtcclxuICAgICAgICB9LCBtaWxsaVNlY29uZHMgKyAxKTtcclxuICAgIH1cclxuXHJcbiAgICBkaXNhYmxlKCkge1xyXG4gICAgICAgIHRoaXMuZGlzYWJsZUFmdGVyKDUwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZW5hYmxlKCkge1xyXG4gICAgICAgIENhbnZhc1N0eWxlcy5lbmFibGVTdHlsZShCYWNrU2hhZGUuQ09NUE9ORU5UX05BTUUpO1xyXG4gICAgICAgIHRoaXMubW91bnRTZWxmKCk7XHJcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoKS5nZXQoXCJiYWNrU2hhZGVcIikuc2V0U3R5bGUoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IFxyXG4gICAgICAgICAgICB0aGlzLmdldENvbXBvbmVudCgpLmdldChcImJhY2tTaGFkZVwiKS5zZXRBdHRyaWJ1dGVWYWx1ZShcImNsYXNzXCIsIFwiYmFjay1zaGFkZSBmYWRlIHNob3dcIikgXHJcbiAgICAgICAgfSwgMTAwKTtcclxuICAgIH1cclxuXHJcbiAgICBtb3VudFNlbGYoKSB7XHJcbiAgICAgICAgaWYoIXRoaXMuZ2V0Q29tcG9uZW50KCkuZ2V0Um9vdEVsZW1lbnQoKS5pc01vdW50ZWQoKSkge1xyXG4gICAgICAgICAgICBDYW52YXNSb290LmFkZEJvZHlFbGVtZW50KHRoaXMuZ2V0Q29tcG9uZW50KCkuZ2V0Um9vdEVsZW1lbnQoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZVNlbGYoKSB7XHJcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoKS5yZW1vdmUoKTtcclxuICAgIH1cclxuICAgIFxyXG59IiwiaW1wb3J0IHtcclxuICAgIENvbXBvbmVudEZhY3RvcnksXHJcbiAgICBFdmVudFJlZ2lzdHJ5LFxyXG4gICAgQ2FudmFzU3R5bGVzXHJcbn0gZnJvbSBcImp1c3RyaWdodF9jb3JlX3YxXCI7XHJcbmltcG9ydCB7IEluamVjdGlvblBvaW50IH0gZnJvbSBcIm1pbmRpX3YxXCI7XHJcbmltcG9ydCB7IExvZ2dlciwgT2JqZWN0RnVuY3Rpb24gfSBmcm9tIFwiY29yZXV0aWxfdjFcIjtcclxuXHJcbmNvbnN0IExPRyA9IG5ldyBMb2dnZXIoXCJCdXR0b25cIik7XHJcblxyXG5leHBvcnQgY2xhc3MgQnV0dG9uIHtcclxuXHJcblx0c3RhdGljIGdldCBDT01QT05FTlRfTkFNRSgpIHsgcmV0dXJuIFwiQnV0dG9uXCI7IH1cclxuICAgIHN0YXRpYyBnZXQgVEVNUExBVEVfVVJMKCkgeyByZXR1cm4gXCIvYXNzZXRzL2p1c3RyaWdodGpzLXVpL2J1dHRvbi5odG1sXCI7IH1cclxuICAgIHN0YXRpYyBnZXQgU1RZTEVTX1VSTCgpIHsgcmV0dXJuIFwiL2Fzc2V0cy9qdXN0cmlnaHRqcy11aS9idXR0b24uY3NzXCI7IH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0IFRZUEVfUFJJTUFSWSgpIHsgcmV0dXJuIFwiYnRuLXByaW1hcnlcIjsgfVxyXG4gICAgc3RhdGljIGdldCBUWVBFX1NFQ09OREFSWSgpIHsgcmV0dXJuIFwiYnRuLXNlY29uZGFyeVwiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFRZUEVfU1VDQ0VTUygpIHsgcmV0dXJuIFwiYnRuLXN1Y2Nlc3NcIjsgfVxyXG4gICAgc3RhdGljIGdldCBUWVBFX0lORk8oKSB7IHJldHVybiBcImJ0bi1pbmZvXCI7IH1cclxuICAgIHN0YXRpYyBnZXQgVFlQRV9XQVJOSU5HKCkgeyByZXR1cm4gXCJidG4td2FybmluZ1wiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFRZUEVfREFOR0VSKCkgeyByZXR1cm4gXCJidG4tZGFuZ2VyXCI7IH1cclxuICAgIHN0YXRpYyBnZXQgVFlQRV9MSUdIVCgpIHsgcmV0dXJuIFwiYnRuLWxpZ2h0XCI7IH1cclxuICAgIHN0YXRpYyBnZXQgVFlQRV9EQVJLKCkgeyByZXR1cm4gXCJidG4tZGFya1wiOyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbCBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBidXR0b25UeXBlIFxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihsYWJlbCwgYnV0dG9uVHlwZSA9IEJ1dHRvbi5UWVBFX1BSSU1BUlkpIHtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXHJcbiAgICAgICAgdGhpcy5sYWJlbCA9IGxhYmVsO1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge0NvbXBvbmVudEZhY3Rvcnl9ICovXHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRGYWN0b3J5ID0gSW5qZWN0aW9uUG9pbnQuaW5zdGFuY2UoQ29tcG9uZW50RmFjdG9yeSk7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xyXG4gICAgICAgIHRoaXMuYnV0dG9uVHlwZSA9IGJ1dHRvblR5cGU7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7RXZlbnRSZWdpc3RyeX0gKi9cclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkgPSBJbmplY3Rpb25Qb2ludC5pbnN0YW5jZShFdmVudFJlZ2lzdHJ5KTtcclxuICAgIH1cclxuXHJcbiAgICBwb3N0Q29uZmlnKCkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50ID0gdGhpcy5jb21wb25lbnRGYWN0b3J5LmNyZWF0ZShcIkJ1dHRvblwiKTtcclxuICAgICAgICBDYW52YXNTdHlsZXMuZW5hYmxlU3R5bGUoQnV0dG9uLkNPTVBPTkVOVF9OQU1FKTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudC5nZXQoXCJidXR0b25cIikuc2V0Q2hpbGQodGhpcy5sYWJlbCk7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQuZ2V0KFwiYnV0dG9uXCIpLnNldEF0dHJpYnV0ZVZhbHVlKFwiY2xhc3NcIixcImJ0biBcIiArIHRoaXMuYnV0dG9uVHlwZSk7XHJcbiAgICB9XHJcblxyXG5cdGdldENvbXBvbmVudCgpe1xyXG5cdFx0cmV0dXJuIHRoaXMuY29tcG9uZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdEZ1bmN0aW9ufSBjbGlja2VkTGlzdGVuZXIgXHJcbiAgICAgKi9cclxuICAgIHdpdGhDbGlja0xpc3RlbmVyKGNsaWNrTGlzdGVuZXIpIHtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkuYXR0YWNoKHRoaXMuY29tcG9uZW50LmdldChcImJ1dHRvblwiKSwgXCJvbmNsaWNrXCIsIFwiLy9ldmVudDpidXR0b25DbGlja2VkXCIsIHRoaXMuY29tcG9uZW50LmdldENvbXBvbmVudEluZGV4KCkpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5saXN0ZW4oXCIvL2V2ZW50OmJ1dHRvbkNsaWNrZWRcIiwgY2xpY2tMaXN0ZW5lciwgdGhpcy5jb21wb25lbnQuZ2V0Q29tcG9uZW50SW5kZXgoKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZGlzYWJsZSgpIHtcclxuICAgICAgICB0aGlzLmdldENvbXBvbmVudCgpLmdldChcImJ1dHRvblwiKS5zZXRBdHRyaWJ1dGVWYWx1ZShcImRpc2FibGVkXCIsXCJ0cnVlXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGVuYWJsZSgpIHtcclxuICAgICAgICB0aGlzLmdldENvbXBvbmVudCgpLmdldChcImJ1dHRvblwiKS5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7XHJcbiAgICBDb21wb25lbnQsXHJcbiAgICBDb21wb25lbnRGYWN0b3J5LFxyXG4gICAgRXZlbnRSZWdpc3RyeSxcclxuICAgIENhbnZhc1N0eWxlcyxcclxuICAgIFN0eWxlc1JlZ2lzdHJ5LFxyXG4gICAgQ2FudmFzUm9vdFxyXG59IGZyb20gXCJqdXN0cmlnaHRfY29yZV92MVwiO1xyXG5pbXBvcnQgeyBMb2dnZXIsIE9iamVjdEZ1bmN0aW9uIH0gZnJvbSBcImNvcmV1dGlsX3YxXCI7XHJcbmltcG9ydCB7IEluamVjdGlvblBvaW50IH0gZnJvbSBcIm1pbmRpX3YxXCI7XHJcbmltcG9ydCB7IEJhY2tTaGFkZSB9IGZyb20gXCIuLi9iYWNrU2hhZGUvYmFja1NoYWRlLmpzXCI7XHJcblxyXG5cclxuY29uc3QgTE9HID0gbmV3IExvZ2dlcihcIkRpYWxvZ0JveFwiKTtcclxuXHJcbmV4cG9ydCBjbGFzcyBEaWFsb2dCb3gge1xyXG5cclxuXHRzdGF0aWMgZ2V0IENPTVBPTkVOVF9OQU1FKCkgeyByZXR1cm4gXCJEaWFsb2dCb3hcIjsgfVxyXG4gICAgc3RhdGljIGdldCBURU1QTEFURV9VUkwoKSB7IHJldHVybiBcIi9hc3NldHMvanVzdHJpZ2h0anMtdWkvZGlhbG9nQm94Lmh0bWxcIjsgfVxyXG4gICAgc3RhdGljIGdldCBTVFlMRVNfVVJMKCkgeyByZXR1cm4gXCIvYXNzZXRzL2p1c3RyaWdodGpzLXVpL2RpYWxvZ0JveC5jc3NcIjsgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG5cclxuXHRcdC8qKiBAdHlwZSB7RXZlbnRSZWdpc3RyeX0gKi9cclxuXHRcdHRoaXMuZXZlbnRSZWdpc3RyeSA9IEluamVjdGlvblBvaW50Lmluc3RhbmNlKEV2ZW50UmVnaXN0cnkpO1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge0NvbXBvbmVudEZhY3Rvcnl9ICovXHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRGYWN0b3J5ID0gSW5qZWN0aW9uUG9pbnQuaW5zdGFuY2UoQ29tcG9uZW50RmFjdG9yeSk7XHJcblxyXG5cclxuXHRcdC8qKiBAdHlwZSB7Q29tcG9uZW50fSAqL1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50ID0gbnVsbDtcclxuICAgICAgICBcclxuICAgICAgICAvKiogQHR5cGUge0JhY2tTaGFkZX0gKi9cclxuICAgICAgICB0aGlzLmJhY2tTaGFkZSA9IEluamVjdGlvblBvaW50Lmluc3RhbmNlKEJhY2tTaGFkZSk7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7U3R5bGVzUmVnaXN0cnl9ICovXHJcbiAgICAgICAgdGhpcy5zdHlsZXNSZWdpc3RyeSA9IEluamVjdGlvblBvaW50Lmluc3RhbmNlKFN0eWxlc1JlZ2lzdHJ5KTtcclxuXHR9XHJcblxyXG5cclxuICAgIHBvc3RDb25maWcoKSB7XHJcbiAgICAgICAgTE9HLmluZm8oXCJQb3N0IGNvbmZpZ1wiKVxyXG4gICAgICAgIHRoaXMuY29tcG9uZW50ID0gdGhpcy5jb21wb25lbnRGYWN0b3J5LmNyZWF0ZShcIkRpYWxvZ0JveFwiKTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkuYXR0YWNoKHRoaXMuY29tcG9uZW50LmdldChcImNsb3NlQnV0dG9uXCIpLCBcIm9uY2xpY2tcIiwgXCIvL2V2ZW50OmNsb3NlQ2xpY2tlZFwiLCB0aGlzLmNvbXBvbmVudC5nZXRDb21wb25lbnRJbmRleCgpKTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKFwiLy9ldmVudDpjbG9zZUNsaWNrZWRcIiwgbmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsIHRoaXMuaGlkZSksdGhpcy5jb21wb25lbnQuZ2V0Q29tcG9uZW50SW5kZXgoKSk7XHJcbiAgICAgICAgdGhpcy5iYWNrU2hhZGUgPSB0aGlzLmJhY2tTaGFkZVxyXG4gICAgICAgICAgICAud2l0aENsaWNrTGlzdGVuZXIobmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsIHRoaXMuaGlkZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHJldHVybiB7Q29tcG9uZW50fVxyXG4gICAgICovXHJcblx0Z2V0Q29tcG9uZW50KCl7XHJcblx0XHRyZXR1cm4gdGhpcy5jb21wb25lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFxyXG4gICAgICovXHJcbiAgICBzZXRUaXRsZSh0ZXh0KXtcclxuICAgICAgICB0aGlzLmdldENvbXBvbmVudCgpLnNldENoaWxkKFwidGl0bGVcIiwgdGV4dCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7Q29tcG9uZW50fSBjb21wb25lbnQgXHJcbiAgICAgKi9cclxuICAgIHNldEZvb3Rlcihjb21wb25lbnQpe1xyXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KCkuZ2V0KFwiZm9vdGVyXCIpLnNldFN0eWxlKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xyXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KCkuc2V0Q2hpbGQoXCJmb290ZXJcIiwgY29tcG9uZW50KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtDb21wb25lbnR9IGNvbXBvbmVudCBcclxuICAgICAqL1xyXG4gICAgc2V0Q29udGVudChjb21wb25lbnQpe1xyXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KCkuc2V0Q2hpbGQoXCJjb250ZW50XCIsY29tcG9uZW50KTtcclxuICAgIH1cclxuXHJcblx0c2V0KGtleSx2YWwpIHtcclxuXHRcdHRoaXMuZ2V0Q29tcG9uZW50KCkuc2V0KGtleSx2YWwpO1xyXG5cdH1cclxuICAgIFxyXG4gICAgaGlkZSgpIHtcclxuICAgICAgICB0aGlzLmJhY2tTaGFkZS5tb3VudFNlbGYoKTtcclxuICAgICAgICB0aGlzLm1vdW50U2VsZigpO1xyXG5cclxuICAgICAgICB0aGlzLmdldENvbXBvbmVudCgpLmdldChcImRpYWxvZ0JveFwiKS5zZXRBdHRyaWJ1dGVWYWx1ZShcImNsYXNzXCIgLCBcImRpYWxvZ2JveCBmYWRlXCIpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyBcclxuICAgICAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoKS5nZXQoXCJkaWFsb2dCb3hcIikuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJub25lXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmJhY2tTaGFkZS5kaXNhYmxlQWZ0ZXIoNTAwKTtcclxuICAgICAgICB9LDIwMCk7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIENhbnZhc1N0eWxlcy5kaXNhYmxlU3R5bGUoRGlhbG9nQm94LkNPTVBPTkVOVF9OQU1FKTtcclxuICAgICAgICB9LDIwMSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvdygpIHtcclxuICAgICAgICBDYW52YXNTdHlsZXMuZW5hYmxlU3R5bGUoRGlhbG9nQm94LkNPTVBPTkVOVF9OQU1FKTtcclxuICAgICAgICB0aGlzLmJhY2tTaGFkZS5tb3VudFNlbGYoKTtcclxuICAgICAgICB0aGlzLm1vdW50U2VsZigpO1xyXG5cclxuICAgICAgICB0aGlzLmJhY2tTaGFkZS5lbmFibGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoKS5nZXQoXCJkaWFsb2dCb3hcIikuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJibG9ja1wiKTtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KCkuZ2V0KFwiZGlhbG9nQm94XCIpLnNldEF0dHJpYnV0ZVZhbHVlKFwiY2xhc3NcIiAsIFwiZGlhbG9nYm94IGZhZGUgc2hvd1wiKSA7XHJcbiAgICAgICAgfSwxMDApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5zZXJ0cyB0aGlzIGNvbXBvbmVudCBpbiB0aGUgY29udGFpbmVyIGF0IHRoZSBwcm92aWRlZCBpZFxyXG4gICAgICovXHJcbiAgICBtb3VudFNlbGYoKSB7XHJcbiAgICAgICAgaWYoIXRoaXMuZ2V0Q29tcG9uZW50KCkuZ2V0Um9vdEVsZW1lbnQoKS5pc01vdW50ZWQoKSkge1xyXG4gICAgICAgICAgICBDYW52YXNSb290LmFkZEJvZHlFbGVtZW50KHRoaXMuZ2V0Q29tcG9uZW50KCkuZ2V0Um9vdEVsZW1lbnQoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZVNlbGYoKSB7XHJcbiAgICAgICAgQ2FudmFzU3R5bGVzLnJlbW92ZVN0eWxlKERpYWxvZ0JveC5DT01QT05FTlRfTkFNRSk7XHJcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoKS5yZW1vdmVTZWxmKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge1xyXG4gICAgQ29tcG9uZW50RmFjdG9yeSxcclxuICAgIEV2ZW50UmVnaXN0cnksXHJcbiAgICBDYW52YXNTdHlsZXMsXHJcbiAgICBDb21wb25lbnQsXHJcbiAgICBJbnB1dEVsZW1lbnREYXRhQmluZGluZ1xyXG59IGZyb20gXCJqdXN0cmlnaHRfY29yZV92MVwiO1xyXG5pbXBvcnQgeyBJbmplY3Rpb25Qb2ludCB9IGZyb20gXCJtaW5kaV92MVwiO1xyXG5pbXBvcnQgeyBMb2dnZXIsIE9iamVjdEZ1bmN0aW9uIH0gZnJvbSBcImNvcmV1dGlsX3YxXCI7XHJcblxyXG5jb25zdCBMT0cgPSBuZXcgTG9nZ2VyKFwiQ2hlY2tCb3hcIik7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2hlY2tCb3gge1xyXG5cclxuXHRzdGF0aWMgZ2V0IENPTVBPTkVOVF9OQU1FKCkgeyByZXR1cm4gXCJDaGVja0JveFwiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFRFTVBMQVRFX1VSTCgpIHsgcmV0dXJuIFwiL2Fzc2V0cy9qdXN0cmlnaHRqcy11aS9jaGVja0JveC5odG1sXCI7IH1cclxuICAgIHN0YXRpYyBnZXQgU1RZTEVTX1VSTCgpIHsgcmV0dXJuIFwiL2Fzc2V0cy9qdXN0cmlnaHRqcy11aS9jaGVja0JveC5jc3NcIjsgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XHJcbiAgICAgICAgLyoqIEB0eXBlIHtDb21wb25lbnRGYWN0b3J5fSAqL1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50RmFjdG9yeSA9IEluamVjdGlvblBvaW50Lmluc3RhbmNlKENvbXBvbmVudEZhY3RvcnkpO1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge0V2ZW50UmVnaXN0cnl9ICovXHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5ID0gSW5qZWN0aW9uUG9pbnQuaW5zdGFuY2UoRXZlbnRSZWdpc3RyeSk7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgcG9zdENvbmZpZygpIHtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50RmFjdG9yeS5jcmVhdGUoXCJDaGVja0JveFwiKTtcclxuICAgICAgICBDYW52YXNTdHlsZXMuZW5hYmxlU3R5bGUoQ2hlY2tCb3guQ09NUE9ORU5UX05BTUUpO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50LmdldChcImNoZWNrQm94XCIpLnNldEF0dHJpYnV0ZVZhbHVlKFwibmFtZVwiLHRoaXMubmFtZSk7XHJcbiAgICB9XHJcblxyXG5cdGdldENvbXBvbmVudCgpe1xyXG5cdFx0cmV0dXJuIHRoaXMuY29tcG9uZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHdpdGhNb2RlbChtb2RlbCwgdmFsaWRhdG9yKSB7XHJcbiAgICAgICAgSW5wdXRFbGVtZW50RGF0YUJpbmRpbmcubGluayhtb2RlbCwgdmFsaWRhdG9yKS50byh0aGlzLmNvbXBvbmVudC5nZXQoXCJjaGVja0JveFwiKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgd2l0aENsaWNrTGlzdGVuZXIobGlzdGVuZXIpIHtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkuYXR0YWNoKHRoaXMuY29tcG9uZW50LmdldChcImNoZWNrQm94XCIpLCBcIm9uY2xpY2tcIiwgXCIvL2V2ZW50OmNoZWNrQm94Q2xpY2tlZFwiLCB0aGlzLmNvbXBvbmVudC5nZXRDb21wb25lbnRJbmRleCgpKTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKFwiLy9ldmVudDpjaGVja0JveENsaWNrZWRcIiwgbGlzdGVuZXIsdGhpcy5jb21wb25lbnQuZ2V0Q29tcG9uZW50SW5kZXgoKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgd2l0aEVudGVyTGlzdGVuZXIobGlzdGVuZXIpIHtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkuYXR0YWNoKHRoaXMuY29tcG9uZW50LmdldChcImNoZWNrQm94XCIpLCBcIm9ua2V5dXBcIiwgXCIvL2V2ZW50OmNoZWNrQm94RW50ZXJcIiwgdGhpcy5jb21wb25lbnQuZ2V0Q29tcG9uZW50SW5kZXgoKSk7XHJcbiAgICAgICAgbGV0IGVudGVyQ2hlY2sgPSBuZXcgT2JqZWN0RnVuY3Rpb24odGhpcywoZXZlbnQpID0+IHsgaWYoZXZlbnQuZ2V0S2V5Q29kZSgpID09PSAxMykgeyBsaXN0ZW5lci5jYWxsKCk7IH0gfSk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5Lmxpc3RlbihcIi8vZXZlbnQ6Y2hlY2tCb3hFbnRlclwiLCBlbnRlckNoZWNrLCB0aGlzLmNvbXBvbmVudC5nZXRDb21wb25lbnRJbmRleCgpKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQge1xyXG4gICAgQWJzdHJhY3RWYWxpZGF0b3IsXHJcbiAgICBFbWFpbFZhbGlkYXRvcixcclxuICAgIENvbXBvbmVudEZhY3RvcnksXHJcbiAgICBFdmVudFJlZ2lzdHJ5LFxyXG4gICAgQ2FudmFzU3R5bGVzLFxyXG4gICAgQ29tcG9uZW50LFxyXG4gICAgSW5wdXRFbGVtZW50RGF0YUJpbmRpbmdcclxufSBmcm9tIFwianVzdHJpZ2h0X2NvcmVfdjFcIjtcclxuaW1wb3J0IHsgSW5qZWN0aW9uUG9pbnQgfSBmcm9tIFwibWluZGlfdjFcIjtcclxuaW1wb3J0IHsgTG9nZ2VyLCBPYmplY3RGdW5jdGlvbiB9IGZyb20gXCJjb3JldXRpbF92MVwiO1xyXG5cclxuY29uc3QgTE9HID0gbmV3IExvZ2dlcihcIkVtYWlsSW5wdXRcIik7XHJcblxyXG5jb25zdCBCTFVSX0VWRU5UID0gXCIvL2V2ZW50OmVtYWlsSW5wdXRCbHVyXCI7XHJcbmNvbnN0IEtFWVVQX0VWRU5UID0gXCIvL2V2ZW50OmVtYWlsSW5wdXRLZXlVcFwiO1xyXG5jb25zdCBDSEFOR0VfRVZFTlQgPSBcIi8vZXZlbnQ6ZW1haWxJbnB1dENoYW5nZVwiO1xyXG5jb25zdCBFUlJPUl9DTElDS19FVkVOVCA9IFwiLy9ldmVudDplbWFpbEVycm9yQ2xpY2tlZFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVtYWlsSW5wdXQge1xyXG5cclxuXHRzdGF0aWMgZ2V0IENPTVBPTkVOVF9OQU1FKCkgeyByZXR1cm4gXCJFbWFpbElucHV0XCI7IH1cclxuICAgIHN0YXRpYyBnZXQgVEVNUExBVEVfVVJMKCkgeyByZXR1cm4gXCIvYXNzZXRzL2p1c3RyaWdodGpzLXVpL2VtYWlsSW5wdXQuaHRtbFwiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFNUWUxFU19VUkwoKSB7IHJldHVybiBcIi9hc3NldHMvanVzdHJpZ2h0anMtdWkvZW1haWxJbnB1dC5jc3NcIjsgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XHJcbiAgICAgICAgLyoqIEB0eXBlIHtDb21wb25lbnRGYWN0b3J5fSAqL1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50RmFjdG9yeSA9IEluamVjdGlvblBvaW50Lmluc3RhbmNlKENvbXBvbmVudEZhY3RvcnkpO1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge0V2ZW50UmVnaXN0cnl9ICovXHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5ID0gSW5qZWN0aW9uUG9pbnQuaW5zdGFuY2UoRXZlbnRSZWdpc3RyeSk7XHJcblxyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcblxyXG4gICAgICAgIHRoaXMudmFsaWRhdG9yID0gbmV3IEVtYWlsVmFsaWRhdG9yKClcclxuICAgICAgICAgICAgLndpdGhWYWxpZExpc3RlbmVyKG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLCB0aGlzLmhpZGVWYWxpZGF0aW9uRXJyb3IpKTtcclxuXHJcbiAgICAgICAgdGhpcy5jaGFuZ2VkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcG9zdENvbmZpZygpIHtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50RmFjdG9yeS5jcmVhdGUoXCJFbWFpbElucHV0XCIpO1xyXG5cclxuICAgICAgICBDYW52YXNTdHlsZXMuZW5hYmxlU3R5bGUoRW1haWxJbnB1dC5DT01QT05FTlRfTkFNRSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGlkeCA9IHRoaXMuY29tcG9uZW50LmdldENvbXBvbmVudEluZGV4KCk7XHJcbiAgICAgICAgY29uc3QgaW5wdXQgPSB0aGlzLmNvbXBvbmVudC5nZXQoXCJlbWFpbElucHV0XCIpO1xyXG4gICAgICAgIGNvbnN0IGVycm9yID0gdGhpcy5jb21wb25lbnQuZ2V0KFwiZW1haWxFcnJvclwiKTtcclxuXHJcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlVmFsdWUoXCJuYW1lXCIsdGhpcy5uYW1lKTtcclxuXHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5LmF0dGFjaChpbnB1dCwgXCJvbmJsdXJcIiwgQkxVUl9FVkVOVCwgaWR4KTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkuYXR0YWNoKGlucHV0LCBcIm9ua2V5dXBcIiwgS0VZVVBfRVZFTlQsIGlkeCk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5LmF0dGFjaChpbnB1dCwgXCJvbmNoYW5nZVwiLCBDSEFOR0VfRVZFTlQsIGlkeCk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5LmF0dGFjaChlcnJvciwgXCJvbmNsaWNrXCIsIEVSUk9SX0NMSUNLX0VWRU5ULCBpZHgpO1xyXG5cclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKEJMVVJfRVZFTlQsIG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLCB0aGlzLmJsdXJyZWQpLCBpZHgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5saXN0ZW4oS0VZVVBfRVZFTlQsIG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLCB0aGlzLmtleVVwKSwgaWR4KTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKENIQU5HRV9FVkVOVCwgbmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsIHRoaXMuY2hhbmdlKSwgaWR4KTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKEVSUk9SX0NMSUNLX0VWRU5ULCBuZXcgT2JqZWN0RnVuY3Rpb24odGhpcywgdGhpcy5oaWRlVmFsaWRhdGlvbkVycm9yKSwgaWR4KTtcclxuXHJcbiAgICAgICAgdGhpcy53aXRoUGxhY2Vob2xkZXIoXCJFbWFpbFwiKTtcclxuICAgIH1cclxuXHJcblx0Z2V0Q29tcG9uZW50KCl7XHJcblx0XHRyZXR1cm4gdGhpcy5jb21wb25lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgY2hhbmdlKCkge1xyXG4gICAgICAgIHRoaXMuY2hhbmdlZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAga2V5VXAoZXZlbnQpIHtcclxuICAgICAgICB0aGlzLmNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgIGlmIChldmVudC5nZXRLZXlDb2RlKCkgIT09IDEzKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRvci5pc1ZhbGlkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93VmFsaWRhdGlvbkVycm9yKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0QWxsKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZW50ZXJMaXN0ZW5lcikge1xyXG4gICAgICAgICAgICB0aGlzLmVudGVyTGlzdGVuZXIuY2FsbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEByZXR1cm5zIHtBYnN0cmFjdFZhbGlkYXRvcn1cclxuICAgICAqL1xyXG4gICAgZ2V0VmFsaWRhdG9yKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZhbGlkYXRvcjtcclxuICAgIH1cclxuXHJcbiAgICB3aXRoTW9kZWwobW9kZWwpIHtcclxuICAgICAgICBJbnB1dEVsZW1lbnREYXRhQmluZGluZ1xyXG4gICAgICAgICAgICAubGluayhtb2RlbCwgdGhpcy52YWxpZGF0b3IpXHJcbiAgICAgICAgICAgIC50byh0aGlzLmNvbXBvbmVudC5nZXQoXCJlbWFpbElucHV0XCIpKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICB3aXRoUGxhY2Vob2xkZXIocGxhY2Vob2xkZXJWYWx1ZSkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50LmdldChcImVtYWlsSW5wdXRcIikuc2V0QXR0cmlidXRlVmFsdWUoXCJwbGFjZWhvbGRlclwiLHBsYWNlaG9sZGVyVmFsdWUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHdpdGhFbnRlckxpc3RlbmVyKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgdGhpcy5lbnRlckxpc3RlbmVyID0gbGlzdGVuZXI7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgYmx1cnJlZCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuY2hhbmdlZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy52YWxpZGF0b3IuaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd1ZhbGlkYXRpb25FcnJvcigpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaGlkZVZhbGlkYXRpb25FcnJvcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3dWYWxpZGF0aW9uRXJyb3IoKSB7IHRoaXMuY29tcG9uZW50LmdldChcImVtYWlsRXJyb3JcIikuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJibG9ja1wiKTsgfVxyXG4gICAgaGlkZVZhbGlkYXRpb25FcnJvcigpIHsgdGhpcy5jb21wb25lbnQuZ2V0KFwiZW1haWxFcnJvclwiKS5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIik7IH1cclxuICAgIGZvY3VzKCkgeyB0aGlzLmNvbXBvbmVudC5nZXQoXCJlbWFpbElucHV0XCIpLmZvY3VzKCk7IH1cclxuICAgIHNlbGVjdEFsbCgpIHsgdGhpcy5jb21wb25lbnQuZ2V0KFwiZW1haWxJbnB1dFwiKS5zZWxlY3RBbGwoKTsgfVxyXG4gICAgZW5hYmxlKCkgeyB0aGlzLmNvbXBvbmVudC5nZXQoXCJlbWFpbElucHV0XCIpLmVuYWJsZSgpOyB9XHJcbiAgICBkaXNhYmxlKCkgeyB0aGlzLmNvbXBvbmVudC5nZXQoXCJlbWFpbElucHV0XCIpLmRpc2FibGUoKTsgfVxyXG59IiwiaW1wb3J0IHsgXHJcbiAgICBBYnN0cmFjdFZhbGlkYXRvcixcclxuICAgIFJlcXVpcmVkVmFsaWRhdG9yLFxyXG4gICAgQ29tcG9uZW50RmFjdG9yeSxcclxuICAgIEV2ZW50UmVnaXN0cnksXHJcbiAgICBDYW52YXNTdHlsZXMsXHJcbiAgICBDb21wb25lbnQsXHJcbiAgICBJbnB1dEVsZW1lbnREYXRhQmluZGluZyBcclxufSBmcm9tIFwianVzdHJpZ2h0X2NvcmVfdjFcIjtcclxuaW1wb3J0IHsgSW5qZWN0aW9uUG9pbnQgfSBmcm9tIFwibWluZGlfdjFcIjtcclxuaW1wb3J0IHsgTG9nZ2VyLCBPYmplY3RGdW5jdGlvbiB9IGZyb20gXCJjb3JldXRpbF92MVwiO1xyXG5cclxuY29uc3QgTE9HID0gbmV3IExvZ2dlcihcIlBhc3N3b3JkSW5wdXRcIik7XHJcblxyXG5jb25zdCBJTlBVVCA9IFwicGFzc3dvcmRJbnB1dFwiO1xyXG5jb25zdCBFUlJPUiA9IFwicGFzc3dvcmRFcnJvclwiO1xyXG5cclxuY29uc3QgQkxVUl9FVkVOVCA9IFwiLy9ldmVudDpwYXNzd29yZElucHV0Qmx1clwiO1xyXG5jb25zdCBLRVlVUF9FVkVOVCA9IFwiLy9ldmVudDpwYXNzd29yZElucHV0S2V5VXBcIjtcclxuY29uc3QgQ0hBTkdFX0VWRU5UID0gXCIvL2V2ZW50OnBhc3N3b3JkSW5wdXRDaGFuZ2VcIjtcclxuY29uc3QgRVJST1JfQ0xJQ0tfRVZFTlQgPSBcIi8vZXZlbnQ6cGFzc3dvcmRFcnJvckNsaWNrZWRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQYXNzd29yZElucHV0IHtcclxuXHJcblx0c3RhdGljIGdldCBDT01QT05FTlRfTkFNRSgpIHsgcmV0dXJuIFwiUGFzc3dvcmRJbnB1dFwiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFRFTVBMQVRFX1VSTCgpIHsgcmV0dXJuIFwiL2Fzc2V0cy9qdXN0cmlnaHRqcy11aS9wYXNzd29yZElucHV0Lmh0bWxcIjsgfVxyXG4gICAgc3RhdGljIGdldCBTVFlMRVNfVVJMKCkgeyByZXR1cm4gXCIvYXNzZXRzL2p1c3RyaWdodGpzLXVpL3Bhc3N3b3JkSW5wdXQuY3NzXCI7IH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcclxuICAgICAgICAvKiogQHR5cGUge0NvbXBvbmVudEZhY3Rvcnl9ICovXHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRGYWN0b3J5ID0gSW5qZWN0aW9uUG9pbnQuaW5zdGFuY2UoQ29tcG9uZW50RmFjdG9yeSk7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7RXZlbnRSZWdpc3RyeX0gKi9cclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkgPSBJbmplY3Rpb25Qb2ludC5pbnN0YW5jZShFdmVudFJlZ2lzdHJ5KTtcclxuXHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuXHJcbiAgICAgICAgdGhpcy52YWxpZGF0b3IgPSBuZXcgUmVxdWlyZWRWYWxpZGF0b3IoKVxyXG4gICAgICAgICAgICAud2l0aFZhbGlkTGlzdGVuZXIobmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsIHRoaXMuaGlkZVZhbGlkYXRpb25FcnJvcikpO1xyXG5cclxuICAgICAgICB0aGlzLmNoYW5nZWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwb3N0Q29uZmlnKCkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50ID0gdGhpcy5jb21wb25lbnRGYWN0b3J5LmNyZWF0ZShcIlBhc3N3b3JkSW5wdXRcIik7XHJcblxyXG4gICAgICAgIENhbnZhc1N0eWxlcy5lbmFibGVTdHlsZShQYXNzd29yZElucHV0LkNPTVBPTkVOVF9OQU1FKTtcclxuXHJcbiAgICAgICAgY29uc3QgaWR4ID0gdGhpcy5jb21wb25lbnQuZ2V0Q29tcG9uZW50SW5kZXgoKTtcclxuICAgICAgICBjb25zdCBpbnB1dCA9IHRoaXMuY29tcG9uZW50LmdldChJTlBVVCk7XHJcbiAgICAgICAgY29uc3QgZXJyb3IgPSB0aGlzLmNvbXBvbmVudC5nZXQoRVJST1IpO1xyXG5cclxuICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGVWYWx1ZShcIm5hbWVcIix0aGlzLm5hbWUpO1xyXG5cclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkuYXR0YWNoKGlucHV0LCBcIm9uYmx1clwiLCBCTFVSX0VWRU5ULCBpZHgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5hdHRhY2goaW5wdXQsIFwib25rZXl1cFwiLCBLRVlVUF9FVkVOVCwgaWR4KTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkuYXR0YWNoKGlucHV0LCBcIm9uY2hhbmdlXCIsIENIQU5HRV9FVkVOVCwgaWR4KTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkuYXR0YWNoKGVycm9yLCBcIm9uY2xpY2tcIiwgRVJST1JfQ0xJQ0tfRVZFTlQsIGlkeCk7XHJcblxyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5saXN0ZW4oQkxVUl9FVkVOVCwgbmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsIHRoaXMucGFzc3dvcmRJbnB1dEJsdXJyZWQpLCBpZHgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5saXN0ZW4oS0VZVVBfRVZFTlQsIG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLCB0aGlzLmtleVVwKSwgaWR4KTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKENIQU5HRV9FVkVOVCwgbmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsIHRoaXMuY2hhbmdlKSwgaWR4KTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKEVSUk9SX0NMSUNLX0VWRU5ULCBuZXcgT2JqZWN0RnVuY3Rpb24odGhpcywgdGhpcy5oaWRlVmFsaWRhdGlvbkVycm9yKSwgaWR4KTtcclxuXHJcbiAgICAgICAgdGhpcy53aXRoUGxhY2Vob2xkZXIoXCJQYXNzd29yZFwiKTtcclxuICAgIH1cclxuXHJcblx0Z2V0Q29tcG9uZW50KCl7XHJcblx0XHRyZXR1cm4gdGhpcy5jb21wb25lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgY2hhbmdlKCkge1xyXG4gICAgICAgIHRoaXMuY2hhbmdlZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAga2V5VXAoZXZlbnQpIHtcclxuICAgICAgICB0aGlzLmNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgIGlmIChldmVudC5nZXRLZXlDb2RlKCkgIT09IDEzKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRvci5pc1ZhbGlkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93VmFsaWRhdGlvbkVycm9yKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0QWxsKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZW50ZXJMaXN0ZW5lcikge1xyXG4gICAgICAgICAgICB0aGlzLmVudGVyTGlzdGVuZXIuY2FsbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEByZXR1cm5zIHtBYnN0cmFjdFZhbGlkYXRvcn1cclxuICAgICAqL1xyXG4gICAgZ2V0VmFsaWRhdG9yKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZhbGlkYXRvcjtcclxuICAgIH1cclxuXHJcbiAgICB3aXRoTW9kZWwobW9kZWwpIHtcclxuICAgICAgICBJbnB1dEVsZW1lbnREYXRhQmluZGluZ1xyXG4gICAgICAgICAgICAubGluayhtb2RlbCwgdGhpcy52YWxpZGF0b3IpXHJcbiAgICAgICAgICAgIC50byh0aGlzLmNvbXBvbmVudC5nZXQoSU5QVVQpKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICB3aXRoUGxhY2Vob2xkZXIocGxhY2Vob2xkZXJWYWx1ZSkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50LmdldChJTlBVVCkuc2V0QXR0cmlidXRlVmFsdWUoXCJwbGFjZWhvbGRlclwiLHBsYWNlaG9sZGVyVmFsdWUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHdpdGhFbnRlckxpc3RlbmVyKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgdGhpcy5lbnRlckxpc3RlbmVyID0gbGlzdGVuZXI7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcGFzc3dvcmRJbnB1dEJsdXJyZWQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmNoYW5nZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMudmFsaWRhdG9yLmlzVmFsaWQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dWYWxpZGF0aW9uRXJyb3IoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmhpZGVWYWxpZGF0aW9uRXJyb3IoKTtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBzaG93VmFsaWRhdGlvbkVycm9yKCkgeyB0aGlzLmNvbXBvbmVudC5nZXQoRVJST1IpLnNldFN0eWxlKFwiZGlzcGxheVwiLFwiYmxvY2tcIik7IH1cclxuICAgIGhpZGVWYWxpZGF0aW9uRXJyb3IoKSB7IHRoaXMuY29tcG9uZW50LmdldChFUlJPUikuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJub25lXCIpOyB9XHJcbiAgICBmb2N1cygpIHsgdGhpcy5jb21wb25lbnQuZ2V0KElOUFVUKS5mb2N1cygpOyB9XHJcbiAgICBzZWxlY3RBbGwoKSB7IHRoaXMuY29tcG9uZW50LmdldChJTlBVVCkuc2VsZWN0QWxsKCk7IH1cclxuICAgIGVuYWJsZSgpIHsgdGhpcy5jb21wb25lbnQuZ2V0KElOUFVUKS5lbmFibGUoKTsgfVxyXG4gICAgZGlzYWJsZSgpIHsgdGhpcy5jb21wb25lbnQuZ2V0KElOUFVUKS5kaXNhYmxlKCk7IH1cclxufSIsImltcG9ydCB7IFxyXG4gICAgQWJzdHJhY3RWYWxpZGF0b3IsXHJcbiAgICBFcXVhbHNWYWxpZGF0b3IsXHJcbiAgICBDb21wb25lbnRGYWN0b3J5LFxyXG4gICAgRXZlbnRSZWdpc3RyeSxcclxuICAgIENhbnZhc1N0eWxlcyxcclxuICAgIENvbXBvbmVudCxcclxuICAgIElucHV0RWxlbWVudERhdGFCaW5kaW5nLCBcclxuICAgIEFuZFZhbGlkYXRvclNldCxcclxuICAgIFBhc3N3b3JkVmFsaWRhdG9yLFxyXG59IGZyb20gXCJqdXN0cmlnaHRfY29yZV92MVwiO1xyXG5pbXBvcnQgeyBJbmplY3Rpb25Qb2ludCB9IGZyb20gXCJtaW5kaV92MVwiO1xyXG5pbXBvcnQgeyBMb2dnZXIsIE9iamVjdEZ1bmN0aW9uIH0gZnJvbSBcImNvcmV1dGlsX3YxXCI7XHJcblxyXG5jb25zdCBMT0cgPSBuZXcgTG9nZ2VyKFwiUGFzc3dvcmRNYXRjaGVySW5wdXRcIik7XHJcblxyXG5jb25zdCBJTlBVVCA9IFwicGFzc3dvcmRNYXRjaGVySW5wdXRcIjtcclxuY29uc3QgQ09OVFJPTF9JTlBVVCA9XCJwYXNzd29yZE1hdGNoZXJDb250cm9sSW5wdXRcIlxyXG5jb25zdCBFUlJPUiA9IFwicGFzc3dvcmRNYXRjaGVyRXJyb3JcIjtcclxuY29uc3QgQ09OVFJPTF9FUlJPUiA9IFwicGFzc3dvcmRNYXRjaGVyQ29udHJvbEVycm9yXCI7XHJcblxyXG5jb25zdCBCTFVSX0VWRU5UID0gXCIvL2V2ZW50OnBhc3N3b3JkTWF0Y2hlcklucHV0Qmx1clwiO1xyXG5jb25zdCBLRVlVUF9FVkVOVCA9IFwiLy9ldmVudDpwYXNzd29yZE1hdGNoZXJJbnB1dEtleVVwXCI7XHJcbmNvbnN0IENIQU5HRV9FVkVOVCA9IFwiLy9ldmVudDpwYXNzd29yZE1hdGNoZXJJbnB1dENoYW5nZVwiO1xyXG5jb25zdCBFUlJPUl9DTElDS19FVkVOVCA9IFwiLy9ldmVudDpwYXNzd29yZE1hdGNoZXJFcnJvckNsaWNrZWRcIjtcclxuXHJcbmNvbnN0IENPTlRST0xfQkxVUl9FVkVOVCA9IFwiLy9ldmVudDpwYXNzd29yZE1hdGNoZXJDb250cm9sSW5wdXRCbHVyXCI7XHJcbmNvbnN0IENPTlRST0xfS0VZVVBfRVZFTlQgPSBcIi8vZXZlbnQ6cGFzc3dvcmRNYXRjaGVyQ29udHJvbElucHV0S2V5VXBcIjtcclxuY29uc3QgQ09OVFJPTF9DSEFOR0VfRVZFTlQgPSBcIi8vZXZlbnQ6cGFzc3dvcmRNYXRjaGVyQ29udHJvbElucHV0Q2hhbmdlXCI7XHJcbmNvbnN0IENPTlRST0xfRVJST1JfQ0xJQ0tfRVZFTlQgPSBcIi8vZXZlbnQ6cGFzc3dvcmRNYXRjaGVyQ29udHJvbEVycm9yQ2xpY2tlZFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhc3N3b3JkTWF0Y2hlcklucHV0IHtcclxuXHJcblx0c3RhdGljIGdldCBDT01QT05FTlRfTkFNRSgpIHsgcmV0dXJuIFwiUGFzc3dvcmRNYXRjaGVySW5wdXRcIjsgfVxyXG4gICAgc3RhdGljIGdldCBURU1QTEFURV9VUkwoKSB7IHJldHVybiBcIi9hc3NldHMvanVzdHJpZ2h0anMtdWkvcGFzc3dvcmRNYXRjaGVySW5wdXQuaHRtbFwiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFNUWUxFU19VUkwoKSB7IHJldHVybiBcIi9hc3NldHMvanVzdHJpZ2h0anMtdWkvcGFzc3dvcmRNYXRjaGVySW5wdXQuY3NzXCI7IH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcclxuICAgICAgICAvKiogQHR5cGUge0NvbXBvbmVudEZhY3Rvcnl9ICovXHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRGYWN0b3J5ID0gSW5qZWN0aW9uUG9pbnQuaW5zdGFuY2UoQ29tcG9uZW50RmFjdG9yeSk7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7RXZlbnRSZWdpc3RyeX0gKi9cclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkgPSBJbmplY3Rpb25Qb2ludC5pbnN0YW5jZShFdmVudFJlZ2lzdHJ5KTtcclxuXHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuXHJcbiAgICAgICAgdGhpcy5wYXNzd29yZFZhbGlkYXRvciA9IG5ldyBQYXNzd29yZFZhbGlkYXRvcigpXHJcbiAgICAgICAgICAgIC53aXRoVmFsaWRMaXN0ZW5lcihuZXcgT2JqZWN0RnVuY3Rpb24odGhpcywgdGhpcy5oaWRlUGFzc3dvcmRWYWxpZGF0aW9uRXJyb3IpKTtcclxuXHJcbiAgICAgICAgdGhpcy5jb250cm9sVmFsaWRhdG9yID0gbmV3IEVxdWFsc1ZhbGlkYXRvcigpXHJcbiAgICAgICAgICAgIC53aXRoVmFsaWRMaXN0ZW5lcihuZXcgT2JqZWN0RnVuY3Rpb24odGhpcywgdGhpcy5oaWRlQ29udHJvbFZhbGlkYXRpb25FcnJvcikpO1xyXG5cclxuICAgICAgICB0aGlzLnZhbGlkYXRvciA9IG5ldyBBbmRWYWxpZGF0b3JTZXQoKVxyXG4gICAgICAgICAgICAud2l0aFZhbGlkYXRvcih0aGlzLnBhc3N3b3JkVmFsaWRhdG9yKVxyXG4gICAgICAgICAgICAud2l0aFZhbGlkYXRvcih0aGlzLmNvbnRyb2xWYWxpZGF0b3IpO1xyXG5cclxuICAgICAgICB0aGlzLmNoYW5nZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNvbnRyb2xDaGFuZ2VkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcG9zdENvbmZpZygpIHtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50RmFjdG9yeS5jcmVhdGUoXCJQYXNzd29yZE1hdGNoZXJJbnB1dFwiKTtcclxuXHJcbiAgICAgICAgQ2FudmFzU3R5bGVzLmVuYWJsZVN0eWxlKFBhc3N3b3JkTWF0Y2hlcklucHV0LkNPTVBPTkVOVF9OQU1FKTtcclxuXHJcbiAgICAgICAgY29uc3QgaWR4ID0gdGhpcy5jb21wb25lbnQuZ2V0Q29tcG9uZW50SW5kZXgoKTtcclxuXHJcbiAgICAgICAgY29uc3QgaW5wdXQgPSB0aGlzLmNvbXBvbmVudC5nZXQoSU5QVVQpO1xyXG4gICAgICAgIGNvbnN0IGVycm9yID0gdGhpcy5jb21wb25lbnQuZ2V0KEVSUk9SKTtcclxuXHJcbiAgICAgICAgY29uc3QgY29udHJvbElucHV0ID0gdGhpcy5jb21wb25lbnQuZ2V0KENPTlRST0xfSU5QVVQpO1xyXG4gICAgICAgIGNvbnN0IGNvbnRyb2xFcnJvciA9IHRoaXMuY29tcG9uZW50LmdldChDT05UUk9MX0VSUk9SKTtcclxuXHJcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlVmFsdWUoXCJuYW1lXCIsdGhpcy5uYW1lKTtcclxuXHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5LmF0dGFjaChpbnB1dCwgXCJvbmJsdXJcIiwgQkxVUl9FVkVOVCwgaWR4KTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkuYXR0YWNoKGlucHV0LCBcIm9ua2V5dXBcIiwgS0VZVVBfRVZFTlQsIGlkeCk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5LmF0dGFjaChpbnB1dCwgXCJvbmNoYW5nZVwiLCBDSEFOR0VfRVZFTlQsIGlkeCk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5LmF0dGFjaChlcnJvciwgXCJvbmNsaWNrXCIsIEVSUk9SX0NMSUNLX0VWRU5ULCBpZHgpO1xyXG5cclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkuYXR0YWNoKGNvbnRyb2xJbnB1dCwgXCJvbmJsdXJcIiwgQ09OVFJPTF9CTFVSX0VWRU5ULCBpZHgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5hdHRhY2goY29udHJvbElucHV0LCBcIm9ua2V5dXBcIiwgQ09OVFJPTF9LRVlVUF9FVkVOVCwgaWR4KTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkuYXR0YWNoKGNvbnRyb2xJbnB1dCwgXCJvbmNoYW5nZVwiLCBDT05UUk9MX0NIQU5HRV9FVkVOVCwgaWR4KTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkuYXR0YWNoKGNvbnRyb2xFcnJvciwgXCJvbmNsaWNrXCIsIENPTlRST0xfRVJST1JfQ0xJQ0tfRVZFTlQsIGlkeCk7XHJcblxyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5saXN0ZW4oQkxVUl9FVkVOVCwgbmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsIHRoaXMuYmx1ciksIGlkeCk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5Lmxpc3RlbihLRVlVUF9FVkVOVCwgbmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsIHRoaXMua2V5VXApLCBpZHgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5saXN0ZW4oQ0hBTkdFX0VWRU5ULCBuZXcgT2JqZWN0RnVuY3Rpb24odGhpcywgdGhpcy5jaGFuZ2UpLCBpZHgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5saXN0ZW4oRVJST1JfQ0xJQ0tfRVZFTlQsIG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLCB0aGlzLmhpZGVQYXNzd29yZFZhbGlkYXRpb25FcnJvciksIGlkeCk7XHJcblxyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5saXN0ZW4oQ09OVFJPTF9CTFVSX0VWRU5ULCBuZXcgT2JqZWN0RnVuY3Rpb24odGhpcywgdGhpcy5jb250cm9sQmx1ciksIGlkeCk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5Lmxpc3RlbihDT05UUk9MX0tFWVVQX0VWRU5ULCBuZXcgT2JqZWN0RnVuY3Rpb24odGhpcywgdGhpcy5jb250cm9sS2V5VXApLCBpZHgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5saXN0ZW4oQ09OVFJPTF9DSEFOR0VfRVZFTlQsIG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLCB0aGlzLmNvbnRyb2xDaGFuZ2UpLCBpZHgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5saXN0ZW4oQ09OVFJPTF9FUlJPUl9DTElDS19FVkVOVCwgbmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsIHRoaXMuaGlkZUNvbnRyb2xWYWxpZGF0aW9uRXJyb3IpLCBpZHgpO1xyXG5cclxuICAgICAgICB0aGlzLndpdGhQbGFjZWhvbGRlcihcIlBhc3N3b3JkXCIsIFwiQ29uZmlybSBwYXNzd29yZFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBjb250cm9sQ2hhbmdlKCkge1xyXG4gICAgICAgIHRoaXMuY2hhbmdlZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgY29udHJvbEtleVVwKGV2ZW50KSB7XHJcbiAgICAgICAgaWYodGhpcy5jb21wb25lbnQuZ2V0KENPTlRST0xfSU5QVVQpLmdldFZhbHVlKCkgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250cm9sQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChldmVudC5nZXRLZXlDb2RlKCkgIT09IDEzKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRyb2xWYWxpZGF0b3IuaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0NvbnRyb2xWYWxpZGF0aW9uRXJyb3IoKTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RBbGxDb250cm9sKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZW50ZXJMaXN0ZW5lcikge1xyXG4gICAgICAgICAgICB0aGlzLmVudGVyTGlzdGVuZXIuY2FsbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjaGFuZ2UoKSB7XHJcbiAgICAgICAgaWYodGhpcy5jb21wb25lbnQuZ2V0KENPTlRST0xfSU5QVVQpLmdldFZhbHVlKCkgIT09IHRoaXMuY29tcG9uZW50LmdldChJTlBVVCkuZ2V0VmFsdWUoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5nZXQoQ09OVFJPTF9JTlBVVCkuc2V0VmFsdWUoXCJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2hhbmdlZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAga2V5VXAoZXZlbnQpIHtcclxuICAgICAgICBpZih0aGlzLmNvbXBvbmVudC5nZXQoSU5QVVQpLmdldFZhbHVlKCkgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb250cm9sVmFsaWRhdG9yLnNldFZhbHVlKHRoaXMuY29tcG9uZW50LmdldChJTlBVVCkuZ2V0VmFsdWUoKSk7XHJcbiAgICAgICAgdGhpcy5jb250cm9sVmFsaWRhdG9yLnZhbGlkYXRlKHRoaXMuY29tcG9uZW50LmdldChDT05UUk9MX0lOUFVUKS5nZXRWYWx1ZSgpKTtcclxuICAgICAgICBpZiAoZXZlbnQuZ2V0S2V5Q29kZSgpICE9PSAxMykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5wYXNzd29yZFZhbGlkYXRvci5pc1ZhbGlkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93UGFzc3dvcmRWYWxpZGF0aW9uRXJyb3IoKTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RBbGwoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmZvY3VzQ29udHJvbCgpO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0QWxsQ29udHJvbCgpO1xyXG4gICAgfVxyXG5cclxuXHRnZXRDb21wb25lbnQoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jb21wb25lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcmV0dXJucyB7QWJzdHJhY3RWYWxpZGF0b3J9XHJcbiAgICAgKi9cclxuICAgIGdldFZhbGlkYXRvcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52YWxpZGF0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgd2l0aE1vZGVsKG1vZGVsKSB7XHJcbiAgICAgICAgSW5wdXRFbGVtZW50RGF0YUJpbmRpbmdcclxuICAgICAgICAgICAgLmxpbmsobW9kZWwsIHRoaXMucGFzc3dvcmRWYWxpZGF0b3IpXHJcbiAgICAgICAgICAgIC50byh0aGlzLmNvbXBvbmVudC5nZXQoSU5QVVQpKTtcclxuICAgICAgICBcclxuICAgICAgICBJbnB1dEVsZW1lbnREYXRhQmluZGluZ1xyXG4gICAgICAgICAgICAubGluayhtb2RlbCwgdGhpcy5jb250cm9sVmFsaWRhdG9yKVxyXG4gICAgICAgICAgICAudG8odGhpcy5jb21wb25lbnQuZ2V0KENPTlRST0xfSU5QVVQpKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICB3aXRoUGxhY2Vob2xkZXIocGxhY2Vob2xkZXJWYWx1ZSwgY29udHJvbFBsYWNlSG9sZGVyVmFsdWUpIHtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudC5nZXQoSU5QVVQpLnNldEF0dHJpYnV0ZVZhbHVlKFwicGxhY2Vob2xkZXJcIixwbGFjZWhvbGRlclZhbHVlKTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudC5nZXQoQ09OVFJPTF9JTlBVVCkuc2V0QXR0cmlidXRlVmFsdWUoXCJwbGFjZWhvbGRlclwiLGNvbnRyb2xQbGFjZUhvbGRlclZhbHVlKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICB3aXRoRW50ZXJMaXN0ZW5lcihsaXN0ZW5lcikge1xyXG4gICAgICAgIHRoaXMuZW50ZXJMaXN0ZW5lciA9IGxpc3RlbmVyO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnRyb2xCbHVyKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5jb250cm9sQ2hhbmdlZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5jb250cm9sVmFsaWRhdG9yLmlzVmFsaWQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dDb250cm9sVmFsaWRhdGlvbkVycm9yKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5oaWRlQ29udHJvbFZhbGlkYXRpb25FcnJvcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGJsdXIoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmNoYW5nZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMucGFzc3dvcmRWYWxpZGF0b3IuaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd1Bhc3N3b3JkVmFsaWRhdGlvbkVycm9yKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5oaWRlUGFzc3dvcmRWYWxpZGF0aW9uRXJyb3IoKTtcclxuICAgIH1cclxuXHJcbiAgICBzaG93UGFzc3dvcmRWYWxpZGF0aW9uRXJyb3IoKSB7IHRoaXMuY29tcG9uZW50LmdldChFUlJPUikuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJibG9ja1wiKTsgfVxyXG4gICAgaGlkZVBhc3N3b3JkVmFsaWRhdGlvbkVycm9yKCkgeyB0aGlzLmNvbXBvbmVudC5nZXQoRVJST1IpLnNldFN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKTsgfVxyXG4gICAgc2hvd0NvbnRyb2xWYWxpZGF0aW9uRXJyb3IoKSB7IHRoaXMuY29tcG9uZW50LmdldChDT05UUk9MX0VSUk9SKS5zZXRTdHlsZShcImRpc3BsYXlcIixcImJsb2NrXCIpOyB9XHJcbiAgICBoaWRlQ29udHJvbFZhbGlkYXRpb25FcnJvcigpIHsgdGhpcy5jb21wb25lbnQuZ2V0KENPTlRST0xfRVJST1IpLnNldFN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKTsgfVxyXG4gICAgZm9jdXMoKSB7IHRoaXMuY29tcG9uZW50LmdldChJTlBVVCkuZm9jdXMoKTsgfVxyXG4gICAgZm9jdXNDb250cm9sKCkgeyB0aGlzLmNvbXBvbmVudC5nZXQoQ09OVFJPTF9JTlBVVCkuZm9jdXMoKTsgfVxyXG4gICAgc2VsZWN0QWxsKCkgeyB0aGlzLmNvbXBvbmVudC5nZXQoSU5QVVQpLnNlbGVjdEFsbCgpOyB9XHJcbiAgICBzZWxlY3RBbGxDb250cm9sKCkgeyB0aGlzLmNvbXBvbmVudC5nZXQoQ09OVFJPTF9JTlBVVCkuc2VsZWN0QWxsKCk7IH1cclxuICAgIGVuYWJsZSgpIHsgdGhpcy5jb21wb25lbnQuZ2V0KElOUFVUKS5lbmFibGUoKTsgfVxyXG4gICAgZGlzYWJsZSgpIHsgdGhpcy5jb21wb25lbnQuZ2V0KElOUFVUKS5kaXNhYmxlKCk7IH1cclxuICAgIGVuYWJsZUNvbnRyb2woKSB7IHRoaXMuY29tcG9uZW50LmdldChDT05UUk9MX0lOUFVUKS5lbmFibGUoKTsgfVxyXG4gICAgZGlzYWJsZUNvbnRyb2woKSB7IHRoaXMuY29tcG9uZW50LmdldChDT05UUk9MX0lOUFVUKS5kaXNhYmxlKCk7IH1cclxufSIsImltcG9ydCB7IENvbXBvbmVudEZhY3RvcnksIEV2ZW50UmVnaXN0cnksIENhbnZhc1N0eWxlcywgQ29tcG9uZW50LCBJbnB1dEVsZW1lbnREYXRhQmluZGluZyB9IGZyb20gXCJqdXN0cmlnaHRfY29yZV92MVwiO1xyXG5pbXBvcnQgeyBJbmplY3Rpb25Qb2ludCB9IGZyb20gXCJtaW5kaV92MVwiO1xyXG5pbXBvcnQgeyBMb2dnZXIsIE9iamVjdEZ1bmN0aW9uIH0gZnJvbSBcImNvcmV1dGlsX3YxXCI7XHJcblxyXG5jb25zdCBMT0cgPSBuZXcgTG9nZ2VyKFwiVGV4dElucHV0XCIpO1xyXG5cclxuY29uc3QgS0VZVVBfRVZFTlQgPSBcIi8vZXZlbnQ6dGV4dElucHV0S2V5VXBcIjtcclxuY29uc3QgQ0xJQ0tfRVZFTlQgPSBcIi8vZXZlbnQ6dGV4dElucHV0Q2xpY2tlZFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRleHRJbnB1dCB7XHJcblxyXG5cdHN0YXRpYyBnZXQgQ09NUE9ORU5UX05BTUUoKSB7IHJldHVybiBcIlRleHRJbnB1dFwiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFRFTVBMQVRFX1VSTCgpIHsgcmV0dXJuIFwiL2Fzc2V0cy9qdXN0cmlnaHRqcy11aS90ZXh0SW5wdXQuaHRtbFwiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFNUWUxFU19VUkwoKSB7IHJldHVybiBcIi9hc3NldHMvanVzdHJpZ2h0anMtdWkvdGV4dElucHV0LmNzc1wiOyB9XHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IobmFtZSkge1xyXG4gICAgICAgIC8qKiBAdHlwZSB7Q29tcG9uZW50RmFjdG9yeX0gKi9cclxuICAgICAgICB0aGlzLmNvbXBvbmVudEZhY3RvcnkgPSBDb21wb25lbnRGYWN0b3J5O1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge0V2ZW50UmVnaXN0cnl9ICovXHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5ID0gRXZlbnRSZWdpc3RyeTtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuXHJcbiAgICAgICAgY29uc3QgaWR4ID0gdGhpcy5jb21wb25lbnQuZ2V0Q29tcG9uZW50SW5kZXgoKTtcclxuICAgICAgICBjb25zdCBpbnB1dCA9IHRoaXMuY29tcG9uZW50LmdldChcInRleHRJbnB1dFwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5LmF0dGFjaChpbnB1dCwgXCJvbmtleXVwXCIsIEtFWVVQX0VWRU5ULCBpZHgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5hdHRhY2goaW5wdXQsIFwib25jbGlja1wiLCBDTElDS19FVkVOVCwgaWR4KTtcclxuXHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5Lmxpc3RlbihLRVlVUF9FVkVOVCwgbmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsIHRoaXMua2V5VXApLCBpZHgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5saXN0ZW4oQ0xJQ0tfRVZFTlQsIG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLCB0aGlzLmNsaWNrKSwgaWR4KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAga2V5VXAoZXZlbnQpIHtcclxuICAgICAgICBpZihldmVudC5nZXRLZXlDb2RlKCkgIT09IDEzKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5lbnRlckxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW50ZXJMaXN0ZW5lci5jYWxsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNsaWNrKGV2ZW50KSB7XHJcbiAgICAgICAgaWYodGhpcy5jbGlja0xpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xpY2tMaXN0ZW5lci5jYWxsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHBvc3RDb25maWcoKSB7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSB0aGlzLmNvbXBvbmVudEZhY3RvcnkuY3JlYXRlKFwiVGV4dElucHV0XCIpO1xyXG5cclxuICAgICAgICBDYW52YXNTdHlsZXMuZW5hYmxlU3R5bGUoVGV4dElucHV0LkNPTVBPTkVOVF9OQU1FKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmNvbXBvbmVudC5nZXQoXCJ0ZXh0SW5wdXRcIikuc2V0QXR0cmlidXRlVmFsdWUoXCJuYW1lXCIsIHRoaXMubmFtZSk7XHJcbiAgICB9XHJcblxyXG5cdGdldENvbXBvbmVudCgpe1xyXG5cdFx0cmV0dXJuIHRoaXMuY29tcG9uZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHdpdGhNb2RlbChtb2RlbCwgdmFsaWRhdG9yKSB7XHJcbiAgICAgICAgSW5wdXRFbGVtZW50RGF0YUJpbmRpbmcubGluayhtb2RlbCwgdmFsaWRhdG9yKS50byh0aGlzLmNvbXBvbmVudC5nZXQoXCJ0ZXh0SW5wdXRcIikpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHdpdGhQbGFjZWhvbGRlcihwbGFjZWhvbGRlclZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQuZ2V0KFwidGV4dElucHV0XCIpLnNldEF0dHJpYnV0ZVZhbHVlKFwicGxhY2Vob2xkZXJcIiwgcGxhY2Vob2xkZXJWYWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgd2l0aENsaWNrTGlzdGVuZXIobGlzdGVuZXIpIHtcclxuICAgICAgICB0aGlzLmNsaWNrTGlzdGVuZXIgPSBsaXN0ZW5lcjtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICB3aXRoRW50ZXJMaXN0ZW5lcihsaXN0ZW5lcikge1xyXG4gICAgICAgIHRoaXMuZW50ZXJMaXN0ZW5lciA9IGxpc3RlbmVyO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxufSJdLCJuYW1lcyI6WyJMT0ciLCJMb2dnZXIiLCJCYWNrU2hhZGUiLCJDT01QT05FTlRfTkFNRSIsIlRFTVBMQVRFX1VSTCIsIlNUWUxFU19VUkwiLCJbb2JqZWN0IE9iamVjdF0iLCJ0aGlzIiwiZXZlbnRSZWdpc3RyeSIsIkluamVjdGlvblBvaW50IiwiaW5zdGFuY2UiLCJFdmVudFJlZ2lzdHJ5IiwiY29tcG9uZW50RmFjdG9yeSIsIkNvbXBvbmVudEZhY3RvcnkiLCJpbmZvIiwiY29tcG9uZW50IiwiY3JlYXRlIiwiY2xpY2tlZExpc3RlbmVyIiwiYXR0YWNoIiwiZ2V0IiwiZ2V0Q29tcG9uZW50SW5kZXgiLCJsaXN0ZW4iLCJtaWxsaVNlY29uZHMiLCJtb3VudFNlbGYiLCJnZXRDb21wb25lbnQiLCJzZXRBdHRyaWJ1dGVWYWx1ZSIsInNldFRpbWVvdXQiLCJzZXRTdHlsZSIsIkNhbnZhc1N0eWxlcyIsImRpc2FibGVTdHlsZSIsImRpc2FibGVBZnRlciIsImVuYWJsZVN0eWxlIiwiZ2V0Um9vdEVsZW1lbnQiLCJpc01vdW50ZWQiLCJDYW52YXNSb290IiwiYWRkQm9keUVsZW1lbnQiLCJyZW1vdmUiLCJCdXR0b24iLCJUWVBFX1BSSU1BUlkiLCJUWVBFX1NFQ09OREFSWSIsIlRZUEVfU1VDQ0VTUyIsIlRZUEVfSU5GTyIsIlRZUEVfV0FSTklORyIsIlRZUEVfREFOR0VSIiwiVFlQRV9MSUdIVCIsIlRZUEVfREFSSyIsImxhYmVsIiwiYnV0dG9uVHlwZSIsInNldENoaWxkIiwiY2xpY2tMaXN0ZW5lciIsInJlbW92ZUF0dHJpYnV0ZSIsIkRpYWxvZ0JveCIsImJhY2tTaGFkZSIsInN0eWxlc1JlZ2lzdHJ5IiwiU3R5bGVzUmVnaXN0cnkiLCJPYmplY3RGdW5jdGlvbiIsImhpZGUiLCJ3aXRoQ2xpY2tMaXN0ZW5lciIsInRleHQiLCJrZXkiLCJ2YWwiLCJzZXQiLCJlbmFibGUiLCJyZW1vdmVTdHlsZSIsInJlbW92ZVNlbGYiLCJDaGVja0JveCIsIm5hbWUiLCJtb2RlbCIsInZhbGlkYXRvciIsIklucHV0RWxlbWVudERhdGFCaW5kaW5nIiwibGluayIsInRvIiwibGlzdGVuZXIiLCJlbnRlckNoZWNrIiwiZXZlbnQiLCJnZXRLZXlDb2RlIiwiY2FsbCIsIkJMVVJfRVZFTlQiLCJLRVlVUF9FVkVOVCIsIkNIQU5HRV9FVkVOVCIsIkVSUk9SX0NMSUNLX0VWRU5UIiwiRW1haWxJbnB1dCIsIkVtYWlsVmFsaWRhdG9yIiwid2l0aFZhbGlkTGlzdGVuZXIiLCJoaWRlVmFsaWRhdGlvbkVycm9yIiwiY2hhbmdlZCIsImlkeCIsImlucHV0IiwiZXJyb3IiLCJibHVycmVkIiwia2V5VXAiLCJjaGFuZ2UiLCJ3aXRoUGxhY2Vob2xkZXIiLCJpc1ZhbGlkIiwiZW50ZXJMaXN0ZW5lciIsInNob3dWYWxpZGF0aW9uRXJyb3IiLCJzZWxlY3RBbGwiLCJwbGFjZWhvbGRlclZhbHVlIiwiZm9jdXMiLCJkaXNhYmxlIiwiSU5QVVQiLCJFUlJPUiIsIlBhc3N3b3JkSW5wdXQiLCJSZXF1aXJlZFZhbGlkYXRvciIsInBhc3N3b3JkSW5wdXRCbHVycmVkIiwiQ09OVFJPTF9JTlBVVCIsIkNPTlRST0xfRVJST1IiLCJDT05UUk9MX0JMVVJfRVZFTlQiLCJDT05UUk9MX0tFWVVQX0VWRU5UIiwiQ09OVFJPTF9DSEFOR0VfRVZFTlQiLCJDT05UUk9MX0VSUk9SX0NMSUNLX0VWRU5UIiwiUGFzc3dvcmRNYXRjaGVySW5wdXQiLCJwYXNzd29yZFZhbGlkYXRvciIsIlBhc3N3b3JkVmFsaWRhdG9yIiwiaGlkZVBhc3N3b3JkVmFsaWRhdGlvbkVycm9yIiwiY29udHJvbFZhbGlkYXRvciIsIkVxdWFsc1ZhbGlkYXRvciIsImhpZGVDb250cm9sVmFsaWRhdGlvbkVycm9yIiwiQW5kVmFsaWRhdG9yU2V0Iiwid2l0aFZhbGlkYXRvciIsImNvbnRyb2xDaGFuZ2VkIiwiY29udHJvbElucHV0IiwiY29udHJvbEVycm9yIiwiYmx1ciIsImNvbnRyb2xCbHVyIiwiY29udHJvbEtleVVwIiwiY29udHJvbENoYW5nZSIsImdldFZhbHVlIiwic2hvd0NvbnRyb2xWYWxpZGF0aW9uRXJyb3IiLCJzZWxlY3RBbGxDb250cm9sIiwic2V0VmFsdWUiLCJ2YWxpZGF0ZSIsInNob3dQYXNzd29yZFZhbGlkYXRpb25FcnJvciIsImZvY3VzQ29udHJvbCIsImNvbnRyb2xQbGFjZUhvbGRlclZhbHVlIiwiQ0xJQ0tfRVZFTlQiLCJUZXh0SW5wdXQiLCJjbGljayJdLCJtYXBwaW5ncyI6ImtUQVVBLE1BQU1BLEtBQU0sR0FBSUMsUUFBTyxrQkFFVkMsV0FFWkMsNEJBQThCLE1BQU8sWUFDckNDLDBCQUE0QixNQUFPLHdDQUNoQ0Msd0JBQTBCLE1BQU8sdUNBS2pDQyxjQUdJQyxLQUFLQyxjQUFnQkMsZUFBZUMsU0FBU0MsZUFHN0NKLEtBQUtLLGlCQUFtQkgsZUFBZUMsU0FBU0csa0JBR3BEUCxhQUNJTixJQUFJYyxLQUFLLGVBQ1RQLEtBQUtRLFVBQVlSLEtBQUtLLGlCQUFpQkksT0FBTyxhQU1yRFYsZUFDQyxNQUFPQyxNQUFLUSxVQU9WVCxrQkFBa0JXLEdBR2QsTUFGQVYsTUFBS0MsY0FBY1UsT0FBT1gsS0FBS1EsVUFBVUksSUFBSSxhQUFjLFVBQVcsMkJBQTRCWixLQUFLUSxVQUFVSyxxQkFDakhiLEtBQUtDLGNBQWNhLE9BQU8sMkJBQTRCSixFQUFpQlYsS0FBS1EsVUFBVUsscUJBQy9FYixLQUdYRCxhQUFhZ0IsR0FDVGYsS0FBS2dCLFlBQ0xoQixLQUFLaUIsZUFBZUwsSUFBSSxhQUFhTSxrQkFBa0IsUUFBUyxtQkFDaEVDLGdCQUNJbkIsS0FBS2lCLGVBQWVMLElBQUksYUFBYVEsU0FBUyxVQUFXLFNBQzFETCxHQUNISSxnQkFDSUUsYUFBYUMsYUFBYTNCLFVBQVVDLGlCQUNyQ21CLEVBQWUsR0FHdEJoQixVQUNJQyxLQUFLdUIsYUFBYSxLQUd0QnhCLFNBQ0lzQixhQUFhRyxZQUFZN0IsVUFBVUMsZ0JBQ25DSSxLQUFLZ0IsWUFDTGhCLEtBQUtpQixlQUFlTCxJQUFJLGFBQWFRLFNBQVMsVUFBVyxTQUN6REQsZ0JBQ0luQixLQUFLaUIsZUFBZUwsSUFBSSxhQUFhTSxrQkFBa0IsUUFBUyx5QkFDakUsS0FHUG5CLFlBQ1FDLEtBQUtpQixlQUFlUSxpQkFBaUJDLGFBQ3JDQyxXQUFXQyxlQUFlNUIsS0FBS2lCLGVBQWVRLGtCQUl0RDFCLGFBQ0lDLEtBQUtpQixlQUFlWSxlQzNFdEJwQyxPQUFNLEdBQUlDLFFBQU8sZUFFVm9DLFFBRVpsQyw0QkFBOEIsTUFBTyxTQUNsQ0MsMEJBQTRCLE1BQU8scUNBQ25DQyx3QkFBMEIsTUFBTyxvQ0FFakNpQywwQkFBNEIsTUFBTyxjQUNuQ0MsNEJBQThCLE1BQU8sZ0JBQ3JDQywwQkFBNEIsTUFBTyxjQUNuQ0MsdUJBQXlCLE1BQU8sV0FDaENDLDBCQUE0QixNQUFPLGNBQ25DQyx5QkFBMkIsTUFBTyxhQUNsQ0Msd0JBQTBCLE1BQU8sWUFDakNDLHVCQUF5QixNQUFPLFdBT2hDdkMsWUFBWXdDLEVBQU9DLEVBQWFWLE9BQU9DLGNBR25DL0IsS0FBS3VDLE1BQVFBLEVBR2J2QyxLQUFLSyxpQkFBbUJILGVBQWVDLFNBQVNHLGtCQUdoRE4sS0FBS3dDLFdBQWFBLEVBR2xCeEMsS0FBS0MsY0FBZ0JDLGVBQWVDLFNBQVNDLGVBR2pETCxhQUNJQyxLQUFLUSxVQUFZUixLQUFLSyxpQkFBaUJJLE9BQU8sVUFDOUNZLGFBQWFHLFlBQVlNLE9BQU9sQyxnQkFDaENJLEtBQUtRLFVBQVVJLElBQUksVUFBVTZCLFNBQVN6QyxLQUFLdUMsT0FDM0N2QyxLQUFLUSxVQUFVSSxJQUFJLFVBQVVNLGtCQUFrQixRQUFRLE9BQVNsQixLQUFLd0MsWUFHNUV6QyxlQUNDLE1BQU9DLE1BQUtRLFVBT1ZULGtCQUFrQjJDLEdBR2QsTUFGQTFDLE1BQUtDLGNBQWNVLE9BQU9YLEtBQUtRLFVBQVVJLElBQUksVUFBVyxVQUFXLHdCQUF5QlosS0FBS1EsVUFBVUsscUJBQzNHYixLQUFLQyxjQUFjYSxPQUFPLHdCQUF5QjRCLEVBQWUxQyxLQUFLUSxVQUFVSyxxQkFDMUViLEtBR1hELFVBQ0lDLEtBQUtpQixlQUFlTCxJQUFJLFVBQVVNLGtCQUFrQixXQUFXLFFBR25FbkIsU0FDSUMsS0FBS2lCLGVBQWVMLElBQUksVUFBVStCLGdCQUFnQixrQkMxRHBEbEQsT0FBTSxHQUFJQyxRQUFPLGtCQUVWa0QsV0FFWmhELDRCQUE4QixNQUFPLFlBQ2xDQywwQkFBNEIsTUFBTyx3Q0FDbkNDLHdCQUEwQixNQUFPLHVDQUtqQ0MsY0FHRkMsS0FBS0MsY0FBZ0JDLGVBQWVDLFNBQVNDLGVBR3ZDSixLQUFLSyxpQkFBbUJILGVBQWVDLFNBQVNHLGtCQUloRE4sS0FBS1EsVUFBWSxLQUdqQlIsS0FBSzZDLFVBQVkzQyxlQUFlQyxTQUFTUixXQUd6Q0ssS0FBSzhDLGVBQWlCNUMsZUFBZUMsU0FBUzRDLGdCQUlsRGhELGFBQ0lOLE1BQUljLEtBQUssZUFDVFAsS0FBS1EsVUFBWVIsS0FBS0ssaUJBQWlCSSxPQUFPLGFBQzlDVCxLQUFLQyxjQUFjVSxPQUFPWCxLQUFLUSxVQUFVSSxJQUFJLGVBQWdCLFVBQVcsdUJBQXdCWixLQUFLUSxVQUFVSyxxQkFDL0diLEtBQUtDLGNBQWNhLE9BQU8sdUJBQXdCLEdBQUlrQyxnQkFBZWhELEtBQU1BLEtBQUtpRCxNQUFNakQsS0FBS1EsVUFBVUsscUJBQ3JHYixLQUFLNkMsVUFBWTdDLEtBQUs2QyxVQUNqQkssa0JBQWtCLEdBQUlGLGdCQUFlaEQsS0FBTUEsS0FBS2lELE9BTTVEbEQsZUFDQyxNQUFPQyxNQUFLUSxVQU9WVCxTQUFTb0QsR0FDTG5ELEtBQUtpQixlQUFld0IsU0FBUyxRQUFTVSxHQU8xQ3BELFVBQVVTLEdBQ05SLEtBQUtpQixlQUFlTCxJQUFJLFVBQVVRLFNBQVMsVUFBVyxTQUN0RHBCLEtBQUtpQixlQUFld0IsU0FBUyxTQUFVakMsR0FPM0NULFdBQVdTLEdBQ1BSLEtBQUtpQixlQUFld0IsU0FBUyxVQUFVakMsR0FHOUNULElBQUlxRCxFQUFJQyxHQUNQckQsS0FBS2lCLGVBQWVxQyxJQUFJRixFQUFJQyxHQUcxQnRELE9BQ0lDLEtBQUs2QyxVQUFVN0IsWUFDZmhCLEtBQUtnQixZQUVMaEIsS0FBS2lCLGVBQWVMLElBQUksYUFBYU0sa0JBQWtCLFFBQVUsa0JBQ2pFQyxnQkFDSW5CLEtBQUtpQixlQUFlTCxJQUFJLGFBQWFRLFNBQVMsVUFBVSxPQUN4RHBCLE1BQUs2QyxVQUFVdEIsYUFBYSxNQUM5QixLQUNGSixnQkFDSUUsYUFBYUMsYUFBYXNCLFVBQVVoRCxpQkFDdEMsS0FHTkcsT0FDSXNCLGFBQWFHLFlBQVlvQixVQUFVaEQsZ0JBQ25DSSxLQUFLNkMsVUFBVTdCLFlBQ2ZoQixLQUFLZ0IsWUFFTGhCLEtBQUs2QyxVQUFVVSxTQUVmdkQsS0FBS2lCLGVBQWVMLElBQUksYUFBYVEsU0FBUyxVQUFVLFNBQ3hERCxnQkFDSW5CLEtBQUtpQixlQUFlTCxJQUFJLGFBQWFNLGtCQUFrQixRQUFVLHdCQUNuRSxLQU1ObkIsWUFDUUMsS0FBS2lCLGVBQWVRLGlCQUFpQkMsYUFDckNDLFdBQVdDLGVBQWU1QixLQUFLaUIsZUFBZVEsa0JBSXREMUIsYUFDSXNCLGFBQWFtQyxZQUFZWixVQUFVaEQsZ0JBQ25DSSxLQUFLaUIsZUFBZXdDLG1CQ3JIdEJoRSxPQUFNLEdBQUlDLFFBQU8saUJBRVZnRSxVQUVaOUQsNEJBQThCLE1BQU8sV0FDbENDLDBCQUE0QixNQUFPLHVDQUNuQ0Msd0JBQTBCLE1BQU8sc0NBS2pDQyxZQUFZNEQsR0FFUjNELEtBQUtLLGlCQUFtQkgsZUFBZUMsU0FBU0csa0JBR2hETixLQUFLQyxjQUFnQkMsZUFBZUMsU0FBU0MsZUFHN0NKLEtBQUsyRCxLQUFPQSxFQUdoQjVELGFBQ0lDLEtBQUtRLFVBQVlSLEtBQUtLLGlCQUFpQkksT0FBTyxZQUM5Q1ksYUFBYUcsWUFBWWtDLFNBQVM5RCxnQkFDbENJLEtBQUtRLFVBQVVJLElBQUksWUFBWU0sa0JBQWtCLE9BQU9sQixLQUFLMkQsTUFHcEU1RCxlQUNDLE1BQU9DLE1BQUtRLFVBR1ZULFVBQVU2RCxFQUFPQyxHQUViLE1BREFDLHlCQUF3QkMsS0FBS0gsRUFBT0MsR0FBV0csR0FBR2hFLEtBQUtRLFVBQVVJLElBQUksYUFDOURaLEtBR1hELGtCQUFrQmtFLEdBR2QsTUFGQWpFLE1BQUtDLGNBQWNVLE9BQU9YLEtBQUtRLFVBQVVJLElBQUksWUFBYSxVQUFXLDBCQUEyQlosS0FBS1EsVUFBVUsscUJBQy9HYixLQUFLQyxjQUFjYSxPQUFPLDBCQUEyQm1ELEVBQVNqRSxLQUFLUSxVQUFVSyxxQkFDdEViLEtBR1hELGtCQUFrQmtFLEdBQ2RqRSxLQUFLQyxjQUFjVSxPQUFPWCxLQUFLUSxVQUFVSSxJQUFJLFlBQWEsVUFBVyx3QkFBeUJaLEtBQUtRLFVBQVVLLG9CQUM3RyxJQUFJcUQsR0FBYSxHQUFJbEIsZ0JBQWVoRCxLQUFLLEFBQUNtRSxJQUFzQyxLQUF2QkEsRUFBTUMsY0FBdUJILEVBQVNJLFFBRS9GLE9BREFyRSxNQUFLQyxjQUFjYSxPQUFPLHdCQUF5Qm9ELEVBQVlsRSxLQUFLUSxVQUFVSyxxQkFDdkViLFdDN0NUUCxPQUFNLEdBQUlDLFFBQU8sY0FFakI0RSxXQUFhLHlCQUNiQyxZQUFjLDBCQUNkQyxhQUFlLDJCQUNmQyxrQkFBb0IsaUNBRWJDLFlBRVo5RSw0QkFBOEIsTUFBTyxhQUNsQ0MsMEJBQTRCLE1BQU8seUNBQ25DQyx3QkFBMEIsTUFBTyx3Q0FLakNDLFlBQVk0RCxHQUVSM0QsS0FBS0ssaUJBQW1CSCxlQUFlQyxTQUFTRyxrQkFHaEROLEtBQUtDLGNBQWdCQyxlQUFlQyxTQUFTQyxlQUU3Q0osS0FBSzJELEtBQU9BLEVBRVozRCxLQUFLNkQsV0FBWSxHQUFJYyxpQkFDaEJDLGtCQUFrQixHQUFJNUIsZ0JBQWVoRCxLQUFNQSxLQUFLNkUsc0JBRXJEN0UsS0FBSzhFLFNBQVUsRUFHbkIvRSxhQUNJQyxLQUFLUSxVQUFZUixLQUFLSyxpQkFBaUJJLE9BQU8sY0FFOUNZLGFBQWFHLFlBQVlrRCxXQUFXOUUsZUFFcEMsTUFBTW1GLEdBQU0vRSxLQUFLUSxVQUFVSyxvQkFDckJtRSxFQUFRaEYsS0FBS1EsVUFBVUksSUFBSSxjQUMzQnFFLEVBQVFqRixLQUFLUSxVQUFVSSxJQUFJLGFBRWpDb0UsR0FBTTlELGtCQUFrQixPQUFPbEIsS0FBSzJELE1BRXBDM0QsS0FBS0MsY0FBY1UsT0FBT3FFLEVBQU8sU0FBVVYsV0FBWVMsR0FDdkQvRSxLQUFLQyxjQUFjVSxPQUFPcUUsRUFBTyxVQUFXVCxZQUFhUSxHQUN6RC9FLEtBQUtDLGNBQWNVLE9BQU9xRSxFQUFPLFdBQVlSLGFBQWNPLEdBQzNEL0UsS0FBS0MsY0FBY1UsT0FBT3NFLEVBQU8sVUFBV1Isa0JBQW1CTSxHQUUvRC9FLEtBQUtDLGNBQWNhLE9BQU93RCxXQUFZLEdBQUl0QixnQkFBZWhELEtBQU1BLEtBQUtrRixTQUFVSCxHQUM5RS9FLEtBQUtDLGNBQWNhLE9BQU95RCxZQUFhLEdBQUl2QixnQkFBZWhELEtBQU1BLEtBQUttRixPQUFRSixHQUM3RS9FLEtBQUtDLGNBQWNhLE9BQU8wRCxhQUFjLEdBQUl4QixnQkFBZWhELEtBQU1BLEtBQUtvRixRQUFTTCxHQUMvRS9FLEtBQUtDLGNBQWNhLE9BQU8yRCxrQkFBbUIsR0FBSXpCLGdCQUFlaEQsS0FBTUEsS0FBSzZFLHFCQUFzQkUsR0FFakcvRSxLQUFLcUYsZ0JBQWdCLFNBRzVCdEYsZUFDQyxNQUFPQyxNQUFLUSxVQUdWVCxTQUNJQyxLQUFLOEUsU0FBVSxFQUduQi9FLE1BQU1vRSxHQUVGLEdBREFuRSxLQUFLOEUsU0FBVSxFQUNZLEtBQXZCWCxFQUFNQyxhQUdWLE1BQUtwRSxNQUFLNkQsVUFBVXlCLGVBS2hCdEYsS0FBS3VGLGVBQ0x2RixLQUFLdUYsY0FBY2xCLFNBTG5CckUsS0FBS3dGLDBCQUNMeEYsTUFBS3lGLGFBV2IxRixlQUNJLE1BQU9DLE1BQUs2RCxVQUdoQjlELFVBQVU2RCxHQUlOLE1BSEFFLHlCQUNLQyxLQUFLSCxFQUFPNUQsS0FBSzZELFdBQ2pCRyxHQUFHaEUsS0FBS1EsVUFBVUksSUFBSSxlQUNwQlosS0FHWEQsZ0JBQWdCMkYsR0FFWixNQURBMUYsTUFBS1EsVUFBVUksSUFBSSxjQUFjTSxrQkFBa0IsY0FBY3dFLEdBQzFEMUYsS0FHWEQsa0JBQWtCa0UsR0FFZCxNQURBakUsTUFBS3VGLGNBQWdCdEIsRUFDZGpFLEtBR1hELFVBQ0ksR0FBS0MsS0FBSzhFLFFBR1YsTUFBSzlFLE1BQUs2RCxVQUFVeUIsY0FJcEJ0RixNQUFLNkUsMEJBSEQ3RSxNQUFLd0Ysc0JBTWJ6RixzQkFBd0JDLEtBQUtRLFVBQVVJLElBQUksY0FBY1EsU0FBUyxVQUFVLFNBQzVFckIsc0JBQXdCQyxLQUFLUSxVQUFVSSxJQUFJLGNBQWNRLFNBQVMsVUFBVSxRQUM1RXJCLFFBQVVDLEtBQUtRLFVBQVVJLElBQUksY0FBYytFLFFBQzNDNUYsWUFBY0MsS0FBS1EsVUFBVUksSUFBSSxjQUFjNkUsWUFDL0MxRixTQUFXQyxLQUFLUSxVQUFVSSxJQUFJLGNBQWMyQyxTQUM1Q3hELFVBQVlDLEtBQUtRLFVBQVVJLElBQUksY0FBY2dGLGdCQ3RIM0NuRyxPQUFNLEdBQUlDLFFBQU8saUJBRWpCbUcsTUFBUSxnQkFDUkMsTUFBUSxnQkFFUnhCLGFBQWEsNEJBQ2JDLGNBQWMsNkJBQ2RDLGVBQWUsOEJBQ2ZDLG9CQUFvQixvQ0FFYnNCLGVBRVpuRyw0QkFBOEIsTUFBTyxnQkFDbENDLDBCQUE0QixNQUFPLDRDQUNuQ0Msd0JBQTBCLE1BQU8sMkNBTWpDQyxZQUFZNEQsR0FFUjNELEtBQUtLLGlCQUFtQkgsZUFBZUMsU0FBU0csa0JBR2hETixLQUFLQyxjQUFnQkMsZUFBZUMsU0FBU0MsZUFFN0NKLEtBQUsyRCxLQUFPQSxFQUVaM0QsS0FBSzZELFdBQVksR0FBSW1DLG9CQUNoQnBCLGtCQUFrQixHQUFJNUIsZ0JBQWVoRCxLQUFNQSxLQUFLNkUsc0JBRXJEN0UsS0FBSzhFLFNBQVUsRUFHbkIvRSxhQUNJQyxLQUFLUSxVQUFZUixLQUFLSyxpQkFBaUJJLE9BQU8saUJBRTlDWSxhQUFhRyxZQUFZdUUsY0FBY25HLGVBRXZDLE1BQU1tRixHQUFNL0UsS0FBS1EsVUFBVUssb0JBQ3JCbUUsRUFBUWhGLEtBQUtRLFVBQVVJLElBQUlpRixPQUMzQlosRUFBUWpGLEtBQUtRLFVBQVVJLElBQUlrRixNQUVqQ2QsR0FBTTlELGtCQUFrQixPQUFPbEIsS0FBSzJELE1BRXBDM0QsS0FBS0MsY0FBY1UsT0FBT3FFLEVBQU8sU0FBVVYsYUFBWVMsR0FDdkQvRSxLQUFLQyxjQUFjVSxPQUFPcUUsRUFBTyxVQUFXVCxjQUFhUSxHQUN6RC9FLEtBQUtDLGNBQWNVLE9BQU9xRSxFQUFPLFdBQVlSLGVBQWNPLEdBQzNEL0UsS0FBS0MsY0FBY1UsT0FBT3NFLEVBQU8sVUFBV1Isb0JBQW1CTSxHQUUvRC9FLEtBQUtDLGNBQWNhLE9BQU93RCxhQUFZLEdBQUl0QixnQkFBZWhELEtBQU1BLEtBQUtpRyxzQkFBdUJsQixHQUMzRi9FLEtBQUtDLGNBQWNhLE9BQU95RCxjQUFhLEdBQUl2QixnQkFBZWhELEtBQU1BLEtBQUttRixPQUFRSixHQUM3RS9FLEtBQUtDLGNBQWNhLE9BQU8wRCxlQUFjLEdBQUl4QixnQkFBZWhELEtBQU1BLEtBQUtvRixRQUFTTCxHQUMvRS9FLEtBQUtDLGNBQWNhLE9BQU8yRCxvQkFBbUIsR0FBSXpCLGdCQUFlaEQsS0FBTUEsS0FBSzZFLHFCQUFzQkUsR0FFakcvRSxLQUFLcUYsZ0JBQWdCLFlBRzVCdEYsZUFDQyxNQUFPQyxNQUFLUSxVQUdWVCxTQUNJQyxLQUFLOEUsU0FBVSxFQUduQi9FLE1BQU1vRSxHQUVGLEdBREFuRSxLQUFLOEUsU0FBVSxFQUNZLEtBQXZCWCxFQUFNQyxhQUdWLE1BQUtwRSxNQUFLNkQsVUFBVXlCLGVBS2hCdEYsS0FBS3VGLGVBQ0x2RixLQUFLdUYsY0FBY2xCLFNBTG5CckUsS0FBS3dGLDBCQUNMeEYsTUFBS3lGLGFBV2IxRixlQUNJLE1BQU9DLE1BQUs2RCxVQUdoQjlELFVBQVU2RCxHQUlOLE1BSEFFLHlCQUNLQyxLQUFLSCxFQUFPNUQsS0FBSzZELFdBQ2pCRyxHQUFHaEUsS0FBS1EsVUFBVUksSUFBSWlGLFFBQ3BCN0YsS0FHWEQsZ0JBQWdCMkYsR0FFWixNQURBMUYsTUFBS1EsVUFBVUksSUFBSWlGLE9BQU8zRSxrQkFBa0IsY0FBY3dFLEdBQ25EMUYsS0FHWEQsa0JBQWtCa0UsR0FFZCxNQURBakUsTUFBS3VGLGNBQWdCdEIsRUFDZGpFLEtBR1hELHVCQUNJLEdBQUtDLEtBQUs4RSxRQUdWLE1BQUs5RSxNQUFLNkQsVUFBVXlCLGNBSXBCdEYsTUFBSzZFLDBCQUhEN0UsTUFBS3dGLHNCQU9iekYsc0JBQXdCQyxLQUFLUSxVQUFVSSxJQUFJa0YsT0FBTzFFLFNBQVMsVUFBVSxTQUNyRXJCLHNCQUF3QkMsS0FBS1EsVUFBVUksSUFBSWtGLE9BQU8xRSxTQUFTLFVBQVUsUUFDckVyQixRQUFVQyxLQUFLUSxVQUFVSSxJQUFJaUYsT0FBT0YsUUFDcEM1RixZQUFjQyxLQUFLUSxVQUFVSSxJQUFJaUYsT0FBT0osWUFDeEMxRixTQUFXQyxLQUFLUSxVQUFVSSxJQUFJaUYsT0FBT3RDLFNBQ3JDeEQsVUFBWUMsS0FBS1EsVUFBVUksSUFBSWlGLE9BQU9ELGdCQ3pIcENuRyxPQUFNLEdBQUlDLFFBQU8sd0JBRWpCbUcsUUFBUSx1QkFDUkssY0FBZSw4QkFDZkosUUFBUSx1QkFDUkssY0FBZ0IsOEJBRWhCN0IsYUFBYSxtQ0FDYkMsY0FBYyxvQ0FDZEMsZUFBZSxxQ0FDZkMsb0JBQW9CLHNDQUVwQjJCLG1CQUFxQiwwQ0FDckJDLG9CQUFzQiwyQ0FDdEJDLHFCQUF1Qiw0Q0FDdkJDLDBCQUE0QixrREFFckJDLHNCQUVaNUcsNEJBQThCLE1BQU8sdUJBQ2xDQywwQkFBNEIsTUFBTyxtREFDbkNDLHdCQUEwQixNQUFPLGtEQU1qQ0MsWUFBWTRELEdBRVIzRCxLQUFLSyxpQkFBbUJILGVBQWVDLFNBQVNHLGtCQUdoRE4sS0FBS0MsY0FBZ0JDLGVBQWVDLFNBQVNDLGVBRTdDSixLQUFLMkQsS0FBT0EsRUFFWjNELEtBQUt5RyxtQkFBb0IsR0FBSUMsb0JBQ3hCOUIsa0JBQWtCLEdBQUk1QixnQkFBZWhELEtBQU1BLEtBQUsyRyw4QkFFckQzRyxLQUFLNEcsa0JBQW1CLEdBQUlDLGtCQUN2QmpDLGtCQUFrQixHQUFJNUIsZ0JBQWVoRCxLQUFNQSxLQUFLOEcsNkJBRXJEOUcsS0FBSzZELFdBQVksR0FBSWtELGtCQUNoQkMsY0FBY2hILEtBQUt5RyxtQkFDbkJPLGNBQWNoSCxLQUFLNEcsa0JBRXhCNUcsS0FBSzhFLFNBQVUsRUFDZjlFLEtBQUtpSCxnQkFBaUIsRUFHMUJsSCxhQUNJQyxLQUFLUSxVQUFZUixLQUFLSyxpQkFBaUJJLE9BQU8sd0JBRTlDWSxhQUFhRyxZQUFZZ0YscUJBQXFCNUcsZUFFOUMsTUFBTW1GLEdBQU0vRSxLQUFLUSxVQUFVSyxvQkFFckJtRSxFQUFRaEYsS0FBS1EsVUFBVUksSUFBSWlGLFNBQzNCWixFQUFRakYsS0FBS1EsVUFBVUksSUFBSWtGLFNBRTNCb0IsRUFBZWxILEtBQUtRLFVBQVVJLElBQUlzRixlQUNsQ2lCLEVBQWVuSCxLQUFLUSxVQUFVSSxJQUFJdUYsY0FFeENuQixHQUFNOUQsa0JBQWtCLE9BQU9sQixLQUFLMkQsTUFFcEMzRCxLQUFLQyxjQUFjVSxPQUFPcUUsRUFBTyxTQUFVVixhQUFZUyxHQUN2RC9FLEtBQUtDLGNBQWNVLE9BQU9xRSxFQUFPLFVBQVdULGNBQWFRLEdBQ3pEL0UsS0FBS0MsY0FBY1UsT0FBT3FFLEVBQU8sV0FBWVIsZUFBY08sR0FDM0QvRSxLQUFLQyxjQUFjVSxPQUFPc0UsRUFBTyxVQUFXUixvQkFBbUJNLEdBRS9EL0UsS0FBS0MsY0FBY1UsT0FBT3VHLEVBQWMsU0FBVWQsbUJBQW9CckIsR0FDdEUvRSxLQUFLQyxjQUFjVSxPQUFPdUcsRUFBYyxVQUFXYixvQkFBcUJ0QixHQUN4RS9FLEtBQUtDLGNBQWNVLE9BQU91RyxFQUFjLFdBQVlaLHFCQUFzQnZCLEdBQzFFL0UsS0FBS0MsY0FBY1UsT0FBT3dHLEVBQWMsVUFBV1osMEJBQTJCeEIsR0FFOUUvRSxLQUFLQyxjQUFjYSxPQUFPd0QsYUFBWSxHQUFJdEIsZ0JBQWVoRCxLQUFNQSxLQUFLb0gsTUFBT3JDLEdBQzNFL0UsS0FBS0MsY0FBY2EsT0FBT3lELGNBQWEsR0FBSXZCLGdCQUFlaEQsS0FBTUEsS0FBS21GLE9BQVFKLEdBQzdFL0UsS0FBS0MsY0FBY2EsT0FBTzBELGVBQWMsR0FBSXhCLGdCQUFlaEQsS0FBTUEsS0FBS29GLFFBQVNMLEdBQy9FL0UsS0FBS0MsY0FBY2EsT0FBTzJELG9CQUFtQixHQUFJekIsZ0JBQWVoRCxLQUFNQSxLQUFLMkcsNkJBQThCNUIsR0FFekcvRSxLQUFLQyxjQUFjYSxPQUFPc0YsbUJBQW9CLEdBQUlwRCxnQkFBZWhELEtBQU1BLEtBQUtxSCxhQUFjdEMsR0FDMUYvRSxLQUFLQyxjQUFjYSxPQUFPdUYsb0JBQXFCLEdBQUlyRCxnQkFBZWhELEtBQU1BLEtBQUtzSCxjQUFldkMsR0FDNUYvRSxLQUFLQyxjQUFjYSxPQUFPd0YscUJBQXNCLEdBQUl0RCxnQkFBZWhELEtBQU1BLEtBQUt1SCxlQUFnQnhDLEdBQzlGL0UsS0FBS0MsY0FBY2EsT0FBT3lGLDBCQUEyQixHQUFJdkQsZ0JBQWVoRCxLQUFNQSxLQUFLOEcsNEJBQTZCL0IsR0FFaEgvRSxLQUFLcUYsZ0JBQWdCLFdBQVksb0JBR3JDdEYsZ0JBQ0lDLEtBQUs4RSxTQUFVLEVBR25CL0UsYUFBYW9FLEdBSVQsR0FIb0QsS0FBakRuRSxLQUFLUSxVQUFVSSxJQUFJc0YsZUFBZXNCLGFBQ2pDeEgsS0FBS2lILGdCQUFpQixHQUVDLEtBQXZCOUMsRUFBTUMsYUFHVixNQUFLcEUsTUFBSzRHLGlCQUFpQnRCLGVBS3ZCdEYsS0FBS3VGLGVBQ0x2RixLQUFLdUYsY0FBY2xCLFNBTG5CckUsS0FBS3lILGlDQUNMekgsTUFBSzBILG9CQVFiM0gsU0FDT0MsS0FBS1EsVUFBVUksSUFBSXNGLGVBQWVzQixhQUFleEgsS0FBS1EsVUFBVUksSUFBSWlGLFNBQU8yQixZQUMxRXhILEtBQUtRLFVBQVVJLElBQUlzRixlQUFleUIsU0FBUyxJQUUvQzNILEtBQUs4RSxTQUFVLEVBR25CL0UsTUFBTW9FLEdBTUYsR0FMNEMsS0FBekNuRSxLQUFLUSxVQUFVSSxJQUFJaUYsU0FBTzJCLGFBQ3pCeEgsS0FBSzhFLFNBQVUsR0FFbkI5RSxLQUFLNEcsaUJBQWlCZSxTQUFTM0gsS0FBS1EsVUFBVUksSUFBSWlGLFNBQU8yQixZQUN6RHhILEtBQUs0RyxpQkFBaUJnQixTQUFTNUgsS0FBS1EsVUFBVUksSUFBSXNGLGVBQWVzQixZQUN0QyxLQUF2QnJELEVBQU1DLGFBQVYsQ0FHQSxJQUFLcEUsS0FBS3lHLGtCQUFrQm5CLFVBR3hCLE1BRkF0RixNQUFLNkgsa0NBQ0w3SCxNQUFLeUYsV0FHVHpGLE1BQUs4SCxlQUNMOUgsS0FBSzBILG9CQUdaM0gsZUFDQyxNQUFPQyxNQUFLUSxVQU1WVCxlQUNJLE1BQU9DLE1BQUs2RCxVQUdoQjlELFVBQVU2RCxHQVFOLE1BUEFFLHlCQUNLQyxLQUFLSCxFQUFPNUQsS0FBS3lHLG1CQUNqQnpDLEdBQUdoRSxLQUFLUSxVQUFVSSxJQUFJaUYsVUFFM0IvQix3QkFDS0MsS0FBS0gsRUFBTzVELEtBQUs0RyxrQkFDakI1QyxHQUFHaEUsS0FBS1EsVUFBVUksSUFBSXNGLGdCQUNwQmxHLEtBR1hELGdCQUFnQjJGLEVBQWtCcUMsR0FHOUIsTUFGQS9ILE1BQUtRLFVBQVVJLElBQUlpRixTQUFPM0Usa0JBQWtCLGNBQWN3RSxHQUMxRDFGLEtBQUtRLFVBQVVJLElBQUlzRixlQUFlaEYsa0JBQWtCLGNBQWM2RyxHQUMzRC9ILEtBR1hELGtCQUFrQmtFLEdBRWQsTUFEQWpFLE1BQUt1RixjQUFnQnRCLEVBQ2RqRSxLQUdYRCxjQUNJLEdBQUtDLEtBQUtpSCxlQUdWLE1BQUtqSCxNQUFLNEcsaUJBQWlCdEIsY0FJM0J0RixNQUFLOEcsaUNBSEQ5RyxNQUFLeUgsNkJBTWIxSCxPQUNJLEdBQUtDLEtBQUs4RSxRQUdWLE1BQUs5RSxNQUFLeUcsa0JBQWtCbkIsY0FJNUJ0RixNQUFLMkcsa0NBSEQzRyxNQUFLNkgsOEJBTWI5SCw4QkFBZ0NDLEtBQUtRLFVBQVVJLElBQUlrRixTQUFPMUUsU0FBUyxVQUFVLFNBQzdFckIsOEJBQWdDQyxLQUFLUSxVQUFVSSxJQUFJa0YsU0FBTzFFLFNBQVMsVUFBVSxRQUM3RXJCLDZCQUErQkMsS0FBS1EsVUFBVUksSUFBSXVGLGVBQWUvRSxTQUFTLFVBQVUsU0FDcEZyQiw2QkFBK0JDLEtBQUtRLFVBQVVJLElBQUl1RixlQUFlL0UsU0FBUyxVQUFVLFFBQ3BGckIsUUFBVUMsS0FBS1EsVUFBVUksSUFBSWlGLFNBQU9GLFFBQ3BDNUYsZUFBaUJDLEtBQUtRLFVBQVVJLElBQUlzRixlQUFlUCxRQUNuRDVGLFlBQWNDLEtBQUtRLFVBQVVJLElBQUlpRixTQUFPSixZQUN4QzFGLG1CQUFxQkMsS0FBS1EsVUFBVUksSUFBSXNGLGVBQWVULFlBQ3ZEMUYsU0FBV0MsS0FBS1EsVUFBVUksSUFBSWlGLFNBQU90QyxTQUNyQ3hELFVBQVlDLEtBQUtRLFVBQVVJLElBQUlpRixTQUFPRCxVQUN0QzdGLGdCQUFrQkMsS0FBS1EsVUFBVUksSUFBSXNGLGVBQWUzQyxTQUNwRHhELGlCQUFtQkMsS0FBS1EsVUFBVUksSUFBSXNGLGVBQWVOLGdCQ2xObkRuRyxPQUFNLEdBQUlDLFFBQU8sYUFFakI2RSxjQUFjLHlCQUNkeUQsWUFBYyxnQ0FFUEMsV0FFWnJJLDRCQUE4QixNQUFPLFlBQ2xDQywwQkFBNEIsTUFBTyx3Q0FDbkNDLHdCQUEwQixNQUFPLHVDQUtqQ0MsWUFBWTRELEdBRVIzRCxLQUFLSyxpQkFBbUJDLGlCQUd4Qk4sS0FBS0MsY0FBZ0JHLGNBR3JCSixLQUFLMkQsS0FBT0EsQ0FFWixNQUFNb0IsR0FBTS9FLEtBQUtRLFVBQVVLLG9CQUNyQm1FLEVBQVFoRixLQUFLUSxVQUFVSSxJQUFJLFlBRWpDWixNQUFLQyxjQUFjVSxPQUFPcUUsRUFBTyxVQUFXVCxjQUFhUSxHQUN6RC9FLEtBQUtDLGNBQWNVLE9BQU9xRSxFQUFPLFVBQVdnRCxZQUFhakQsR0FFekQvRSxLQUFLQyxjQUFjYSxPQUFPeUQsY0FBYSxHQUFJdkIsZ0JBQWVoRCxLQUFNQSxLQUFLbUYsT0FBUUosR0FDN0UvRSxLQUFLQyxjQUFjYSxPQUFPa0gsWUFBYSxHQUFJaEYsZ0JBQWVoRCxLQUFNQSxLQUFLa0ksT0FBUW5ELEdBSWpGaEYsTUFBTW9FLEdBQ3dCLEtBQXZCQSxFQUFNQyxjQUdOcEUsS0FBS3VGLGVBQ0p2RixLQUFLdUYsY0FBY2xCLE9BSTNCdEUsTUFBTW9FLEdBQ0NuRSxLQUFLMEMsZUFDSjFDLEtBQUswQyxjQUFjMkIsT0FJM0J0RSxhQUNJQyxLQUFLUSxVQUFZUixLQUFLSyxpQkFBaUJJLE9BQU8sYUFFOUNZLGFBQWFHLFlBQVl5RyxVQUFVckksZ0JBRW5DSSxLQUFLUSxVQUFVSSxJQUFJLGFBQWFNLGtCQUFrQixPQUFRbEIsS0FBSzJELE1BR3RFNUQsZUFDQyxNQUFPQyxNQUFLUSxVQUdWVCxVQUFVNkQsRUFBT0MsR0FFYixNQURBQyx5QkFBd0JDLEtBQUtILEVBQU9DLEdBQVdHLEdBQUdoRSxLQUFLUSxVQUFVSSxJQUFJLGNBQzlEWixLQUdYRCxnQkFBZ0IyRixHQUVaLE1BREExRixNQUFLUSxVQUFVSSxJQUFJLGFBQWFNLGtCQUFrQixjQUFld0UsR0FDMUQxRixLQUdYRCxrQkFBa0JrRSxHQUVkLE1BREFqRSxNQUFLMEMsY0FBZ0J1QixFQUNkakUsS0FHWEQsa0JBQWtCa0UsR0FFZCxNQURBakUsTUFBS3VGLGNBQWdCdEIsRUFDZGpFIn0=
