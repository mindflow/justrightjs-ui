import{EventRegistry,ComponentFactory,CanvasStyles,CanvasRoot,StylesRegistry,InputElementDataBinding,EmailValidator,RequiredValidator,PasswordValidator,EqualsValidator,AndValidatorSet}from"./justright_core_v1.js";import{Logger,ObjectFunction}from"./coreutil_v1.js";import{InjectionPoint}from"./mindi_v1.js";const LOG=new Logger("BackShade");class BackShade{static get COMPONENT_NAME(){return"BackShade"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/backShade.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/backShade.css"}constructor(){this.eventRegistry=InjectionPoint.instance(EventRegistry),this.componentFactory=InjectionPoint.instance(ComponentFactory)}postConfig(){LOG.info("Post config"),this.component=this.componentFactory.create("BackShade")}getComponent(){return this.component}withClickListener(t){return this.eventRegistry.attach(this.component.get("backShade"),"onclick","//event:backShadeClicked",this.component.getComponentIndex()),this.eventRegistry.listen("//event:backShadeClicked",t,this.component.getComponentIndex()),this}disableAfter(t){this.mountSelf(),this.getComponent().get("backShade").setAttributeValue("class","back-shade fade"),setTimeout(()=>{this.getComponent().get("backShade").setStyle("display","none")},t),setTimeout(()=>{CanvasStyles.disableStyle(BackShade.COMPONENT_NAME)},t+1)}disable(){this.disableAfter(500)}enable(){CanvasStyles.enableStyle(BackShade.COMPONENT_NAME),this.mountSelf(),this.getComponent().get("backShade").setStyle("display","block"),setTimeout(()=>{this.getComponent().get("backShade").setAttributeValue("class","back-shade fade show")},100)}mountSelf(){this.getComponent().getRootElement().isMounted()||CanvasRoot.addBodyElement(this.getComponent().getRootElement())}removeSelf(){this.getComponent().remove()}}const LOG$1=new Logger("Button");class Button{static get COMPONENT_NAME(){return"Button"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/button.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/button.css"}static get TYPE_PRIMARY(){return"btn-primary"}static get TYPE_SECONDARY(){return"btn-secondary"}static get TYPE_SUCCESS(){return"btn-success"}static get TYPE_INFO(){return"btn-info"}static get TYPE_WARNING(){return"btn-warning"}static get TYPE_DANGER(){return"btn-danger"}static get TYPE_LIGHT(){return"btn-light"}static get TYPE_DARK(){return"btn-dark"}constructor(t,e=Button.TYPE_PRIMARY){this.label=t,this.componentFactory=InjectionPoint.instance(ComponentFactory),this.buttonType=e,this.eventRegistry=InjectionPoint.instance(EventRegistry)}postConfig(){this.component=this.componentFactory.create("Button"),CanvasStyles.enableStyle(Button.COMPONENT_NAME),this.component.get("button").setChild(this.label),this.component.get("button").setAttributeValue("class","btn "+this.buttonType)}getComponent(){return this.component}withClickListener(t){return this.eventRegistry.attach(this.component.get("button"),"onclick","//event:buttonClicked",this.component.getComponentIndex()),this.eventRegistry.listen("//event:buttonClicked",t,this.component.getComponentIndex()),this}disable(){this.getComponent().get("button").setAttributeValue("disabled","true")}enable(){this.getComponent().get("button").removeAttribute("disabled")}}const LOG$2=new Logger("DialogBox");class DialogBox{static get COMPONENT_NAME(){return"DialogBox"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/dialogBox.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/dialogBox.css"}constructor(){this.eventRegistry=InjectionPoint.instance(EventRegistry),this.componentFactory=InjectionPoint.instance(ComponentFactory),this.component=null,this.backShade=InjectionPoint.instance(BackShade),this.stylesRegistry=InjectionPoint.instance(StylesRegistry)}postConfig(){LOG$2.info("Post config"),this.component=this.componentFactory.create("DialogBox"),this.eventRegistry.attach(this.component.get("closeButton"),"onclick","//event:closeClicked",this.component.getComponentIndex()),this.eventRegistry.listen("//event:closeClicked",new ObjectFunction(this,this.hide),this.component.getComponentIndex()),this.backShade=this.backShade.withClickListener(new ObjectFunction(this,this.hide))}getComponent(){return this.component}setTitle(t){this.getComponent().setChild("title",t)}setFooter(t){this.getComponent().get("footer").setStyle("display","block"),this.getComponent().setChild("footer",t)}setContent(t){this.getComponent().setChild("content",t)}set(t,e){this.getComponent().set(t,e)}hide(){this.backShade.mountSelf(),this.mountSelf(),this.getComponent().get("dialogBox").setAttributeValue("class","dialogbox fade"),setTimeout(()=>{this.getComponent().get("dialogBox").setStyle("display","none");this.backShade.disableAfter(500)},200),setTimeout(()=>{CanvasStyles.disableStyle(DialogBox.COMPONENT_NAME)},201)}show(){CanvasStyles.enableStyle(DialogBox.COMPONENT_NAME),this.backShade.mountSelf(),this.mountSelf(),this.backShade.enable(),this.getComponent().get("dialogBox").setStyle("display","block"),setTimeout(()=>{this.getComponent().get("dialogBox").setAttributeValue("class","dialogbox fade show")},100)}mountSelf(){this.getComponent().getRootElement().isMounted()||CanvasRoot.addBodyElement(this.getComponent().getRootElement())}removeSelf(){CanvasStyles.removeStyle(DialogBox.COMPONENT_NAME),this.getComponent().removeSelf()}}const LOG$3=new Logger("CheckBox");class CheckBox{static get COMPONENT_NAME(){return"CheckBox"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/checkBox.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/checkBox.css"}constructor(t){this.componentFactory=InjectionPoint.instance(ComponentFactory),this.eventRegistry=InjectionPoint.instance(EventRegistry),this.name=t}postConfig(){this.component=this.componentFactory.create("CheckBox"),CanvasStyles.enableStyle(CheckBox.COMPONENT_NAME),this.component.get("checkBox").setAttributeValue("name",this.name)}getComponent(){return this.component}withModel(t,e){return InputElementDataBinding.link(t,e).to(this.component.get("checkBox")),this}withClickListener(t){return this.eventRegistry.attach(this.component.get("checkBox"),"onclick","//event:checkBoxClicked",this.component.getComponentIndex()),this.eventRegistry.listen("//event:checkBoxClicked",t,this.component.getComponentIndex()),this}withEnterListener(t){this.eventRegistry.attach(this.component.get("checkBox"),"onkeyup","//event:checkBoxEnter",this.component.getComponentIndex());let e=new ObjectFunction(this,e=>{13===e.getKeyCode()&&t.call()});return this.eventRegistry.listen("//event:checkBoxEnter",e,this.component.getComponentIndex()),this}}const LOG$4=new Logger("EmailInput"),BLUR_EVENT="//event:emailInputBlur",KEYUP_EVENT="//event:emailInputKeyUp",CHANGE_EVENT="//event:emailInputChange",ERROR_CLICK_EVENT="//event:emailErrorClicked";class EmailInput{static get COMPONENT_NAME(){return"EmailInput"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/emailInput.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/emailInput.css"}constructor(t){this.componentFactory=InjectionPoint.instance(ComponentFactory),this.eventRegistry=InjectionPoint.instance(EventRegistry),this.name=t,this.validator=(new EmailValidator).withValidListener(new ObjectFunction(this,this.hideValidationError)),this.changed=!1}postConfig(){this.component=this.componentFactory.create("EmailInput"),CanvasStyles.enableStyle(EmailInput.COMPONENT_NAME);const t=this.component.getComponentIndex(),e=this.component.get("emailInput"),n=this.component.get("emailError");e.setAttributeValue("name",this.name),this.eventRegistry.attach(e,"onblur",BLUR_EVENT,t),this.eventRegistry.attach(e,"onkeyup",KEYUP_EVENT,t),this.eventRegistry.attach(e,"onchange",CHANGE_EVENT,t),this.eventRegistry.attach(n,"onclick",ERROR_CLICK_EVENT,t),this.eventRegistry.listen(BLUR_EVENT,new ObjectFunction(this,this.blurred),t),this.eventRegistry.listen(KEYUP_EVENT,new ObjectFunction(this,this.keyUp),t),this.eventRegistry.listen(CHANGE_EVENT,new ObjectFunction(this,this.change),t),this.eventRegistry.listen(ERROR_CLICK_EVENT,new ObjectFunction(this,this.hideValidationError),t),this.withPlaceholder("Email")}getComponent(){return this.component}change(){this.changed=!0}keyUp(t){if(this.changed=!0,13===t.getKeyCode())return this.validator.isValid()?void(this.enterListener&&this.enterListener.call()):(this.showValidationError(),void this.selectAll())}getValidator(){return this.validator}withModel(t){return InputElementDataBinding.link(t,this.validator).to(this.component.get("emailInput")),this}withPlaceholder(t){return this.component.get("emailInput").setAttributeValue("placeholder",t),this}withEnterListener(t){return this.enterListener=t,this}blurred(){if(this.changed)return this.validator.isValid()?void this.hideValidationError():void this.showValidationError()}showValidationError(){this.component.get("emailError").setStyle("display","block")}hideValidationError(){this.component.get("emailError").setStyle("display","none")}focus(){this.component.get("emailInput").focus()}selectAll(){this.component.get("emailInput").selectAll()}enable(){this.component.get("emailInput").enable()}disable(){this.component.get("emailInput").disable()}}const LOG$5=new Logger("PasswordInput"),INPUT="passwordInput",ERROR="passwordError",BLUR_EVENT$1="//event:passwordInputBlur",KEYUP_EVENT$1="//event:passwordInputKeyUp",CHANGE_EVENT$1="//event:passwordInputChange",ERROR_CLICK_EVENT$1="//event:passwordErrorClicked";class PasswordInput{static get COMPONENT_NAME(){return"PasswordInput"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/passwordInput.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/passwordInput.css"}constructor(t){this.componentFactory=InjectionPoint.instance(ComponentFactory),this.eventRegistry=InjectionPoint.instance(EventRegistry),this.name=t,this.validator=(new RequiredValidator).withValidListener(new ObjectFunction(this,this.hideValidationError)),this.changed=!1}postConfig(){this.component=this.componentFactory.create("PasswordInput"),CanvasStyles.enableStyle(PasswordInput.COMPONENT_NAME);const t=this.component.getComponentIndex(),e=this.component.get(INPUT),n=this.component.get(ERROR);e.setAttributeValue("name",this.name),this.eventRegistry.attach(e,"onblur",BLUR_EVENT$1,t),this.eventRegistry.attach(e,"onkeyup",KEYUP_EVENT$1,t),this.eventRegistry.attach(e,"onchange",CHANGE_EVENT$1,t),this.eventRegistry.attach(n,"onclick",ERROR_CLICK_EVENT$1,t),this.eventRegistry.listen(BLUR_EVENT$1,new ObjectFunction(this,this.passwordInputBlurred),t),this.eventRegistry.listen(KEYUP_EVENT$1,new ObjectFunction(this,this.keyUp),t),this.eventRegistry.listen(CHANGE_EVENT$1,new ObjectFunction(this,this.change),t),this.eventRegistry.listen(ERROR_CLICK_EVENT$1,new ObjectFunction(this,this.hideValidationError),t),this.withPlaceholder("Password")}getComponent(){return this.component}change(){this.changed=!0}keyUp(t){if(this.changed=!0,13===t.getKeyCode())return this.validator.isValid()?void(this.enterListener&&this.enterListener.call()):(this.showValidationError(),void this.selectAll())}getValidator(){return this.validator}withModel(t){return InputElementDataBinding.link(t,this.validator).to(this.component.get(INPUT)),this}withPlaceholder(t){return this.component.get(INPUT).setAttributeValue("placeholder",t),this}withEnterListener(t){return this.enterListener=t,this}passwordInputBlurred(){if(this.changed)return this.validator.isValid()?void this.hideValidationError():void this.showValidationError()}showValidationError(){this.component.get(ERROR).setStyle("display","block")}hideValidationError(){this.component.get(ERROR).setStyle("display","none")}focus(){this.component.get(INPUT).focus()}selectAll(){this.component.get(INPUT).selectAll()}enable(){this.component.get(INPUT).enable()}disable(){this.component.get(INPUT).disable()}}const LOG$6=new Logger("PasswordMatcherInput"),INPUT$1="passwordMatcherInput",CONTROL_INPUT="passwordMatcherControlInput",ERROR$1="passwordMatcherError",CONTROL_ERROR="passwordMatcherControlError",BLUR_EVENT$2="//event:passwordMatcherInputBlur",KEYUP_EVENT$2="//event:passwordMatcherInputKeyUp",CHANGE_EVENT$2="//event:passwordMatcherInputChange",ERROR_CLICK_EVENT$2="//event:passwordMatcherErrorClicked",CONTROL_BLUR_EVENT="//event:passwordMatcherControlInputBlur",CONTROL_KEYUP_EVENT="//event:passwordMatcherControlInputKeyUp",CONTROL_CHANGE_EVENT="//event:passwordMatcherControlInputChange",CONTROL_ERROR_CLICK_EVENT="//event:passwordMatcherControlErrorClicked";class PasswordMatcherInput{static get COMPONENT_NAME(){return"PasswordMatcherInput"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/passwordMatcherInput.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/passwordMatcherInput.css"}constructor(t){this.componentFactory=InjectionPoint.instance(ComponentFactory),this.eventRegistry=InjectionPoint.instance(EventRegistry),this.name=t,this.passwordValidator=(new PasswordValidator).withValidListener(new ObjectFunction(this,this.hidePasswordValidationError)),this.controlValidator=(new EqualsValidator).withValidListener(new ObjectFunction(this,this.hideControlValidationError)),this.validator=(new AndValidatorSet).withValidator(this.passwordValidator).withValidator(this.controlValidator),this.changed=!1,this.controlChanged=!1}postConfig(){this.component=this.componentFactory.create("PasswordMatcherInput"),CanvasStyles.enableStyle(PasswordMatcherInput.COMPONENT_NAME);const t=this.component.getComponentIndex(),e=this.component.get(INPUT$1),n=this.component.get(ERROR$1),i=this.component.get(CONTROL_INPUT),o=this.component.get(CONTROL_ERROR);e.setAttributeValue("name",this.name),this.eventRegistry.attach(e,"onblur",BLUR_EVENT$2,t),this.eventRegistry.attach(e,"onkeyup",KEYUP_EVENT$2,t),this.eventRegistry.attach(e,"onchange",CHANGE_EVENT$2,t),this.eventRegistry.attach(n,"onclick",ERROR_CLICK_EVENT$2,t),this.eventRegistry.attach(i,"onblur",CONTROL_BLUR_EVENT,t),this.eventRegistry.attach(i,"onkeyup",CONTROL_KEYUP_EVENT,t),this.eventRegistry.attach(i,"onchange",CONTROL_CHANGE_EVENT,t),this.eventRegistry.attach(o,"onclick",CONTROL_ERROR_CLICK_EVENT,t),this.eventRegistry.listen(BLUR_EVENT$2,new ObjectFunction(this,this.blur),t),this.eventRegistry.listen(KEYUP_EVENT$2,new ObjectFunction(this,this.keyUp),t),this.eventRegistry.listen(CHANGE_EVENT$2,new ObjectFunction(this,this.change),t),this.eventRegistry.listen(ERROR_CLICK_EVENT$2,new ObjectFunction(this,this.hidePasswordValidationError),t),this.eventRegistry.listen(CONTROL_BLUR_EVENT,new ObjectFunction(this,this.controlBlur),t),this.eventRegistry.listen(CONTROL_KEYUP_EVENT,new ObjectFunction(this,this.controlKeyUp),t),this.eventRegistry.listen(CONTROL_CHANGE_EVENT,new ObjectFunction(this,this.controlChange),t),this.eventRegistry.listen(CONTROL_ERROR_CLICK_EVENT,new ObjectFunction(this,this.hideControlValidationError),t),this.withPlaceholder("Password","Confirm password")}controlChange(){this.changed=!0}controlKeyUp(t){if(""!==this.component.get(CONTROL_INPUT).getValue()&&(this.controlChanged=!0),13===t.getKeyCode())return this.controlValidator.isValid()?void(this.enterListener&&this.enterListener.call()):(this.showControlValidationError(),void this.selectAllControl())}change(){this.component.get(CONTROL_INPUT).getValue()!==this.component.get(INPUT$1).getValue()&&this.component.get(CONTROL_INPUT).setValue(""),this.changed=!0}keyUp(t){if(""!==this.component.get(INPUT$1).getValue()&&(this.changed=!0),this.controlValidator.setValue(this.component.get(INPUT$1).getValue()),this.controlValidator.validate(this.component.get(CONTROL_INPUT).getValue()),13===t.getKeyCode()){if(!this.passwordValidator.isValid())return this.showPasswordValidationError(),void this.selectAll();this.focusControl(),this.selectAllControl()}}getComponent(){return this.component}getValidator(){return this.validator}withModel(t){return InputElementDataBinding.link(t,this.passwordValidator).to(this.component.get(INPUT$1)),InputElementDataBinding.link(t,this.controlValidator).to(this.component.get(CONTROL_INPUT)),this}withPlaceholder(t,e){return this.component.get(INPUT$1).setAttributeValue("placeholder",t),this.component.get(CONTROL_INPUT).setAttributeValue("placeholder",e),this}withEnterListener(t){return this.enterListener=t,this}controlBlur(){if(this.controlChanged)return this.controlValidator.isValid()?void this.hideControlValidationError():void this.showControlValidationError()}blur(){if(this.changed)return this.passwordValidator.isValid()?void this.hidePasswordValidationError():void this.showPasswordValidationError()}showPasswordValidationError(){this.component.get(ERROR$1).setStyle("display","block")}hidePasswordValidationError(){this.component.get(ERROR$1).setStyle("display","none")}showControlValidationError(){this.component.get(CONTROL_ERROR).setStyle("display","block")}hideControlValidationError(){this.component.get(CONTROL_ERROR).setStyle("display","none")}focus(){this.component.get(INPUT$1).focus()}focusControl(){this.component.get(CONTROL_INPUT).focus()}selectAll(){this.component.get(INPUT$1).selectAll()}selectAllControl(){this.component.get(CONTROL_INPUT).selectAll()}enable(){this.component.get(INPUT$1).enable()}disable(){this.component.get(INPUT$1).disable()}enableControl(){this.component.get(CONTROL_INPUT).enable()}disableControl(){this.component.get(CONTROL_INPUT).disable()}}const LOG$7=new Logger("TextInput"),KEYUP_EVENT$3="//event:textInputKeyUp",CLICK_EVENT="//event:textInputClicked";class TextInput{static get COMPONENT_NAME(){return"TextInput"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/textInput.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/textInput.css"}constructor(t){this.componentFactory=ComponentFactory,this.eventRegistry=EventRegistry,this.name=t;const e=this.component.getComponentIndex(),n=this.component.get("textInput");this.eventRegistry.attach(n,"onkeyup",KEYUP_EVENT$3,e),this.eventRegistry.attach(n,"onclick",CLICK_EVENT,e),this.eventRegistry.listen(KEYUP_EVENT$3,new ObjectFunction(this,this.keyUp),e),this.eventRegistry.listen(CLICK_EVENT,new ObjectFunction(this,this.click),e)}keyUp(t){13===t.getKeyCode()&&this.enterListener&&this.enterListener.call()}click(t){this.clickListener&&this.clickListener.call()}postConfig(){this.component=this.componentFactory.create("TextInput"),CanvasStyles.enableStyle(TextInput.COMPONENT_NAME),this.component.get("textInput").setAttributeValue("name",this.name)}getComponent(){return this.component}withModel(t,e){return InputElementDataBinding.link(t,e).to(this.component.get("textInput")),this}withPlaceholder(t){return this.component.get("textInput").setAttributeValue("placeholder",t),this}withClickListener(t){return this.clickListener=t,this}withEnterListener(t){return this.enterListener=t,this}}export{BackShade,Button,CheckBox,DialogBox,EmailInput,PasswordInput,PasswordMatcherInput,TextInput};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianVzdHJpZ2h0X3VpX3YxLmpzIiwic291cmNlcyI6WyIuLi8uLi9zcmMvanVzdHJpZ2h0L2NvbXBvbmVudC9iYWNrU2hhZGUvYmFja1NoYWRlLmpzIiwiLi4vLi4vc3JjL2p1c3RyaWdodC9jb21wb25lbnQvYnV0dG9uL2J1dHRvbi5qcyIsIi4uLy4uL3NyYy9qdXN0cmlnaHQvY29tcG9uZW50L2RpYWxvZ0JveC9kaWFsb2dCb3guanMiLCIuLi8uLi9zcmMvanVzdHJpZ2h0L2NvbXBvbmVudC9pbnB1dC9jaGVja0JveC9jaGVja0JveC5qcyIsIi4uLy4uL3NyYy9qdXN0cmlnaHQvY29tcG9uZW50L2lucHV0L2VtYWlsSW5wdXQvZW1haWxJbnB1dC5qcyIsIi4uLy4uL3NyYy9qdXN0cmlnaHQvY29tcG9uZW50L2lucHV0L3Bhc3N3b3JkSW5wdXQvcGFzc3dvcmRJbnB1dC5qcyIsIi4uLy4uL3NyYy9qdXN0cmlnaHQvY29tcG9uZW50L2lucHV0L3Bhc3N3b3JkTWF0Y2hlcklucHV0L3Bhc3N3b3JkTWF0Y2hlcklucHV0LmpzIiwiLi4vLi4vc3JjL2p1c3RyaWdodC9jb21wb25lbnQvaW5wdXQvdGV4dElucHV0L3RleHRJbnB1dC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gICAgQ29tcG9uZW50LFxyXG4gICAgQ29tcG9uZW50RmFjdG9yeSxcclxuICAgIEV2ZW50UmVnaXN0cnksXHJcbiAgICBDYW52YXNTdHlsZXMsXHJcbiAgICBDYW52YXNSb290XHJcbn0gZnJvbSBcImp1c3RyaWdodF9jb3JlX3YxXCI7XHJcbmltcG9ydCB7IExvZ2dlciwgT2JqZWN0RnVuY3Rpb24gfSBmcm9tIFwiY29yZXV0aWxfdjFcIjtcclxuaW1wb3J0IHsgSW5qZWN0aW9uUG9pbnQgfSBmcm9tIFwibWluZGlfdjFcIjtcclxuXHJcbmNvbnN0IExPRyA9IG5ldyBMb2dnZXIoXCJCYWNrU2hhZGVcIik7XHJcblxyXG5leHBvcnQgY2xhc3MgQmFja1NoYWRlIHtcclxuXHJcblx0c3RhdGljIGdldCBDT01QT05FTlRfTkFNRSgpIHsgcmV0dXJuIFwiQmFja1NoYWRlXCI7IH1cclxuXHRzdGF0aWMgZ2V0IFRFTVBMQVRFX1VSTCgpIHsgcmV0dXJuIFwiL2Fzc2V0cy9qdXN0cmlnaHRqcy11aS9iYWNrU2hhZGUuaHRtbFwiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFNUWUxFU19VUkwoKSB7IHJldHVybiBcIi9hc3NldHMvanVzdHJpZ2h0anMtdWkvYmFja1NoYWRlLmNzc1wiOyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuXHJcblx0XHQvKiogQHR5cGUge0V2ZW50UmVnaXN0cnl9ICovXHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5ID0gSW5qZWN0aW9uUG9pbnQuaW5zdGFuY2UoRXZlbnRSZWdpc3RyeSk7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7Q29tcG9uZW50RmFjdG9yeX0gKi9cclxuICAgICAgICB0aGlzLmNvbXBvbmVudEZhY3RvcnkgPSBJbmplY3Rpb25Qb2ludC5pbnN0YW5jZShDb21wb25lbnRGYWN0b3J5KTtcclxuXHR9XHJcblxyXG4gICAgcG9zdENvbmZpZygpIHtcclxuICAgICAgICBMT0cuaW5mbyhcIlBvc3QgY29uZmlnXCIpO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50ID0gdGhpcy5jb21wb25lbnRGYWN0b3J5LmNyZWF0ZShcIkJhY2tTaGFkZVwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEByZXR1cm4ge0NvbXBvbmVudH1cclxuICAgICAqL1xyXG5cdGdldENvbXBvbmVudCgpe1xyXG5cdFx0cmV0dXJuIHRoaXMuY29tcG9uZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdEZ1bmN0aW9ufSBjbGlja2VkTGlzdGVuZXIgXHJcbiAgICAgKi9cclxuICAgIHdpdGhDbGlja0xpc3RlbmVyKGNsaWNrZWRMaXN0ZW5lcikge1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5hdHRhY2godGhpcy5jb21wb25lbnQuZ2V0KFwiYmFja1NoYWRlXCIpLCBcIm9uY2xpY2tcIiwgXCIvL2V2ZW50OmJhY2tTaGFkZUNsaWNrZWRcIiwgdGhpcy5jb21wb25lbnQuZ2V0Q29tcG9uZW50SW5kZXgoKSk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5Lmxpc3RlbihcIi8vZXZlbnQ6YmFja1NoYWRlQ2xpY2tlZFwiLCBjbGlja2VkTGlzdGVuZXIsIHRoaXMuY29tcG9uZW50LmdldENvbXBvbmVudEluZGV4KCkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGRpc2FibGVBZnRlcihtaWxsaVNlY29uZHMpIHtcclxuICAgICAgICB0aGlzLm1vdW50U2VsZigpO1xyXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KCkuZ2V0KFwiYmFja1NoYWRlXCIpLnNldEF0dHJpYnV0ZVZhbHVlKFwiY2xhc3NcIiwgXCJiYWNrLXNoYWRlIGZhZGVcIik7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IFxyXG4gICAgICAgICAgICB0aGlzLmdldENvbXBvbmVudCgpLmdldChcImJhY2tTaGFkZVwiKS5zZXRTdHlsZShcImRpc3BsYXlcIiwgXCJub25lXCIpO1xyXG4gICAgICAgIH0sIG1pbGxpU2Vjb25kcyk7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIENhbnZhc1N0eWxlcy5kaXNhYmxlU3R5bGUoQmFja1NoYWRlLkNPTVBPTkVOVF9OQU1FKTtcclxuICAgICAgICB9LCBtaWxsaVNlY29uZHMgKyAxKTtcclxuICAgIH1cclxuXHJcbiAgICBkaXNhYmxlKCkge1xyXG4gICAgICAgIHRoaXMuZGlzYWJsZUFmdGVyKDUwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZW5hYmxlKCkge1xyXG4gICAgICAgIENhbnZhc1N0eWxlcy5lbmFibGVTdHlsZShCYWNrU2hhZGUuQ09NUE9ORU5UX05BTUUpO1xyXG4gICAgICAgIHRoaXMubW91bnRTZWxmKCk7XHJcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoKS5nZXQoXCJiYWNrU2hhZGVcIikuc2V0U3R5bGUoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IFxyXG4gICAgICAgICAgICB0aGlzLmdldENvbXBvbmVudCgpLmdldChcImJhY2tTaGFkZVwiKS5zZXRBdHRyaWJ1dGVWYWx1ZShcImNsYXNzXCIsIFwiYmFjay1zaGFkZSBmYWRlIHNob3dcIikgXHJcbiAgICAgICAgfSwgMTAwKTtcclxuICAgIH1cclxuXHJcbiAgICBtb3VudFNlbGYoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmdldENvbXBvbmVudCgpLmdldFJvb3RFbGVtZW50KCkuaXNNb3VudGVkKCkpIHtcclxuICAgICAgICAgICAgQ2FudmFzUm9vdC5hZGRCb2R5RWxlbWVudCh0aGlzLmdldENvbXBvbmVudCgpLmdldFJvb3RFbGVtZW50KCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVTZWxmKCkge1xyXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KCkucmVtb3ZlKCk7XHJcbiAgICB9XHJcbiAgICBcclxufSIsImltcG9ydCB7XHJcbiAgICBDb21wb25lbnRGYWN0b3J5LFxyXG4gICAgRXZlbnRSZWdpc3RyeSxcclxuICAgIENhbnZhc1N0eWxlc1xyXG59IGZyb20gXCJqdXN0cmlnaHRfY29yZV92MVwiO1xyXG5pbXBvcnQgeyBJbmplY3Rpb25Qb2ludCB9IGZyb20gXCJtaW5kaV92MVwiO1xyXG5pbXBvcnQgeyBMb2dnZXIsIE9iamVjdEZ1bmN0aW9uIH0gZnJvbSBcImNvcmV1dGlsX3YxXCI7XHJcblxyXG5jb25zdCBMT0cgPSBuZXcgTG9nZ2VyKFwiQnV0dG9uXCIpO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJ1dHRvbiB7XHJcblxyXG5cdHN0YXRpYyBnZXQgQ09NUE9ORU5UX05BTUUoKSB7IHJldHVybiBcIkJ1dHRvblwiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFRFTVBMQVRFX1VSTCgpIHsgcmV0dXJuIFwiL2Fzc2V0cy9qdXN0cmlnaHRqcy11aS9idXR0b24uaHRtbFwiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFNUWUxFU19VUkwoKSB7IHJldHVybiBcIi9hc3NldHMvanVzdHJpZ2h0anMtdWkvYnV0dG9uLmNzc1wiOyB9XHJcblxyXG4gICAgc3RhdGljIGdldCBUWVBFX1BSSU1BUlkoKSB7IHJldHVybiBcImJ0bi1wcmltYXJ5XCI7IH1cclxuICAgIHN0YXRpYyBnZXQgVFlQRV9TRUNPTkRBUlkoKSB7IHJldHVybiBcImJ0bi1zZWNvbmRhcnlcIjsgfVxyXG4gICAgc3RhdGljIGdldCBUWVBFX1NVQ0NFU1MoKSB7IHJldHVybiBcImJ0bi1zdWNjZXNzXCI7IH1cclxuICAgIHN0YXRpYyBnZXQgVFlQRV9JTkZPKCkgeyByZXR1cm4gXCJidG4taW5mb1wiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFRZUEVfV0FSTklORygpIHsgcmV0dXJuIFwiYnRuLXdhcm5pbmdcIjsgfVxyXG4gICAgc3RhdGljIGdldCBUWVBFX0RBTkdFUigpIHsgcmV0dXJuIFwiYnRuLWRhbmdlclwiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFRZUEVfTElHSFQoKSB7IHJldHVybiBcImJ0bi1saWdodFwiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFRZUEVfREFSSygpIHsgcmV0dXJuIFwiYnRuLWRhcmtcIjsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGFiZWwgXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYnV0dG9uVHlwZSBcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IobGFiZWwsIGJ1dHRvblR5cGUgPSBCdXR0b24uVFlQRV9QUklNQVJZKSB7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xyXG4gICAgICAgIHRoaXMubGFiZWwgPSBsYWJlbDtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHtDb21wb25lbnRGYWN0b3J5fSAqL1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50RmFjdG9yeSA9IEluamVjdGlvblBvaW50Lmluc3RhbmNlKENvbXBvbmVudEZhY3RvcnkpO1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cclxuICAgICAgICB0aGlzLmJ1dHRvblR5cGUgPSBidXR0b25UeXBlO1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge0V2ZW50UmVnaXN0cnl9ICovXHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5ID0gSW5qZWN0aW9uUG9pbnQuaW5zdGFuY2UoRXZlbnRSZWdpc3RyeSk7XHJcbiAgICB9XHJcblxyXG4gICAgcG9zdENvbmZpZygpIHtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50RmFjdG9yeS5jcmVhdGUoXCJCdXR0b25cIik7XHJcbiAgICAgICAgQ2FudmFzU3R5bGVzLmVuYWJsZVN0eWxlKEJ1dHRvbi5DT01QT05FTlRfTkFNRSk7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQuZ2V0KFwiYnV0dG9uXCIpLnNldENoaWxkKHRoaXMubGFiZWwpO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50LmdldChcImJ1dHRvblwiKS5zZXRBdHRyaWJ1dGVWYWx1ZShcImNsYXNzXCIsXCJidG4gXCIgKyB0aGlzLmJ1dHRvblR5cGUpO1xyXG4gICAgfVxyXG5cclxuXHRnZXRDb21wb25lbnQoKXtcclxuXHRcdHJldHVybiB0aGlzLmNvbXBvbmVudDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtPYmplY3RGdW5jdGlvbn0gY2xpY2tlZExpc3RlbmVyIFxyXG4gICAgICovXHJcbiAgICB3aXRoQ2xpY2tMaXN0ZW5lcihjbGlja0xpc3RlbmVyKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5LmF0dGFjaCh0aGlzLmNvbXBvbmVudC5nZXQoXCJidXR0b25cIiksIFwib25jbGlja1wiLCBcIi8vZXZlbnQ6YnV0dG9uQ2xpY2tlZFwiLCB0aGlzLmNvbXBvbmVudC5nZXRDb21wb25lbnRJbmRleCgpKTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKFwiLy9ldmVudDpidXR0b25DbGlja2VkXCIsIGNsaWNrTGlzdGVuZXIsIHRoaXMuY29tcG9uZW50LmdldENvbXBvbmVudEluZGV4KCkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGRpc2FibGUoKSB7XHJcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoKS5nZXQoXCJidXR0b25cIikuc2V0QXR0cmlidXRlVmFsdWUoXCJkaXNhYmxlZFwiLFwidHJ1ZVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBlbmFibGUoKSB7XHJcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoKS5nZXQoXCJidXR0b25cIikucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge1xyXG4gICAgQ29tcG9uZW50LFxyXG4gICAgQ29tcG9uZW50RmFjdG9yeSxcclxuICAgIEV2ZW50UmVnaXN0cnksXHJcbiAgICBDYW52YXNTdHlsZXMsXHJcbiAgICBTdHlsZXNSZWdpc3RyeSxcclxuICAgIENhbnZhc1Jvb3RcclxufSBmcm9tIFwianVzdHJpZ2h0X2NvcmVfdjFcIjtcclxuaW1wb3J0IHsgTG9nZ2VyLCBPYmplY3RGdW5jdGlvbiB9IGZyb20gXCJjb3JldXRpbF92MVwiO1xyXG5pbXBvcnQgeyBJbmplY3Rpb25Qb2ludCB9IGZyb20gXCJtaW5kaV92MVwiO1xyXG5pbXBvcnQgeyBCYWNrU2hhZGUgfSBmcm9tIFwiLi4vYmFja1NoYWRlL2JhY2tTaGFkZS5qc1wiO1xyXG5cclxuXHJcbmNvbnN0IExPRyA9IG5ldyBMb2dnZXIoXCJEaWFsb2dCb3hcIik7XHJcblxyXG5leHBvcnQgY2xhc3MgRGlhbG9nQm94IHtcclxuXHJcblx0c3RhdGljIGdldCBDT01QT05FTlRfTkFNRSgpIHsgcmV0dXJuIFwiRGlhbG9nQm94XCI7IH1cclxuICAgIHN0YXRpYyBnZXQgVEVNUExBVEVfVVJMKCkgeyByZXR1cm4gXCIvYXNzZXRzL2p1c3RyaWdodGpzLXVpL2RpYWxvZ0JveC5odG1sXCI7IH1cclxuICAgIHN0YXRpYyBnZXQgU1RZTEVTX1VSTCgpIHsgcmV0dXJuIFwiL2Fzc2V0cy9qdXN0cmlnaHRqcy11aS9kaWFsb2dCb3guY3NzXCI7IH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuXHJcblx0XHQvKiogQHR5cGUge0V2ZW50UmVnaXN0cnl9ICovXHJcblx0XHR0aGlzLmV2ZW50UmVnaXN0cnkgPSBJbmplY3Rpb25Qb2ludC5pbnN0YW5jZShFdmVudFJlZ2lzdHJ5KTtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHtDb21wb25lbnRGYWN0b3J5fSAqL1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50RmFjdG9yeSA9IEluamVjdGlvblBvaW50Lmluc3RhbmNlKENvbXBvbmVudEZhY3RvcnkpO1xyXG5cclxuXHJcblx0XHQvKiogQHR5cGUge0NvbXBvbmVudH0gKi9cclxuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IG51bGw7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLyoqIEB0eXBlIHtCYWNrU2hhZGV9ICovXHJcbiAgICAgICAgdGhpcy5iYWNrU2hhZGUgPSBJbmplY3Rpb25Qb2ludC5pbnN0YW5jZShCYWNrU2hhZGUpO1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge1N0eWxlc1JlZ2lzdHJ5fSAqL1xyXG4gICAgICAgIHRoaXMuc3R5bGVzUmVnaXN0cnkgPSBJbmplY3Rpb25Qb2ludC5pbnN0YW5jZShTdHlsZXNSZWdpc3RyeSk7XHJcblx0fVxyXG5cclxuXHJcbiAgICBwb3N0Q29uZmlnKCkge1xyXG4gICAgICAgIExPRy5pbmZvKFwiUG9zdCBjb25maWdcIilcclxuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50RmFjdG9yeS5jcmVhdGUoXCJEaWFsb2dCb3hcIik7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5LmF0dGFjaCh0aGlzLmNvbXBvbmVudC5nZXQoXCJjbG9zZUJ1dHRvblwiKSwgXCJvbmNsaWNrXCIsIFwiLy9ldmVudDpjbG9zZUNsaWNrZWRcIiwgdGhpcy5jb21wb25lbnQuZ2V0Q29tcG9uZW50SW5kZXgoKSk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5Lmxpc3RlbihcIi8vZXZlbnQ6Y2xvc2VDbGlja2VkXCIsIG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLCB0aGlzLmhpZGUpLHRoaXMuY29tcG9uZW50LmdldENvbXBvbmVudEluZGV4KCkpO1xyXG4gICAgICAgIHRoaXMuYmFja1NoYWRlID0gdGhpcy5iYWNrU2hhZGVcclxuICAgICAgICAgICAgLndpdGhDbGlja0xpc3RlbmVyKG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLCB0aGlzLmhpZGUpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEByZXR1cm4ge0NvbXBvbmVudH1cclxuICAgICAqL1xyXG5cdGdldENvbXBvbmVudCgpe1xyXG5cdFx0cmV0dXJuIHRoaXMuY29tcG9uZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBcclxuICAgICAqL1xyXG4gICAgc2V0VGl0bGUodGV4dCl7XHJcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoKS5zZXRDaGlsZChcInRpdGxlXCIsIHRleHQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge0NvbXBvbmVudH0gY29tcG9uZW50IFxyXG4gICAgICovXHJcbiAgICBzZXRGb290ZXIoY29tcG9uZW50KXtcclxuICAgICAgICB0aGlzLmdldENvbXBvbmVudCgpLmdldChcImZvb3RlclwiKS5zZXRTdHlsZShcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcclxuICAgICAgICB0aGlzLmdldENvbXBvbmVudCgpLnNldENoaWxkKFwiZm9vdGVyXCIsIGNvbXBvbmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7Q29tcG9uZW50fSBjb21wb25lbnQgXHJcbiAgICAgKi9cclxuICAgIHNldENvbnRlbnQoY29tcG9uZW50KXtcclxuICAgICAgICB0aGlzLmdldENvbXBvbmVudCgpLnNldENoaWxkKFwiY29udGVudFwiLGNvbXBvbmVudCk7XHJcbiAgICB9XHJcblxyXG5cdHNldChrZXksdmFsKSB7XHJcblx0XHR0aGlzLmdldENvbXBvbmVudCgpLnNldChrZXksdmFsKTtcclxuXHR9XHJcbiAgICBcclxuICAgIGhpZGUoKSB7XHJcbiAgICAgICAgdGhpcy5iYWNrU2hhZGUubW91bnRTZWxmKCk7XHJcbiAgICAgICAgdGhpcy5tb3VudFNlbGYoKTtcclxuXHJcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoKS5nZXQoXCJkaWFsb2dCb3hcIikuc2V0QXR0cmlidXRlVmFsdWUoXCJjbGFzc1wiICwgXCJkaWFsb2dib3ggZmFkZVwiKTtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KCkuZ2V0KFwiZGlhbG9nQm94XCIpLnNldFN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKTtcclxuICAgICAgICAgICAgdGhpcy5iYWNrU2hhZGUuZGlzYWJsZUFmdGVyKDUwMCk7XHJcbiAgICAgICAgfSwyMDApO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBDYW52YXNTdHlsZXMuZGlzYWJsZVN0eWxlKERpYWxvZ0JveC5DT01QT05FTlRfTkFNRSk7XHJcbiAgICAgICAgfSwyMDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3coKSB7XHJcbiAgICAgICAgQ2FudmFzU3R5bGVzLmVuYWJsZVN0eWxlKERpYWxvZ0JveC5DT01QT05FTlRfTkFNRSk7XHJcbiAgICAgICAgdGhpcy5iYWNrU2hhZGUubW91bnRTZWxmKCk7XHJcbiAgICAgICAgdGhpcy5tb3VudFNlbGYoKTtcclxuXHJcbiAgICAgICAgdGhpcy5iYWNrU2hhZGUuZW5hYmxlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KCkuZ2V0KFwiZGlhbG9nQm94XCIpLnNldFN0eWxlKFwiZGlzcGxheVwiLFwiYmxvY2tcIik7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IFxyXG4gICAgICAgICAgICB0aGlzLmdldENvbXBvbmVudCgpLmdldChcImRpYWxvZ0JveFwiKS5zZXRBdHRyaWJ1dGVWYWx1ZShcImNsYXNzXCIgLCBcImRpYWxvZ2JveCBmYWRlIHNob3dcIikgO1xyXG4gICAgICAgIH0sMTAwKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEluc2VydHMgdGhpcyBjb21wb25lbnQgaW4gdGhlIGNvbnRhaW5lciBhdCB0aGUgcHJvdmlkZWQgaWRcclxuICAgICAqL1xyXG4gICAgbW91bnRTZWxmKCkge1xyXG4gICAgICAgIGlmKCF0aGlzLmdldENvbXBvbmVudCgpLmdldFJvb3RFbGVtZW50KCkuaXNNb3VudGVkKCkpIHtcclxuICAgICAgICAgICAgQ2FudmFzUm9vdC5hZGRCb2R5RWxlbWVudCh0aGlzLmdldENvbXBvbmVudCgpLmdldFJvb3RFbGVtZW50KCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVTZWxmKCkge1xyXG4gICAgICAgIENhbnZhc1N0eWxlcy5yZW1vdmVTdHlsZShEaWFsb2dCb3guQ09NUE9ORU5UX05BTUUpO1xyXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KCkucmVtb3ZlU2VsZigpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHtcclxuICAgIENvbXBvbmVudEZhY3RvcnksXHJcbiAgICBFdmVudFJlZ2lzdHJ5LFxyXG4gICAgQ2FudmFzU3R5bGVzLFxyXG4gICAgQ29tcG9uZW50LFxyXG4gICAgSW5wdXRFbGVtZW50RGF0YUJpbmRpbmdcclxufSBmcm9tIFwianVzdHJpZ2h0X2NvcmVfdjFcIjtcclxuaW1wb3J0IHsgSW5qZWN0aW9uUG9pbnQgfSBmcm9tIFwibWluZGlfdjFcIjtcclxuaW1wb3J0IHsgTG9nZ2VyLCBPYmplY3RGdW5jdGlvbiB9IGZyb20gXCJjb3JldXRpbF92MVwiO1xyXG5cclxuY29uc3QgTE9HID0gbmV3IExvZ2dlcihcIkNoZWNrQm94XCIpO1xyXG5cclxuZXhwb3J0IGNsYXNzIENoZWNrQm94IHtcclxuXHJcblx0c3RhdGljIGdldCBDT01QT05FTlRfTkFNRSgpIHsgcmV0dXJuIFwiQ2hlY2tCb3hcIjsgfVxyXG4gICAgc3RhdGljIGdldCBURU1QTEFURV9VUkwoKSB7IHJldHVybiBcIi9hc3NldHMvanVzdHJpZ2h0anMtdWkvY2hlY2tCb3guaHRtbFwiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFNUWUxFU19VUkwoKSB7IHJldHVybiBcIi9hc3NldHMvanVzdHJpZ2h0anMtdWkvY2hlY2tCb3guY3NzXCI7IH1cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IobmFtZSkge1xyXG4gICAgICAgIC8qKiBAdHlwZSB7Q29tcG9uZW50RmFjdG9yeX0gKi9cclxuICAgICAgICB0aGlzLmNvbXBvbmVudEZhY3RvcnkgPSBJbmplY3Rpb25Qb2ludC5pbnN0YW5jZShDb21wb25lbnRGYWN0b3J5KTtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHtFdmVudFJlZ2lzdHJ5fSAqL1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeSA9IEluamVjdGlvblBvaW50Lmluc3RhbmNlKEV2ZW50UmVnaXN0cnkpO1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHBvc3RDb25maWcoKSB7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSB0aGlzLmNvbXBvbmVudEZhY3RvcnkuY3JlYXRlKFwiQ2hlY2tCb3hcIik7XHJcbiAgICAgICAgQ2FudmFzU3R5bGVzLmVuYWJsZVN0eWxlKENoZWNrQm94LkNPTVBPTkVOVF9OQU1FKTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudC5nZXQoXCJjaGVja0JveFwiKS5zZXRBdHRyaWJ1dGVWYWx1ZShcIm5hbWVcIix0aGlzLm5hbWUpO1xyXG4gICAgfVxyXG5cclxuXHRnZXRDb21wb25lbnQoKXtcclxuXHRcdHJldHVybiB0aGlzLmNvbXBvbmVudDtcclxuICAgIH1cclxuXHJcbiAgICB3aXRoTW9kZWwobW9kZWwsIHZhbGlkYXRvcikge1xyXG4gICAgICAgIElucHV0RWxlbWVudERhdGFCaW5kaW5nLmxpbmsobW9kZWwsIHZhbGlkYXRvcikudG8odGhpcy5jb21wb25lbnQuZ2V0KFwiY2hlY2tCb3hcIikpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHdpdGhDbGlja0xpc3RlbmVyKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5LmF0dGFjaCh0aGlzLmNvbXBvbmVudC5nZXQoXCJjaGVja0JveFwiKSwgXCJvbmNsaWNrXCIsIFwiLy9ldmVudDpjaGVja0JveENsaWNrZWRcIiwgdGhpcy5jb21wb25lbnQuZ2V0Q29tcG9uZW50SW5kZXgoKSk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5Lmxpc3RlbihcIi8vZXZlbnQ6Y2hlY2tCb3hDbGlja2VkXCIsIGxpc3RlbmVyLHRoaXMuY29tcG9uZW50LmdldENvbXBvbmVudEluZGV4KCkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHdpdGhFbnRlckxpc3RlbmVyKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5LmF0dGFjaCh0aGlzLmNvbXBvbmVudC5nZXQoXCJjaGVja0JveFwiKSwgXCJvbmtleXVwXCIsIFwiLy9ldmVudDpjaGVja0JveEVudGVyXCIsIHRoaXMuY29tcG9uZW50LmdldENvbXBvbmVudEluZGV4KCkpO1xyXG4gICAgICAgIGxldCBlbnRlckNoZWNrID0gbmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsKGV2ZW50KSA9PiB7IGlmKGV2ZW50LmdldEtleUNvZGUoKSA9PT0gMTMpIHsgbGlzdGVuZXIuY2FsbCgpOyB9IH0pO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5saXN0ZW4oXCIvL2V2ZW50OmNoZWNrQm94RW50ZXJcIiwgZW50ZXJDaGVjaywgdGhpcy5jb21wb25lbnQuZ2V0Q29tcG9uZW50SW5kZXgoKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IHtcclxuICAgIEFic3RyYWN0VmFsaWRhdG9yLFxyXG4gICAgRW1haWxWYWxpZGF0b3IsXHJcbiAgICBDb21wb25lbnRGYWN0b3J5LFxyXG4gICAgRXZlbnRSZWdpc3RyeSxcclxuICAgIENhbnZhc1N0eWxlcyxcclxuICAgIENvbXBvbmVudCxcclxuICAgIElucHV0RWxlbWVudERhdGFCaW5kaW5nXHJcbn0gZnJvbSBcImp1c3RyaWdodF9jb3JlX3YxXCI7XHJcbmltcG9ydCB7IEluamVjdGlvblBvaW50IH0gZnJvbSBcIm1pbmRpX3YxXCI7XHJcbmltcG9ydCB7IExvZ2dlciwgT2JqZWN0RnVuY3Rpb24gfSBmcm9tIFwiY29yZXV0aWxfdjFcIjtcclxuXHJcbmNvbnN0IExPRyA9IG5ldyBMb2dnZXIoXCJFbWFpbElucHV0XCIpO1xyXG5cclxuY29uc3QgQkxVUl9FVkVOVCA9IFwiLy9ldmVudDplbWFpbElucHV0Qmx1clwiO1xyXG5jb25zdCBLRVlVUF9FVkVOVCA9IFwiLy9ldmVudDplbWFpbElucHV0S2V5VXBcIjtcclxuY29uc3QgQ0hBTkdFX0VWRU5UID0gXCIvL2V2ZW50OmVtYWlsSW5wdXRDaGFuZ2VcIjtcclxuY29uc3QgRVJST1JfQ0xJQ0tfRVZFTlQgPSBcIi8vZXZlbnQ6ZW1haWxFcnJvckNsaWNrZWRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBFbWFpbElucHV0IHtcclxuXHJcblx0c3RhdGljIGdldCBDT01QT05FTlRfTkFNRSgpIHsgcmV0dXJuIFwiRW1haWxJbnB1dFwiOyB9XHJcbiAgICBzdGF0aWMgZ2V0IFRFTVBMQVRFX1VSTCgpIHsgcmV0dXJuIFwiL2Fzc2V0cy9qdXN0cmlnaHRqcy11aS9lbWFpbElucHV0Lmh0bWxcIjsgfVxyXG4gICAgc3RhdGljIGdldCBTVFlMRVNfVVJMKCkgeyByZXR1cm4gXCIvYXNzZXRzL2p1c3RyaWdodGpzLXVpL2VtYWlsSW5wdXQuY3NzXCI7IH1cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IobmFtZSkge1xyXG4gICAgICAgIC8qKiBAdHlwZSB7Q29tcG9uZW50RmFjdG9yeX0gKi9cclxuICAgICAgICB0aGlzLmNvbXBvbmVudEZhY3RvcnkgPSBJbmplY3Rpb25Qb2ludC5pbnN0YW5jZShDb21wb25lbnRGYWN0b3J5KTtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHtFdmVudFJlZ2lzdHJ5fSAqL1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeSA9IEluamVjdGlvblBvaW50Lmluc3RhbmNlKEV2ZW50UmVnaXN0cnkpO1xyXG5cclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG5cclxuICAgICAgICB0aGlzLnZhbGlkYXRvciA9IG5ldyBFbWFpbFZhbGlkYXRvcigpXHJcbiAgICAgICAgICAgIC53aXRoVmFsaWRMaXN0ZW5lcihuZXcgT2JqZWN0RnVuY3Rpb24odGhpcywgdGhpcy5oaWRlVmFsaWRhdGlvbkVycm9yKSk7XHJcblxyXG4gICAgICAgIHRoaXMuY2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHBvc3RDb25maWcoKSB7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSB0aGlzLmNvbXBvbmVudEZhY3RvcnkuY3JlYXRlKFwiRW1haWxJbnB1dFwiKTtcclxuXHJcbiAgICAgICAgQ2FudmFzU3R5bGVzLmVuYWJsZVN0eWxlKEVtYWlsSW5wdXQuQ09NUE9ORU5UX05BTUUpO1xyXG5cclxuICAgICAgICBjb25zdCBpZHggPSB0aGlzLmNvbXBvbmVudC5nZXRDb21wb25lbnRJbmRleCgpO1xyXG4gICAgICAgIGNvbnN0IGlucHV0ID0gdGhpcy5jb21wb25lbnQuZ2V0KFwiZW1haWxJbnB1dFwiKTtcclxuICAgICAgICBjb25zdCBlcnJvciA9IHRoaXMuY29tcG9uZW50LmdldChcImVtYWlsRXJyb3JcIik7XHJcblxyXG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZVZhbHVlKFwibmFtZVwiLHRoaXMubmFtZSk7XHJcblxyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5hdHRhY2goaW5wdXQsIFwib25ibHVyXCIsIEJMVVJfRVZFTlQsIGlkeCk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5LmF0dGFjaChpbnB1dCwgXCJvbmtleXVwXCIsIEtFWVVQX0VWRU5ULCBpZHgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5hdHRhY2goaW5wdXQsIFwib25jaGFuZ2VcIiwgQ0hBTkdFX0VWRU5ULCBpZHgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5hdHRhY2goZXJyb3IsIFwib25jbGlja1wiLCBFUlJPUl9DTElDS19FVkVOVCwgaWR4KTtcclxuXHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5Lmxpc3RlbihCTFVSX0VWRU5ULCBuZXcgT2JqZWN0RnVuY3Rpb24odGhpcywgdGhpcy5ibHVycmVkKSwgaWR4KTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKEtFWVVQX0VWRU5ULCBuZXcgT2JqZWN0RnVuY3Rpb24odGhpcywgdGhpcy5rZXlVcCksIGlkeCk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5Lmxpc3RlbihDSEFOR0VfRVZFTlQsIG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLCB0aGlzLmNoYW5nZSksIGlkeCk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5Lmxpc3RlbihFUlJPUl9DTElDS19FVkVOVCwgbmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsIHRoaXMuaGlkZVZhbGlkYXRpb25FcnJvciksIGlkeCk7XHJcblxyXG4gICAgICAgIHRoaXMud2l0aFBsYWNlaG9sZGVyKFwiRW1haWxcIik7XHJcbiAgICB9XHJcblxyXG5cdGdldENvbXBvbmVudCgpe1xyXG5cdFx0cmV0dXJuIHRoaXMuY29tcG9uZW50O1xyXG4gICAgfVxyXG5cclxuICAgIGNoYW5nZSgpIHtcclxuICAgICAgICB0aGlzLmNoYW5nZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGtleVVwKGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICBpZiAoZXZlbnQuZ2V0S2V5Q29kZSgpICE9PSAxMykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy52YWxpZGF0b3IuaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd1ZhbGlkYXRpb25FcnJvcigpO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdEFsbCgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmVudGVyTGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5lbnRlckxpc3RlbmVyLmNhbGwoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcmV0dXJucyB7QWJzdHJhY3RWYWxpZGF0b3J9XHJcbiAgICAgKi9cclxuICAgIGdldFZhbGlkYXRvcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52YWxpZGF0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgd2l0aE1vZGVsKG1vZGVsKSB7XHJcbiAgICAgICAgSW5wdXRFbGVtZW50RGF0YUJpbmRpbmdcclxuICAgICAgICAgICAgLmxpbmsobW9kZWwsIHRoaXMudmFsaWRhdG9yKVxyXG4gICAgICAgICAgICAudG8odGhpcy5jb21wb25lbnQuZ2V0KFwiZW1haWxJbnB1dFwiKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgd2l0aFBsYWNlaG9sZGVyKHBsYWNlaG9sZGVyVmFsdWUpIHtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudC5nZXQoXCJlbWFpbElucHV0XCIpLnNldEF0dHJpYnV0ZVZhbHVlKFwicGxhY2Vob2xkZXJcIixwbGFjZWhvbGRlclZhbHVlKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICB3aXRoRW50ZXJMaXN0ZW5lcihsaXN0ZW5lcikge1xyXG4gICAgICAgIHRoaXMuZW50ZXJMaXN0ZW5lciA9IGxpc3RlbmVyO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGJsdXJyZWQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmNoYW5nZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMudmFsaWRhdG9yLmlzVmFsaWQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dWYWxpZGF0aW9uRXJyb3IoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmhpZGVWYWxpZGF0aW9uRXJyb3IoKTtcclxuICAgIH1cclxuXHJcbiAgICBzaG93VmFsaWRhdGlvbkVycm9yKCkgeyB0aGlzLmNvbXBvbmVudC5nZXQoXCJlbWFpbEVycm9yXCIpLnNldFN0eWxlKFwiZGlzcGxheVwiLFwiYmxvY2tcIik7IH1cclxuICAgIGhpZGVWYWxpZGF0aW9uRXJyb3IoKSB7IHRoaXMuY29tcG9uZW50LmdldChcImVtYWlsRXJyb3JcIikuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJub25lXCIpOyB9XHJcbiAgICBmb2N1cygpIHsgdGhpcy5jb21wb25lbnQuZ2V0KFwiZW1haWxJbnB1dFwiKS5mb2N1cygpOyB9XHJcbiAgICBzZWxlY3RBbGwoKSB7IHRoaXMuY29tcG9uZW50LmdldChcImVtYWlsSW5wdXRcIikuc2VsZWN0QWxsKCk7IH1cclxuICAgIGVuYWJsZSgpIHsgdGhpcy5jb21wb25lbnQuZ2V0KFwiZW1haWxJbnB1dFwiKS5lbmFibGUoKTsgfVxyXG4gICAgZGlzYWJsZSgpIHsgdGhpcy5jb21wb25lbnQuZ2V0KFwiZW1haWxJbnB1dFwiKS5kaXNhYmxlKCk7IH1cclxufSIsImltcG9ydCB7IFxyXG4gICAgQWJzdHJhY3RWYWxpZGF0b3IsXHJcbiAgICBSZXF1aXJlZFZhbGlkYXRvcixcclxuICAgIENvbXBvbmVudEZhY3RvcnksXHJcbiAgICBFdmVudFJlZ2lzdHJ5LFxyXG4gICAgQ2FudmFzU3R5bGVzLFxyXG4gICAgQ29tcG9uZW50LFxyXG4gICAgSW5wdXRFbGVtZW50RGF0YUJpbmRpbmcgXHJcbn0gZnJvbSBcImp1c3RyaWdodF9jb3JlX3YxXCI7XHJcbmltcG9ydCB7IEluamVjdGlvblBvaW50IH0gZnJvbSBcIm1pbmRpX3YxXCI7XHJcbmltcG9ydCB7IExvZ2dlciwgT2JqZWN0RnVuY3Rpb24gfSBmcm9tIFwiY29yZXV0aWxfdjFcIjtcclxuXHJcbmNvbnN0IExPRyA9IG5ldyBMb2dnZXIoXCJQYXNzd29yZElucHV0XCIpO1xyXG5cclxuY29uc3QgSU5QVVQgPSBcInBhc3N3b3JkSW5wdXRcIjtcclxuY29uc3QgRVJST1IgPSBcInBhc3N3b3JkRXJyb3JcIjtcclxuXHJcbmNvbnN0IEJMVVJfRVZFTlQgPSBcIi8vZXZlbnQ6cGFzc3dvcmRJbnB1dEJsdXJcIjtcclxuY29uc3QgS0VZVVBfRVZFTlQgPSBcIi8vZXZlbnQ6cGFzc3dvcmRJbnB1dEtleVVwXCI7XHJcbmNvbnN0IENIQU5HRV9FVkVOVCA9IFwiLy9ldmVudDpwYXNzd29yZElucHV0Q2hhbmdlXCI7XHJcbmNvbnN0IEVSUk9SX0NMSUNLX0VWRU5UID0gXCIvL2V2ZW50OnBhc3N3b3JkRXJyb3JDbGlja2VkXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGFzc3dvcmRJbnB1dCB7XHJcblxyXG5cdHN0YXRpYyBnZXQgQ09NUE9ORU5UX05BTUUoKSB7IHJldHVybiBcIlBhc3N3b3JkSW5wdXRcIjsgfVxyXG4gICAgc3RhdGljIGdldCBURU1QTEFURV9VUkwoKSB7IHJldHVybiBcIi9hc3NldHMvanVzdHJpZ2h0anMtdWkvcGFzc3dvcmRJbnB1dC5odG1sXCI7IH1cclxuICAgIHN0YXRpYyBnZXQgU1RZTEVTX1VSTCgpIHsgcmV0dXJuIFwiL2Fzc2V0cy9qdXN0cmlnaHRqcy11aS9wYXNzd29yZElucHV0LmNzc1wiOyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XHJcbiAgICAgICAgLyoqIEB0eXBlIHtDb21wb25lbnRGYWN0b3J5fSAqL1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50RmFjdG9yeSA9IEluamVjdGlvblBvaW50Lmluc3RhbmNlKENvbXBvbmVudEZhY3RvcnkpO1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge0V2ZW50UmVnaXN0cnl9ICovXHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5ID0gSW5qZWN0aW9uUG9pbnQuaW5zdGFuY2UoRXZlbnRSZWdpc3RyeSk7XHJcblxyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcblxyXG4gICAgICAgIHRoaXMudmFsaWRhdG9yID0gbmV3IFJlcXVpcmVkVmFsaWRhdG9yKClcclxuICAgICAgICAgICAgLndpdGhWYWxpZExpc3RlbmVyKG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLCB0aGlzLmhpZGVWYWxpZGF0aW9uRXJyb3IpKTtcclxuXHJcbiAgICAgICAgdGhpcy5jaGFuZ2VkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcG9zdENvbmZpZygpIHtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50RmFjdG9yeS5jcmVhdGUoXCJQYXNzd29yZElucHV0XCIpO1xyXG5cclxuICAgICAgICBDYW52YXNTdHlsZXMuZW5hYmxlU3R5bGUoUGFzc3dvcmRJbnB1dC5DT01QT05FTlRfTkFNRSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGlkeCA9IHRoaXMuY29tcG9uZW50LmdldENvbXBvbmVudEluZGV4KCk7XHJcbiAgICAgICAgY29uc3QgaW5wdXQgPSB0aGlzLmNvbXBvbmVudC5nZXQoSU5QVVQpO1xyXG4gICAgICAgIGNvbnN0IGVycm9yID0gdGhpcy5jb21wb25lbnQuZ2V0KEVSUk9SKTtcclxuXHJcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlVmFsdWUoXCJuYW1lXCIsdGhpcy5uYW1lKTtcclxuXHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5LmF0dGFjaChpbnB1dCwgXCJvbmJsdXJcIiwgQkxVUl9FVkVOVCwgaWR4KTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkuYXR0YWNoKGlucHV0LCBcIm9ua2V5dXBcIiwgS0VZVVBfRVZFTlQsIGlkeCk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5LmF0dGFjaChpbnB1dCwgXCJvbmNoYW5nZVwiLCBDSEFOR0VfRVZFTlQsIGlkeCk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5LmF0dGFjaChlcnJvciwgXCJvbmNsaWNrXCIsIEVSUk9SX0NMSUNLX0VWRU5ULCBpZHgpO1xyXG5cclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKEJMVVJfRVZFTlQsIG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLCB0aGlzLnBhc3N3b3JkSW5wdXRCbHVycmVkKSwgaWR4KTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKEtFWVVQX0VWRU5ULCBuZXcgT2JqZWN0RnVuY3Rpb24odGhpcywgdGhpcy5rZXlVcCksIGlkeCk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5Lmxpc3RlbihDSEFOR0VfRVZFTlQsIG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLCB0aGlzLmNoYW5nZSksIGlkeCk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5Lmxpc3RlbihFUlJPUl9DTElDS19FVkVOVCwgbmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsIHRoaXMuaGlkZVZhbGlkYXRpb25FcnJvciksIGlkeCk7XHJcblxyXG4gICAgICAgIHRoaXMud2l0aFBsYWNlaG9sZGVyKFwiUGFzc3dvcmRcIik7XHJcbiAgICB9XHJcblxyXG5cdGdldENvbXBvbmVudCgpe1xyXG5cdFx0cmV0dXJuIHRoaXMuY29tcG9uZW50O1xyXG4gICAgfVxyXG5cclxuICAgIGNoYW5nZSgpIHtcclxuICAgICAgICB0aGlzLmNoYW5nZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGtleVVwKGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICBpZiAoZXZlbnQuZ2V0S2V5Q29kZSgpICE9PSAxMykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy52YWxpZGF0b3IuaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd1ZhbGlkYXRpb25FcnJvcigpO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdEFsbCgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmVudGVyTGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5lbnRlckxpc3RlbmVyLmNhbGwoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcmV0dXJucyB7QWJzdHJhY3RWYWxpZGF0b3J9XHJcbiAgICAgKi9cclxuICAgIGdldFZhbGlkYXRvcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52YWxpZGF0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgd2l0aE1vZGVsKG1vZGVsKSB7XHJcbiAgICAgICAgSW5wdXRFbGVtZW50RGF0YUJpbmRpbmdcclxuICAgICAgICAgICAgLmxpbmsobW9kZWwsIHRoaXMudmFsaWRhdG9yKVxyXG4gICAgICAgICAgICAudG8odGhpcy5jb21wb25lbnQuZ2V0KElOUFVUKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgd2l0aFBsYWNlaG9sZGVyKHBsYWNlaG9sZGVyVmFsdWUpIHtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudC5nZXQoSU5QVVQpLnNldEF0dHJpYnV0ZVZhbHVlKFwicGxhY2Vob2xkZXJcIixwbGFjZWhvbGRlclZhbHVlKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICB3aXRoRW50ZXJMaXN0ZW5lcihsaXN0ZW5lcikge1xyXG4gICAgICAgIHRoaXMuZW50ZXJMaXN0ZW5lciA9IGxpc3RlbmVyO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHBhc3N3b3JkSW5wdXRCbHVycmVkKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5jaGFuZ2VkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRvci5pc1ZhbGlkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93VmFsaWRhdGlvbkVycm9yKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5oaWRlVmFsaWRhdGlvbkVycm9yKCk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgc2hvd1ZhbGlkYXRpb25FcnJvcigpIHsgdGhpcy5jb21wb25lbnQuZ2V0KEVSUk9SKS5zZXRTdHlsZShcImRpc3BsYXlcIixcImJsb2NrXCIpOyB9XHJcbiAgICBoaWRlVmFsaWRhdGlvbkVycm9yKCkgeyB0aGlzLmNvbXBvbmVudC5nZXQoRVJST1IpLnNldFN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKTsgfVxyXG4gICAgZm9jdXMoKSB7IHRoaXMuY29tcG9uZW50LmdldChJTlBVVCkuZm9jdXMoKTsgfVxyXG4gICAgc2VsZWN0QWxsKCkgeyB0aGlzLmNvbXBvbmVudC5nZXQoSU5QVVQpLnNlbGVjdEFsbCgpOyB9XHJcbiAgICBlbmFibGUoKSB7IHRoaXMuY29tcG9uZW50LmdldChJTlBVVCkuZW5hYmxlKCk7IH1cclxuICAgIGRpc2FibGUoKSB7IHRoaXMuY29tcG9uZW50LmdldChJTlBVVCkuZGlzYWJsZSgpOyB9XHJcbn0iLCJpbXBvcnQgeyBcclxuICAgIEFic3RyYWN0VmFsaWRhdG9yLFxyXG4gICAgRXF1YWxzVmFsaWRhdG9yLFxyXG4gICAgQ29tcG9uZW50RmFjdG9yeSxcclxuICAgIEV2ZW50UmVnaXN0cnksXHJcbiAgICBDYW52YXNTdHlsZXMsXHJcbiAgICBDb21wb25lbnQsXHJcbiAgICBJbnB1dEVsZW1lbnREYXRhQmluZGluZywgXHJcbiAgICBBbmRWYWxpZGF0b3JTZXQsXHJcbiAgICBQYXNzd29yZFZhbGlkYXRvcixcclxufSBmcm9tIFwianVzdHJpZ2h0X2NvcmVfdjFcIjtcclxuaW1wb3J0IHsgSW5qZWN0aW9uUG9pbnQgfSBmcm9tIFwibWluZGlfdjFcIjtcclxuaW1wb3J0IHsgTG9nZ2VyLCBPYmplY3RGdW5jdGlvbiB9IGZyb20gXCJjb3JldXRpbF92MVwiO1xyXG5cclxuY29uc3QgTE9HID0gbmV3IExvZ2dlcihcIlBhc3N3b3JkTWF0Y2hlcklucHV0XCIpO1xyXG5cclxuY29uc3QgSU5QVVQgPSBcInBhc3N3b3JkTWF0Y2hlcklucHV0XCI7XHJcbmNvbnN0IENPTlRST0xfSU5QVVQgPVwicGFzc3dvcmRNYXRjaGVyQ29udHJvbElucHV0XCJcclxuY29uc3QgRVJST1IgPSBcInBhc3N3b3JkTWF0Y2hlckVycm9yXCI7XHJcbmNvbnN0IENPTlRST0xfRVJST1IgPSBcInBhc3N3b3JkTWF0Y2hlckNvbnRyb2xFcnJvclwiO1xyXG5cclxuY29uc3QgQkxVUl9FVkVOVCA9IFwiLy9ldmVudDpwYXNzd29yZE1hdGNoZXJJbnB1dEJsdXJcIjtcclxuY29uc3QgS0VZVVBfRVZFTlQgPSBcIi8vZXZlbnQ6cGFzc3dvcmRNYXRjaGVySW5wdXRLZXlVcFwiO1xyXG5jb25zdCBDSEFOR0VfRVZFTlQgPSBcIi8vZXZlbnQ6cGFzc3dvcmRNYXRjaGVySW5wdXRDaGFuZ2VcIjtcclxuY29uc3QgRVJST1JfQ0xJQ0tfRVZFTlQgPSBcIi8vZXZlbnQ6cGFzc3dvcmRNYXRjaGVyRXJyb3JDbGlja2VkXCI7XHJcblxyXG5jb25zdCBDT05UUk9MX0JMVVJfRVZFTlQgPSBcIi8vZXZlbnQ6cGFzc3dvcmRNYXRjaGVyQ29udHJvbElucHV0Qmx1clwiO1xyXG5jb25zdCBDT05UUk9MX0tFWVVQX0VWRU5UID0gXCIvL2V2ZW50OnBhc3N3b3JkTWF0Y2hlckNvbnRyb2xJbnB1dEtleVVwXCI7XHJcbmNvbnN0IENPTlRST0xfQ0hBTkdFX0VWRU5UID0gXCIvL2V2ZW50OnBhc3N3b3JkTWF0Y2hlckNvbnRyb2xJbnB1dENoYW5nZVwiO1xyXG5jb25zdCBDT05UUk9MX0VSUk9SX0NMSUNLX0VWRU5UID0gXCIvL2V2ZW50OnBhc3N3b3JkTWF0Y2hlckNvbnRyb2xFcnJvckNsaWNrZWRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQYXNzd29yZE1hdGNoZXJJbnB1dCB7XHJcblxyXG5cdHN0YXRpYyBnZXQgQ09NUE9ORU5UX05BTUUoKSB7IHJldHVybiBcIlBhc3N3b3JkTWF0Y2hlcklucHV0XCI7IH1cclxuICAgIHN0YXRpYyBnZXQgVEVNUExBVEVfVVJMKCkgeyByZXR1cm4gXCIvYXNzZXRzL2p1c3RyaWdodGpzLXVpL3Bhc3N3b3JkTWF0Y2hlcklucHV0Lmh0bWxcIjsgfVxyXG4gICAgc3RhdGljIGdldCBTVFlMRVNfVVJMKCkgeyByZXR1cm4gXCIvYXNzZXRzL2p1c3RyaWdodGpzLXVpL3Bhc3N3b3JkTWF0Y2hlcklucHV0LmNzc1wiOyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XHJcbiAgICAgICAgLyoqIEB0eXBlIHtDb21wb25lbnRGYWN0b3J5fSAqL1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50RmFjdG9yeSA9IEluamVjdGlvblBvaW50Lmluc3RhbmNlKENvbXBvbmVudEZhY3RvcnkpO1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge0V2ZW50UmVnaXN0cnl9ICovXHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5ID0gSW5qZWN0aW9uUG9pbnQuaW5zdGFuY2UoRXZlbnRSZWdpc3RyeSk7XHJcblxyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcblxyXG4gICAgICAgIHRoaXMucGFzc3dvcmRWYWxpZGF0b3IgPSBuZXcgUGFzc3dvcmRWYWxpZGF0b3IoKVxyXG4gICAgICAgICAgICAud2l0aFZhbGlkTGlzdGVuZXIobmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsIHRoaXMuaGlkZVBhc3N3b3JkVmFsaWRhdGlvbkVycm9yKSk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udHJvbFZhbGlkYXRvciA9IG5ldyBFcXVhbHNWYWxpZGF0b3IoKVxyXG4gICAgICAgICAgICAud2l0aFZhbGlkTGlzdGVuZXIobmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsIHRoaXMuaGlkZUNvbnRyb2xWYWxpZGF0aW9uRXJyb3IpKTtcclxuXHJcbiAgICAgICAgdGhpcy52YWxpZGF0b3IgPSBuZXcgQW5kVmFsaWRhdG9yU2V0KClcclxuICAgICAgICAgICAgLndpdGhWYWxpZGF0b3IodGhpcy5wYXNzd29yZFZhbGlkYXRvcilcclxuICAgICAgICAgICAgLndpdGhWYWxpZGF0b3IodGhpcy5jb250cm9sVmFsaWRhdG9yKTtcclxuXHJcbiAgICAgICAgdGhpcy5jaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jb250cm9sQ2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHBvc3RDb25maWcoKSB7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSB0aGlzLmNvbXBvbmVudEZhY3RvcnkuY3JlYXRlKFwiUGFzc3dvcmRNYXRjaGVySW5wdXRcIik7XHJcblxyXG4gICAgICAgIENhbnZhc1N0eWxlcy5lbmFibGVTdHlsZShQYXNzd29yZE1hdGNoZXJJbnB1dC5DT01QT05FTlRfTkFNRSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGlkeCA9IHRoaXMuY29tcG9uZW50LmdldENvbXBvbmVudEluZGV4KCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGlucHV0ID0gdGhpcy5jb21wb25lbnQuZ2V0KElOUFVUKTtcclxuICAgICAgICBjb25zdCBlcnJvciA9IHRoaXMuY29tcG9uZW50LmdldChFUlJPUik7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbnRyb2xJbnB1dCA9IHRoaXMuY29tcG9uZW50LmdldChDT05UUk9MX0lOUFVUKTtcclxuICAgICAgICBjb25zdCBjb250cm9sRXJyb3IgPSB0aGlzLmNvbXBvbmVudC5nZXQoQ09OVFJPTF9FUlJPUik7XHJcblxyXG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZVZhbHVlKFwibmFtZVwiLHRoaXMubmFtZSk7XHJcblxyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5hdHRhY2goaW5wdXQsIFwib25ibHVyXCIsIEJMVVJfRVZFTlQsIGlkeCk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5LmF0dGFjaChpbnB1dCwgXCJvbmtleXVwXCIsIEtFWVVQX0VWRU5ULCBpZHgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5hdHRhY2goaW5wdXQsIFwib25jaGFuZ2VcIiwgQ0hBTkdFX0VWRU5ULCBpZHgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5hdHRhY2goZXJyb3IsIFwib25jbGlja1wiLCBFUlJPUl9DTElDS19FVkVOVCwgaWR4KTtcclxuXHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5LmF0dGFjaChjb250cm9sSW5wdXQsIFwib25ibHVyXCIsIENPTlRST0xfQkxVUl9FVkVOVCwgaWR4KTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkuYXR0YWNoKGNvbnRyb2xJbnB1dCwgXCJvbmtleXVwXCIsIENPTlRST0xfS0VZVVBfRVZFTlQsIGlkeCk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5LmF0dGFjaChjb250cm9sSW5wdXQsIFwib25jaGFuZ2VcIiwgQ09OVFJPTF9DSEFOR0VfRVZFTlQsIGlkeCk7XHJcbiAgICAgICAgdGhpcy5ldmVudFJlZ2lzdHJ5LmF0dGFjaChjb250cm9sRXJyb3IsIFwib25jbGlja1wiLCBDT05UUk9MX0VSUk9SX0NMSUNLX0VWRU5ULCBpZHgpO1xyXG5cclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKEJMVVJfRVZFTlQsIG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLCB0aGlzLmJsdXIpLCBpZHgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5saXN0ZW4oS0VZVVBfRVZFTlQsIG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLCB0aGlzLmtleVVwKSwgaWR4KTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKENIQU5HRV9FVkVOVCwgbmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsIHRoaXMuY2hhbmdlKSwgaWR4KTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKEVSUk9SX0NMSUNLX0VWRU5ULCBuZXcgT2JqZWN0RnVuY3Rpb24odGhpcywgdGhpcy5oaWRlUGFzc3dvcmRWYWxpZGF0aW9uRXJyb3IpLCBpZHgpO1xyXG5cclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKENPTlRST0xfQkxVUl9FVkVOVCwgbmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsIHRoaXMuY29udHJvbEJsdXIpLCBpZHgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5saXN0ZW4oQ09OVFJPTF9LRVlVUF9FVkVOVCwgbmV3IE9iamVjdEZ1bmN0aW9uKHRoaXMsIHRoaXMuY29udHJvbEtleVVwKSwgaWR4KTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKENPTlRST0xfQ0hBTkdFX0VWRU5ULCBuZXcgT2JqZWN0RnVuY3Rpb24odGhpcywgdGhpcy5jb250cm9sQ2hhbmdlKSwgaWR4KTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKENPTlRST0xfRVJST1JfQ0xJQ0tfRVZFTlQsIG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLCB0aGlzLmhpZGVDb250cm9sVmFsaWRhdGlvbkVycm9yKSwgaWR4KTtcclxuXHJcbiAgICAgICAgdGhpcy53aXRoUGxhY2Vob2xkZXIoXCJQYXNzd29yZFwiLCBcIkNvbmZpcm0gcGFzc3dvcmRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgY29udHJvbENoYW5nZSgpIHtcclxuICAgICAgICB0aGlzLmNoYW5nZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnRyb2xLZXlVcChldmVudCkge1xyXG4gICAgICAgIGlmKHRoaXMuY29tcG9uZW50LmdldChDT05UUk9MX0lOUFVUKS5nZXRWYWx1ZSgpICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udHJvbENoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZXZlbnQuZ2V0S2V5Q29kZSgpICE9PSAxMykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5jb250cm9sVmFsaWRhdG9yLmlzVmFsaWQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dDb250cm9sVmFsaWRhdGlvbkVycm9yKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0QWxsQ29udHJvbCgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmVudGVyTGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5lbnRlckxpc3RlbmVyLmNhbGwoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2hhbmdlKCkge1xyXG4gICAgICAgIGlmKHRoaXMuY29tcG9uZW50LmdldChDT05UUk9MX0lOUFVUKS5nZXRWYWx1ZSgpICE9PSB0aGlzLmNvbXBvbmVudC5nZXQoSU5QVVQpLmdldFZhbHVlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuZ2V0KENPTlRST0xfSU5QVVQpLnNldFZhbHVlKFwiXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNoYW5nZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGtleVVwKGV2ZW50KSB7XHJcbiAgICAgICAgaWYodGhpcy5jb21wb25lbnQuZ2V0KElOUFVUKS5nZXRWYWx1ZSgpICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY29udHJvbFZhbGlkYXRvci5zZXRWYWx1ZSh0aGlzLmNvbXBvbmVudC5nZXQoSU5QVVQpLmdldFZhbHVlKCkpO1xyXG4gICAgICAgIHRoaXMuY29udHJvbFZhbGlkYXRvci52YWxpZGF0ZSh0aGlzLmNvbXBvbmVudC5nZXQoQ09OVFJPTF9JTlBVVCkuZ2V0VmFsdWUoKSk7XHJcbiAgICAgICAgaWYgKGV2ZW50LmdldEtleUNvZGUoKSAhPT0gMTMpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMucGFzc3dvcmRWYWxpZGF0b3IuaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd1Bhc3N3b3JkVmFsaWRhdGlvbkVycm9yKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0QWxsKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5mb2N1c0NvbnRyb2woKTtcclxuICAgICAgICB0aGlzLnNlbGVjdEFsbENvbnRyb2woKTtcclxuICAgIH1cclxuXHJcblx0Z2V0Q29tcG9uZW50KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuY29tcG9uZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHJldHVybnMge0Fic3RyYWN0VmFsaWRhdG9yfVxyXG4gICAgICovXHJcbiAgICBnZXRWYWxpZGF0b3IoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsaWRhdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIHdpdGhNb2RlbChtb2RlbCkge1xyXG4gICAgICAgIElucHV0RWxlbWVudERhdGFCaW5kaW5nXHJcbiAgICAgICAgICAgIC5saW5rKG1vZGVsLCB0aGlzLnBhc3N3b3JkVmFsaWRhdG9yKVxyXG4gICAgICAgICAgICAudG8odGhpcy5jb21wb25lbnQuZ2V0KElOUFVUKSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgSW5wdXRFbGVtZW50RGF0YUJpbmRpbmdcclxuICAgICAgICAgICAgLmxpbmsobW9kZWwsIHRoaXMuY29udHJvbFZhbGlkYXRvcilcclxuICAgICAgICAgICAgLnRvKHRoaXMuY29tcG9uZW50LmdldChDT05UUk9MX0lOUFVUKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgd2l0aFBsYWNlaG9sZGVyKHBsYWNlaG9sZGVyVmFsdWUsIGNvbnRyb2xQbGFjZUhvbGRlclZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQuZ2V0KElOUFVUKS5zZXRBdHRyaWJ1dGVWYWx1ZShcInBsYWNlaG9sZGVyXCIscGxhY2Vob2xkZXJWYWx1ZSk7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQuZ2V0KENPTlRST0xfSU5QVVQpLnNldEF0dHJpYnV0ZVZhbHVlKFwicGxhY2Vob2xkZXJcIixjb250cm9sUGxhY2VIb2xkZXJWYWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgd2l0aEVudGVyTGlzdGVuZXIobGlzdGVuZXIpIHtcclxuICAgICAgICB0aGlzLmVudGVyTGlzdGVuZXIgPSBsaXN0ZW5lcjtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBjb250cm9sQmx1cigpIHtcclxuICAgICAgICBpZiAoIXRoaXMuY29udHJvbENoYW5nZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuY29udHJvbFZhbGlkYXRvci5pc1ZhbGlkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93Q29udHJvbFZhbGlkYXRpb25FcnJvcigpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaGlkZUNvbnRyb2xWYWxpZGF0aW9uRXJyb3IoKTtcclxuICAgIH1cclxuXHJcbiAgICBibHVyKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5jaGFuZ2VkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLnBhc3N3b3JkVmFsaWRhdG9yLmlzVmFsaWQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dQYXNzd29yZFZhbGlkYXRpb25FcnJvcigpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaGlkZVBhc3N3b3JkVmFsaWRhdGlvbkVycm9yKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvd1Bhc3N3b3JkVmFsaWRhdGlvbkVycm9yKCkgeyB0aGlzLmNvbXBvbmVudC5nZXQoRVJST1IpLnNldFN0eWxlKFwiZGlzcGxheVwiLFwiYmxvY2tcIik7IH1cclxuICAgIGhpZGVQYXNzd29yZFZhbGlkYXRpb25FcnJvcigpIHsgdGhpcy5jb21wb25lbnQuZ2V0KEVSUk9SKS5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIik7IH1cclxuICAgIHNob3dDb250cm9sVmFsaWRhdGlvbkVycm9yKCkgeyB0aGlzLmNvbXBvbmVudC5nZXQoQ09OVFJPTF9FUlJPUikuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJibG9ja1wiKTsgfVxyXG4gICAgaGlkZUNvbnRyb2xWYWxpZGF0aW9uRXJyb3IoKSB7IHRoaXMuY29tcG9uZW50LmdldChDT05UUk9MX0VSUk9SKS5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIik7IH1cclxuICAgIGZvY3VzKCkgeyB0aGlzLmNvbXBvbmVudC5nZXQoSU5QVVQpLmZvY3VzKCk7IH1cclxuICAgIGZvY3VzQ29udHJvbCgpIHsgdGhpcy5jb21wb25lbnQuZ2V0KENPTlRST0xfSU5QVVQpLmZvY3VzKCk7IH1cclxuICAgIHNlbGVjdEFsbCgpIHsgdGhpcy5jb21wb25lbnQuZ2V0KElOUFVUKS5zZWxlY3RBbGwoKTsgfVxyXG4gICAgc2VsZWN0QWxsQ29udHJvbCgpIHsgdGhpcy5jb21wb25lbnQuZ2V0KENPTlRST0xfSU5QVVQpLnNlbGVjdEFsbCgpOyB9XHJcbiAgICBlbmFibGUoKSB7IHRoaXMuY29tcG9uZW50LmdldChJTlBVVCkuZW5hYmxlKCk7IH1cclxuICAgIGRpc2FibGUoKSB7IHRoaXMuY29tcG9uZW50LmdldChJTlBVVCkuZGlzYWJsZSgpOyB9XHJcbiAgICBlbmFibGVDb250cm9sKCkgeyB0aGlzLmNvbXBvbmVudC5nZXQoQ09OVFJPTF9JTlBVVCkuZW5hYmxlKCk7IH1cclxuICAgIGRpc2FibGVDb250cm9sKCkgeyB0aGlzLmNvbXBvbmVudC5nZXQoQ09OVFJPTF9JTlBVVCkuZGlzYWJsZSgpOyB9XHJcbn0iLCJpbXBvcnQgeyBDb21wb25lbnRGYWN0b3J5LCBFdmVudFJlZ2lzdHJ5LCBDYW52YXNTdHlsZXMsIENvbXBvbmVudCwgSW5wdXRFbGVtZW50RGF0YUJpbmRpbmcgfSBmcm9tIFwianVzdHJpZ2h0X2NvcmVfdjFcIjtcclxuaW1wb3J0IHsgSW5qZWN0aW9uUG9pbnQgfSBmcm9tIFwibWluZGlfdjFcIjtcclxuaW1wb3J0IHsgTG9nZ2VyLCBPYmplY3RGdW5jdGlvbiB9IGZyb20gXCJjb3JldXRpbF92MVwiO1xyXG5cclxuY29uc3QgTE9HID0gbmV3IExvZ2dlcihcIlRleHRJbnB1dFwiKTtcclxuXHJcbmNvbnN0IEtFWVVQX0VWRU5UID0gXCIvL2V2ZW50OnRleHRJbnB1dEtleVVwXCI7XHJcbmNvbnN0IENMSUNLX0VWRU5UID0gXCIvL2V2ZW50OnRleHRJbnB1dENsaWNrZWRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUZXh0SW5wdXQge1xyXG5cclxuXHRzdGF0aWMgZ2V0IENPTVBPTkVOVF9OQU1FKCkgeyByZXR1cm4gXCJUZXh0SW5wdXRcIjsgfVxyXG4gICAgc3RhdGljIGdldCBURU1QTEFURV9VUkwoKSB7IHJldHVybiBcIi9hc3NldHMvanVzdHJpZ2h0anMtdWkvdGV4dElucHV0Lmh0bWxcIjsgfVxyXG4gICAgc3RhdGljIGdldCBTVFlMRVNfVVJMKCkgeyByZXR1cm4gXCIvYXNzZXRzL2p1c3RyaWdodGpzLXVpL3RleHRJbnB1dC5jc3NcIjsgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcclxuICAgICAgICAvKiogQHR5cGUge0NvbXBvbmVudEZhY3Rvcnl9ICovXHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRGYWN0b3J5ID0gQ29tcG9uZW50RmFjdG9yeTtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHtFdmVudFJlZ2lzdHJ5fSAqL1xyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeSA9IEV2ZW50UmVnaXN0cnk7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcblxyXG4gICAgICAgIGNvbnN0IGlkeCA9IHRoaXMuY29tcG9uZW50LmdldENvbXBvbmVudEluZGV4KCk7XHJcbiAgICAgICAgY29uc3QgaW5wdXQgPSB0aGlzLmNvbXBvbmVudC5nZXQoXCJ0ZXh0SW5wdXRcIik7XHJcblxyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5hdHRhY2goaW5wdXQsIFwib25rZXl1cFwiLCBLRVlVUF9FVkVOVCwgaWR4KTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkuYXR0YWNoKGlucHV0LCBcIm9uY2xpY2tcIiwgQ0xJQ0tfRVZFTlQsIGlkeCk7XHJcblxyXG4gICAgICAgIHRoaXMuZXZlbnRSZWdpc3RyeS5saXN0ZW4oS0VZVVBfRVZFTlQsIG5ldyBPYmplY3RGdW5jdGlvbih0aGlzLCB0aGlzLmtleVVwKSwgaWR4KTtcclxuICAgICAgICB0aGlzLmV2ZW50UmVnaXN0cnkubGlzdGVuKENMSUNLX0VWRU5ULCBuZXcgT2JqZWN0RnVuY3Rpb24odGhpcywgdGhpcy5jbGljayksIGlkeCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGtleVVwKGV2ZW50KSB7XHJcbiAgICAgICAgaWYoZXZlbnQuZ2V0S2V5Q29kZSgpICE9PSAxMykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMuZW50ZXJMaXN0ZW5lcikge1xyXG4gICAgICAgICAgICB0aGlzLmVudGVyTGlzdGVuZXIuY2FsbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjbGljayhldmVudCkge1xyXG4gICAgICAgIGlmKHRoaXMuY2xpY2tMaXN0ZW5lcikge1xyXG4gICAgICAgICAgICB0aGlzLmNsaWNrTGlzdGVuZXIuY2FsbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwb3N0Q29uZmlnKCkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50ID0gdGhpcy5jb21wb25lbnRGYWN0b3J5LmNyZWF0ZShcIlRleHRJbnB1dFwiKTtcclxuXHJcbiAgICAgICAgQ2FudmFzU3R5bGVzLmVuYWJsZVN0eWxlKFRleHRJbnB1dC5DT01QT05FTlRfTkFNRSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQuZ2V0KFwidGV4dElucHV0XCIpLnNldEF0dHJpYnV0ZVZhbHVlKFwibmFtZVwiLCB0aGlzLm5hbWUpO1xyXG4gICAgfVxyXG5cclxuXHRnZXRDb21wb25lbnQoKXtcclxuXHRcdHJldHVybiB0aGlzLmNvbXBvbmVudDtcclxuICAgIH1cclxuXHJcbiAgICB3aXRoTW9kZWwobW9kZWwsIHZhbGlkYXRvcikge1xyXG4gICAgICAgIElucHV0RWxlbWVudERhdGFCaW5kaW5nLmxpbmsobW9kZWwsIHZhbGlkYXRvcikudG8odGhpcy5jb21wb25lbnQuZ2V0KFwidGV4dElucHV0XCIpKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICB3aXRoUGxhY2Vob2xkZXIocGxhY2Vob2xkZXJWYWx1ZSkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50LmdldChcInRleHRJbnB1dFwiKS5zZXRBdHRyaWJ1dGVWYWx1ZShcInBsYWNlaG9sZGVyXCIsIHBsYWNlaG9sZGVyVmFsdWUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHdpdGhDbGlja0xpc3RlbmVyKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgdGhpcy5jbGlja0xpc3RlbmVyID0gbGlzdGVuZXI7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgd2l0aEVudGVyTGlzdGVuZXIobGlzdGVuZXIpIHtcclxuICAgICAgICB0aGlzLmVudGVyTGlzdGVuZXIgPSBsaXN0ZW5lcjtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbn0iXSwibmFtZXMiOlsiTE9HIiwiTG9nZ2VyIiwiQmFja1NoYWRlIiwiQ09NUE9ORU5UX05BTUUiLCJURU1QTEFURV9VUkwiLCJTVFlMRVNfVVJMIiwiW29iamVjdCBPYmplY3RdIiwidGhpcyIsImV2ZW50UmVnaXN0cnkiLCJJbmplY3Rpb25Qb2ludCIsImluc3RhbmNlIiwiRXZlbnRSZWdpc3RyeSIsImNvbXBvbmVudEZhY3RvcnkiLCJDb21wb25lbnRGYWN0b3J5IiwiaW5mbyIsImNvbXBvbmVudCIsImNyZWF0ZSIsImNsaWNrZWRMaXN0ZW5lciIsImF0dGFjaCIsImdldCIsImdldENvbXBvbmVudEluZGV4IiwibGlzdGVuIiwibWlsbGlTZWNvbmRzIiwibW91bnRTZWxmIiwiZ2V0Q29tcG9uZW50Iiwic2V0QXR0cmlidXRlVmFsdWUiLCJzZXRUaW1lb3V0Iiwic2V0U3R5bGUiLCJDYW52YXNTdHlsZXMiLCJkaXNhYmxlU3R5bGUiLCJkaXNhYmxlQWZ0ZXIiLCJlbmFibGVTdHlsZSIsImdldFJvb3RFbGVtZW50IiwiaXNNb3VudGVkIiwiQ2FudmFzUm9vdCIsImFkZEJvZHlFbGVtZW50IiwicmVtb3ZlIiwiQnV0dG9uIiwiVFlQRV9QUklNQVJZIiwiVFlQRV9TRUNPTkRBUlkiLCJUWVBFX1NVQ0NFU1MiLCJUWVBFX0lORk8iLCJUWVBFX1dBUk5JTkciLCJUWVBFX0RBTkdFUiIsIlRZUEVfTElHSFQiLCJUWVBFX0RBUksiLCJsYWJlbCIsImJ1dHRvblR5cGUiLCJzZXRDaGlsZCIsImNsaWNrTGlzdGVuZXIiLCJyZW1vdmVBdHRyaWJ1dGUiLCJEaWFsb2dCb3giLCJiYWNrU2hhZGUiLCJzdHlsZXNSZWdpc3RyeSIsIlN0eWxlc1JlZ2lzdHJ5IiwiT2JqZWN0RnVuY3Rpb24iLCJoaWRlIiwid2l0aENsaWNrTGlzdGVuZXIiLCJ0ZXh0Iiwia2V5IiwidmFsIiwic2V0IiwiZW5hYmxlIiwicmVtb3ZlU3R5bGUiLCJyZW1vdmVTZWxmIiwiQ2hlY2tCb3giLCJuYW1lIiwibW9kZWwiLCJ2YWxpZGF0b3IiLCJJbnB1dEVsZW1lbnREYXRhQmluZGluZyIsImxpbmsiLCJ0byIsImxpc3RlbmVyIiwiZW50ZXJDaGVjayIsImV2ZW50IiwiZ2V0S2V5Q29kZSIsImNhbGwiLCJCTFVSX0VWRU5UIiwiS0VZVVBfRVZFTlQiLCJDSEFOR0VfRVZFTlQiLCJFUlJPUl9DTElDS19FVkVOVCIsIkVtYWlsSW5wdXQiLCJFbWFpbFZhbGlkYXRvciIsIndpdGhWYWxpZExpc3RlbmVyIiwiaGlkZVZhbGlkYXRpb25FcnJvciIsImNoYW5nZWQiLCJpZHgiLCJpbnB1dCIsImVycm9yIiwiYmx1cnJlZCIsImtleVVwIiwiY2hhbmdlIiwid2l0aFBsYWNlaG9sZGVyIiwiaXNWYWxpZCIsImVudGVyTGlzdGVuZXIiLCJzaG93VmFsaWRhdGlvbkVycm9yIiwic2VsZWN0QWxsIiwicGxhY2Vob2xkZXJWYWx1ZSIsImZvY3VzIiwiZGlzYWJsZSIsIklOUFVUIiwiRVJST1IiLCJQYXNzd29yZElucHV0IiwiUmVxdWlyZWRWYWxpZGF0b3IiLCJwYXNzd29yZElucHV0Qmx1cnJlZCIsIkNPTlRST0xfSU5QVVQiLCJDT05UUk9MX0VSUk9SIiwiQ09OVFJPTF9CTFVSX0VWRU5UIiwiQ09OVFJPTF9LRVlVUF9FVkVOVCIsIkNPTlRST0xfQ0hBTkdFX0VWRU5UIiwiQ09OVFJPTF9FUlJPUl9DTElDS19FVkVOVCIsIlBhc3N3b3JkTWF0Y2hlcklucHV0IiwicGFzc3dvcmRWYWxpZGF0b3IiLCJQYXNzd29yZFZhbGlkYXRvciIsImhpZGVQYXNzd29yZFZhbGlkYXRpb25FcnJvciIsImNvbnRyb2xWYWxpZGF0b3IiLCJFcXVhbHNWYWxpZGF0b3IiLCJoaWRlQ29udHJvbFZhbGlkYXRpb25FcnJvciIsIkFuZFZhbGlkYXRvclNldCIsIndpdGhWYWxpZGF0b3IiLCJjb250cm9sQ2hhbmdlZCIsImNvbnRyb2xJbnB1dCIsImNvbnRyb2xFcnJvciIsImJsdXIiLCJjb250cm9sQmx1ciIsImNvbnRyb2xLZXlVcCIsImNvbnRyb2xDaGFuZ2UiLCJnZXRWYWx1ZSIsInNob3dDb250cm9sVmFsaWRhdGlvbkVycm9yIiwic2VsZWN0QWxsQ29udHJvbCIsInNldFZhbHVlIiwidmFsaWRhdGUiLCJzaG93UGFzc3dvcmRWYWxpZGF0aW9uRXJyb3IiLCJmb2N1c0NvbnRyb2wiLCJjb250cm9sUGxhY2VIb2xkZXJWYWx1ZSIsIkNMSUNLX0VWRU5UIiwiVGV4dElucHV0IiwiY2xpY2siXSwibWFwcGluZ3MiOiJrVEFVQSxNQUFNQSxLQUFNLEdBQUlDLFFBQU8sa0JBRVZDLFdBRVpDLDRCQUE4QixNQUFPLFlBQ3JDQywwQkFBNEIsTUFBTyx3Q0FDaENDLHdCQUEwQixNQUFPLHVDQUtqQ0MsY0FHSUMsS0FBS0MsY0FBZ0JDLGVBQWVDLFNBQVNDLGVBRzdDSixLQUFLSyxpQkFBbUJILGVBQWVDLFNBQVNHLGtCQUdwRFAsYUFDSU4sSUFBSWMsS0FBSyxlQUNUUCxLQUFLUSxVQUFZUixLQUFLSyxpQkFBaUJJLE9BQU8sYUFNckRWLGVBQ0MsTUFBT0MsTUFBS1EsVUFPVlQsa0JBQWtCVyxHQUdkLE1BRkFWLE1BQUtDLGNBQWNVLE9BQU9YLEtBQUtRLFVBQVVJLElBQUksYUFBYyxVQUFXLDJCQUE0QlosS0FBS1EsVUFBVUsscUJBQ2pIYixLQUFLQyxjQUFjYSxPQUFPLDJCQUE0QkosRUFBaUJWLEtBQUtRLFVBQVVLLHFCQUMvRWIsS0FHWEQsYUFBYWdCLEdBQ1RmLEtBQUtnQixZQUNMaEIsS0FBS2lCLGVBQWVMLElBQUksYUFBYU0sa0JBQWtCLFFBQVMsbUJBQ2hFQyxnQkFDSW5CLEtBQUtpQixlQUFlTCxJQUFJLGFBQWFRLFNBQVMsVUFBVyxTQUMxREwsR0FDSEksZ0JBQ0lFLGFBQWFDLGFBQWEzQixVQUFVQyxpQkFDckNtQixFQUFlLEdBR3RCaEIsVUFDSUMsS0FB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
