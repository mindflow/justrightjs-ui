import{Component as t,ComponentFactory as e,CanvasStyles as s,EventManager as n,CanvasRoot as i,Navigation as r,HTML as a,InputElementDataBinding as o,CSS as c,EmailValidator as l,NumberValidator as h,RequiredValidator as u,PhoneValidator as p,PasswordValidator as E,EqualsPropertyValidator as d,AndValidatorSet as g}from"./justright_core_v1.js";import{Logger as m,TimePromise as T,Method as N,List as b,Map as _,PropertyAccessor as A}from"./coreutil_v1.js";import{InjectionPoint as L}from"./mindi_v1.js";import{ContainerAsync as C}from"./containerbridge_v1.js";class M{static get SIZE_DEFAULT(){return"size-default"}static get SIZE_SMALL(){return"size-small"}static get SIZE_MEDIUM(){return"size-medium"}static get SIZE_LARGE(){return"size-large"}static get SHAPE_DEAFULT(){return"shape-default"}static get SHAPE_ROUND(){return"shape-round"}static get SHAPE_SQUARE(){return"shape-square"}static get VISIBILITY_DEAFULT(){return"visibility-default"}static get VISIBILITY_VISIBLE(){return"visibility-visible"}static get VISIBILITY_HIDDEN(){return"visibility-hidden"}static get SPACING_DEFAULT(){return"spacing-default"}static get SPACING_NONE(){return"spacing-none"}static get SPACING_ABOVE(){return"spacing-above"}static get SPACING_BELOW(){return"spacing-below"}static get SPACING_ABOVE_BELOW(){return"spacing-above-below"}constructor(){this.size=M.SIZE_DEFAULT,this.shape=M.SHAPE_DEAFULT,this.spacing=M.SPACING_DEFAULT,this.visibility=M.VISIBILITY_DEAFULT,this.locked=!1}withSize(t){return this.size=t,this}withShape(t){return this.shape=t,this}withSpacing(t){return this.spacing=t,this}withVisibility(t){return this.visibility=t,this}}class w{constructor(){this.componentClass=t}}new m("Background");class P{static get COMPONENT_NAME(){return"Background"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/background.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/background.css"}constructor(t){this.componentFactory=L.instance(e),this.component=null,this.backgroundImagePath=t}set(t,e){this.component.set(t,e)}postConfig(){this.component=this.componentFactory.create(P.COMPONENT_NAME),this.backgroundImagePath&&this.component.get("background").setAttributeValue("style",'background-image: url("'+this.backgroundImagePath+'")'),s.enableStyle(P.COMPONENT_NAME)}}class O{constructor(t=null){this.backgroundClickedListener=t&&t.getBackgroundClicked?t.getBackgroundClicked():null}withBackgroundClicked(t){return this.backgroundClickedListener=t,this}getBackgroundClicked(){return this.backgroundClickedListener}callBackgroundClicked(t){this.callListener(this.backgroundClickedListener,t)}callListener(t,e){null!=t&&t.call(e)}}new m("BackShade");class I{static get COMPONENT_NAME(){return"BackShade"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/backShade.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/backShade.css"}constructor(t=new O){this.componentFactory=L.instance(e),this.component=null,this.container=null,this.backShadeListeners=t,this.hidden=!0}postConfig(){this.component=this.componentFactory.create(I.COMPONENT_NAME)}hideAfter(t){if(this.hidden)return new Promise(((t,e)=>{t()}));this.hidden=!0,this.component.get("backShade").setAttributeValue("class","back-shade fade");const e=T.asPromise(t,(()=>{this.component.get("backShade").setStyle("display","none")})),n=T.asPromise(t+1,(()=>{s.disableStyle(I.COMPONENT_NAME,this.component.componentIndex)}));return Promise.all([e,n])}show(){return this.hidden?(this.hidden=!1,s.enableStyle(I.COMPONENT_NAME,this.component.componentIndex),this.component.get("backShade").setStyle("display","block"),T.asPromise(100,(()=>{this.component.get("backShade").setAttributeValue("class","back-shade fade show")}))):new Promise(((t,e)=>{t()}))}}new m("BackgroundVideo");class y{static get COMPONENT_NAME(){return"BackgroundVideo"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/backgroundVideo.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/backgroundVideo.css"}constructor(t){this.componentFactory=L.instance(e),this.component=null,this.videoSrc=t}set(t,e){this.component.set(t,e)}postConfig(){this.component=this.componentFactory.create(y.COMPONENT_NAME),s.enableStyle(y.COMPONENT_NAME),this.component.get("source").setAttributeValue("src",this.videoSrc)}async play(){await C.pause(100);const t=this.component.get("video");t.mute(),t.play()}}class S{static get COMPONENT_NAME(){return"BannerLabelMessage"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/bannerLabelMessage.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/bannerLabelMessage.css"}static get EVENT_CLOSE_CLICKED(){return"closeClicked"}static get TYPE_ALERT(){return"type-alert"}static get TYPE_INFO(){return"type-info"}static get TYPE_SUCCESS(){return"type-success"}static get TYPE_WARNING(){return"type-warning"}constructor(t,s=S.TYPE_INFO,i=null){this.componentFactory=L.instance(e),this.component=null,this.header=null,this.message=t,this.bannerType=s,this.customAppearance=i,this.eventManager=new n}async postConfig(){this.component=this.componentFactory.create(S.COMPONENT_NAME),s.enableStyle(S.COMPONENT_NAME),this.applyClasses("banner-label-message"),this.component.get("bannerLabelMessageCloseButton").listenTo("click",(()=>{this.eventManager.trigger(S.EVENT_CLOSE_CLICKED)}))}hide(){this.applyClasses("banner-label-message banner-label-message-hidden"),this.isVisible=!1,this.toggleDisplay()}toggleDisplay(){T.asPromise(500,(()=>{this.isVisible||this.component.get("bannerLabelMessage").setAttributeValue("style","display:none")}))}toggleVisibility(){T.asPromise(50,(()=>{this.isVisible&&this.applyClasses("banner-label-message banner-label-message-visible")}))}show(){this.component.get("bannerLabelMessage").setAttributeValue("style","display:block"),this.toggleVisibility(),this.isVisible=!0}setMessage(t,e){t&&this.applyHeader(t),e&&this.applyMessage(e)}applyHeader(t){this.header=t,this.component.get("bannerLabelMessageHeader").setChild(this.header)}applyMessage(t){this.message=t,this.component.get("bannerLabelMessageText").setChild(this.message)}applyClasses(t){let e=t;e=e+" banner-label-message-"+this.bannerType,this.customAppearance&&(this.customAppearance.shape&&(e=e+" banner-label-message-"+this.customAppearance.shape),this.customAppearance.size&&(e=e+" banner-label-message-"+this.customAppearance.size),this.customAppearance.spacing&&(e=e+" banner-label-message-"+this.customAppearance.spacing)),this.component.get("bannerLabelMessageContent").setAttributeValue("class",e)}}class R{static get COMPONENT_NAME(){return"BannerLabel"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/bannerLabel.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/bannerLabel.css"}constructor(){this.componentFactory=L.instance(e),this.component=null,this.appearance=(new M).withSize(M.SIZE_SMALL).withShape(M.SHAPE_ROUND).withSpacing(M.SPACING_BELOW),this.success=L.instance(S,["",S.TYPE_SUCCESS,this.appearance]),this.warning=L.instance(S,["",S.TYPE_WARNING,this.appearance]),this.error=L.instance(S,["",S.TYPE_ALERT,this.appearance]),this.isVisible=!1}async postConfig(){this.component=this.componentFactory.create(R.COMPONENT_NAME),s.enableStyle(R.COMPONENT_NAME),this.success.hide(),this.warning.hide(),this.error.hide(),this.component.get("bannerLabel").addChild(this.success.component),this.component.get("bannerLabel").addChild(this.warning.component),this.component.get("bannerLabel").addChild(this.error.component),this.success.eventManager.listenTo(S.EVENT_CLOSE_CLICKED,new N(this,this.hide)),this.warning.eventManager.listenTo(S.EVENT_CLOSE_CLICKED,new N(this,this.hide)),this.error.eventManager.listenTo(S.EVENT_CLOSE_CLICKED,new N(this,this.hide)),this.active=this.success}showSuccess(t,e){this.showBanner(this.success,t,e)}showWarning(t,e){this.showBanner(this.warning,t,e)}showError(t,e){this.showBanner(this.error,t,e)}hide(){this.component.get("bannerLabel").setAttributeValue("class","banner-label banner-label-hidden"),this.active.hide(),this.isVisible=!1}showBanner(t,e,s){this.hide(),t.setMessage(e,s),t.show(),this.component.get("bannerLabel").setAttributeValue("class","banner-label banner-label-visible"),this.isVisible=!0,this.active=t}}new m("BannerMessage");class V{static get COMPONENT_NAME(){return"BannerMessage"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/bannerMessage.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/bannerMessage.css"}static get TYPE_ALERT(){return"type-alert"}static get TYPE_INFO(){return"type-info"}static get TYPE_SUCCESS(){return"type-success"}static get TYPE_WARNING(){return"type-warning"}constructor(t,s=V.TYPE_INFO,n=!1,i=null){this.componentFactory=L.instance(e),this.component=null,this.message=t,this.closeable=n,this.bannerType=s,this.onHideListener=null,this.onShowListener=null,this.customAppearance=i}postConfig(){this.component=this.componentFactory.create("BannerMessage"),this.component.get("bannerMessageHeader").setChild("Alert"),this.component.get("bannerMessageMessage").setChild(this.message),this.applyClasses("banner-message fade"),this.component.get("bannerMessageCloseButton").listenTo("click",new N(this,this.hide))}applyClasses(t){let e=t;e=e+" banner-message-"+this.bannerType,this.customAppearance&&(this.customAppearance.shape&&(e=e+" banner-message-"+this.customAppearance.shape),this.customAppearance.size&&(e=e+" banner-message-"+this.customAppearance.size),this.customAppearance.spacing&&(e=e+" banner-message-"+this.customAppearance.spacing)),this.component.get("bannerMessage").setAttributeValue("class",e)}applyHeader(t){this.header=t,this.component.get("bannerMessageHeader").setChild(this.header)}applyMessage(t){this.message=t,this.component.get("bannerMessageMessage").setChild(this.message)}remove(){return this.component.remove()}onHide(t){this.onHideListener=t}onShow(t){this.onShowListener=t}async hide(){this.applyClasses("banner-message hide"),await T.asPromise(500,(()=>{this.component.get("bannerMessage").setStyle("display","none"),s.disableStyle(V.COMPONENT_NAME,this.component.componentIndex)})),this.onHideListener&&this.onHideListener.call()}async show(t=null,e=null){t&&this.applyHeader(t),e&&this.applyMessage(e),s.enableStyle(V.COMPONENT_NAME,this.component.componentIndex),this.component.get("bannerMessage").setStyle("display","block"),await T.asPromise(100,(()=>{this.applyClasses("banner-message show")})),this.onShowListener&&this.onShowListener.call()}}new m("Button");class D{static get COMPONENT_NAME(){return"Button"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/button.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/button.css"}static get TYPE_PRIMARY(){return"button-primary"}static get TYPE_SECONDARY(){return"button-secondary"}static get TYPE_SUCCESS(){return"button-success"}static get TYPE_INFO(){return"button-info"}static get TYPE_WARNING(){return"button-warning"}static get TYPE_DANGER(){return"button-danger"}static get TYPE_LIGHT(){return"button-light"}static get TYPE_DARK(){return"button-dark"}static get EVENT_CLICKED(){return"click"}constructor(t,s=D.TYPE_PRIMARY){this.componentFactory=L.instance(e),this.component=null,this.label=t,this.buttonType=s,this.eventManager=new n}get events(){return this.eventManager}postConfig(){this.component=this.componentFactory.create("Button"),s.enableStyle(D.COMPONENT_NAME),this.component.get("button").setChild(this.label),this.component.get("button").setAttributeValue("class","button "+this.buttonType),this.component.get("button").listenTo("click",new N(this,(t=>{this.eventManager.trigger(D.EVENT_CLICKED,t)})))}withClickListener(t){return this.component.get("button").listenTo("click",t),this}enableLoading(){this.component.get("spinnerContainer").setAttributeValue("class","button-spinner-container-visible")}disableLoading(){this.component.get("spinnerContainer").setAttributeValue("class","button-spinner-container-hidden")}disable(){this.component.get("button").setAttributeValue("disabled","true")}enable(){this.component.get("button").removeAttribute("disabled")}}new m("DialogBox");class k{static get COMPONENT_NAME(){return"DialogBox"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/dialogBox.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/dialogBox.css"}static get OPTION_BACK_ON_CLOSE(){return 1}constructor(t=[]){this.componentFactory=L.instance(e),this.component=null,this.backShade=L.instance(I,[(new O).withBackgroundClicked(new N(this,this.hide))]),this.hidden=!0,this.swallowFocusEscape=!1,this.owningTrigger=null,this.defaultOptions=new b(t),this.options=new b(t)}postConfig(){this.component=this.componentFactory.create(k.COMPONENT_NAME),this.component.set("backShadeContainer",this.backShade.component),this.component.get("closeButton").listenTo("click",new N(this,this.close)),i.listenToFocusEscape(new N(this,this.close),this.component.get("dialogBoxOverlay"))}setTitle(t){this.component.setChild("title",t)}setFooter(t){this.component.get("dialogBoxFooter").setStyle("display","block"),this.component.setChild("dialogBoxFooter",t)}setContent(t){this.component.setChild("dialogBoxContent",t)}set(t,e){this.component.set(t,e)}async close(){const t=this.options;await this.hide(),t.contains(k.OPTION_BACK_ON_CLOSE)&&r.instance().back()}hide(t){this.options;if(this.hidden)return Promise.resolve();this.hidden=!0,this.getDialogBoxOverlay().setAttributeValue("class","dialogbox-overlay dialogbox-overlay-fade");const e=this.backShade.hideAfter(300),n=T.asPromise(200,(()=>{this.getDialogBoxOverlay().setAttributeValue("class","dialogbox-overlay dialogbox-overlay-fade dialogbox-overlay-display-none")})),i=T.asPromise(201,(()=>{this.getDialogBox().remove(),s.disableStyle(k.COMPONENT_NAME,this.component.componentIndex)}));return this.options=this.defaultOptions,Promise.all([n,i,e])}show(t,e){return e&&(this.options=new b(e)),i.swallowFocusEscape(500),this.hidden?(this.hidden=!1,s.enableStyle(k.COMPONENT_NAME,this.component.componentIndex),this.backShade.show(),this.getDialogBoxOverlay().setAttributeValue("class","dialogbox-overlay dialogbox-overlay-fade dialogbox-overlay-display-block"),T.asPromise(100,(()=>{this.getDialogBoxOverlay().setAttributeValue("class","dialogbox-overlay dialogbox-overlay-fade dialogbox-overlay-display-block dialogbox-overlay-show")}))):new Promise(((t,e)=>{t()}))}getDialogBoxOverlay(){return this.component.get("dialogBoxOverlay")}getDialogBox(){return this.component.get("dialogBox")}}new m("DropDownPanel");class v{static get COMPONENT_NAME(){return"DropDownPanel"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/dropDownPanel.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/dropDownPanel.css"}static get TYPE_PRIMARY(){return" drop-down-panel-button-primary "}static get TYPE_SECONDARY(){return" drop-down-panel-button-secondary "}static get TYPE_SUCCESS(){return" drop-down-panel-button-success "}static get TYPE_INFO(){return" drop-down-panel-button-info "}static get TYPE_WARNING(){return" drop-down-panel-button-warning "}static get TYPE_DANGER(){return" drop-down-panel-button-danger "}static get TYPE_LIGHT(){return" drop-down-panel-button-light "}static get TYPE_DARK(){return" drop-down-panel-button-dark "}static get ORIENTATION_LEFT(){return" drop-down-panel-content-left "}static get ORIENTATION_RIGHT(){return" drop-down-panel-content-right "}static get CONTENT_VISIBLE(){return" drop-down-panel-content-visible "}static get CONTENT_HIDDEN(){return" drop-down-panel-content-hidden "}static get CONTENT_EXPAND(){return" drop-down-panel-content-expand "}static get CONTENT_COLLAPSE(){return" drop-down-panel-content-collapse "}static get CONTENT(){return" drop-down-panel-content "}static get BUTTON(){return" drop-down-panel-button "}constructor(t,s=v.TYPE_DARK,n=v.ORIENTATION_LEFT){this.componentFactory=L.instance(e),this.component=null,this.iconClass=t,this.type=s,this.orientation=n}postConfig(){this.component=this.componentFactory.create(v.COMPONENT_NAME),s.enableStyle(v.COMPONENT_NAME),this.component.get("button").setChild(a.i("",this.iconClass)),this.component.get("button").setAttributeValue("class",v.BUTTON+this.type),this.component.get("content").setAttributeValue("class",v.CONTENT+v.CONTENT_HIDDEN+this.orientation),this.component.get("button").listenTo("click",new N(this,this.clicked)),i.listenToFocusEscape(new N(this,this.hide),this.component.get("dropDownPanelRoot"))}setPanelContent(t){this.component.get("content").setChild(t.component)}clicked(t){this.toggleContent()}toggleContent(){"block"!==this.component.get("arrow").getStyle("display")?this.show():this.hide()}show(){this.component.get("content").setAttributeValue("class",v.CONTENT+v.CONTENT_VISIBLE+this.orientation),this.component.get("arrow").setStyle("display","block"),this.component.get("content").element.focus()}hide(){this.component.get("content").setAttributeValue("class",v.CONTENT+v.CONTENT_HIDDEN+this.orientation),this.component.get("arrow").setStyle("display","none")}disable(){this.component.get("button").setAttributeValue("disabled","true")}enable(){this.component.get("button").removeAttribute("disabled")}}new m("CommonInput");class Y{static get EVENT_CLICKED(){return"clicked"}static get EVENT_ENTERED(){return"entered"}static get EVENT_KEYUPPED(){return"keyUpped"}static get EVENT_CHANGED(){return"changd"}static get EVENT_BLURRED(){return"blurred"}constructor(t,s,i=null,r=null,a=null,o="input",c="error"){this.componentFactory=L.instance(e),this.component=null,this.validator=r,this.componentName=t,this.name=s,this.placeholder=a,this.inputElementId=o,this.errorElementId=c,this.model=i,this.tainted=!1,this.eventManager=new n}postConfig(){this.component=this.componentFactory.create(this.componentName),s.enableStyle(this.componentName,this.component.componentIndex),this.component.get(this.inputElementId).setAttributeValue("name",this.name),this.component.get(this.inputElementId).setAttributeValue("placeholder",this.placeholder),this.validator&&this.validator.withValidListener(new N(this,this.hideValidationError)),this.model&&o.link(this.model,this.validator).to(this.component.get(this.inputElementId)),this.component.get(this.inputElementId).listenTo("keyup",new N(this,this.keyupped)).listenTo("change",new N(this,this.changed)).listenTo("blur",new N(this,this.blurred)).listenTo("click",new N(this,this.clicked)).listenTo("keyup",new N(this,(t=>{t.isKeyCode(13)&&this.entered(t)}))),this.component.get(this.errorElementId).listenTo("click",new N(this,this.errorClicked))}get events(){return this.eventManager}keyupped(t){t.isKeyCode(13)||t.isKeyCode(16)||t.isKeyCode(9)||(this.tainted=!0),""===t.targetValue&&(this.tainted=!1),this.events.trigger(Y.EVENT_KEYUPPED,t)}changed(t){this.tainted=!0,""===t.targetValue&&(this.tainted=!1),this.events.trigger(Y.EVENT_CHANGED,t)}clicked(t){this.events.trigger(Y.EVENT_CLICKED,t)}entered(t){if(!this.validator.isValid())return this.showValidationError(),void this.selectAll();this.events.trigger(Y.EVENT_ENTERED,t)}blurred(t){this.tainted&&(this.validator.isValid()?(this.hideValidationError(),this.events.trigger(Y.EVENT_BLURRED,t)):this.showValidationError())}errorClicked(t){this.hideValidationError()}focus(){this.component.get(this.inputElementId).focus()}selectAll(){this.component.get(this.inputElementId).selectAll()}enable(){this.component.get(this.inputElementId).enable()}disable(){this.component.get(this.inputElementId).disable()}clear(){this.component.get(this.inputElementId).value="",this.tainted=!1,this.hideValidationError()}}new m("Panel");class j{static get COMPONENT_NAME(){return"Panel"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/panel.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/panel.css"}static get PARAMETER_STYLE_TYPE_COLUMN_ROOT(){return" panel-type-column-root "}static get PARAMETER_STYLE_TYPE_COLUMN(){return" panel-type-column "}static get PARAMETER_STYLE_TYPE_ROW(){return" panel-type-row "}static get PARAMETER_STYLE_CONTENT_ALIGN_LEFT(){return" panel-content-align-left "}static get PARAMETER_STYLE_CONTENT_ALIGN_RIGHT(){return" panel-content-align-right "}static get PARAMETER_STYLE_CONTENT_ALIGN_CENTER(){return" panel-content-align-center "}static get PARAMETER_STYLE_CONTENT_ALIGN_JUSTIFY(){return" panel-content-align-justify "}static get PARAMETER_STYLE_SIZE_AUTO(){return" panel-size-auto "}static get PARAMETER_STYLE_SIZE_MINIMAL(){return" panel-size-minimal "}static get PARAMETER_STYLE_SIZE_RESPONSIVE(){return" panel-size-responsive "}static get OPTION_STYLE_CONTENT_PADDING_SMALL(){return" panel-content-padding-small "}static get OPTION_STYLE_CONTENT_PADDING_LARGE(){return" panel-content-padding-large "}static get OPTION_STYLE_BORDER_SHADOW(){return" panel-border-shadow "}constructor(t=j.PARAMETER_STYLE_TYPE_COLUMN_ROOT,s=j.PARAMETER_STYLE_CONTENT_ALIGN_CENTER,n=j.PARAMETER_STYLE_SIZE_AUTO,i=[]){this.componentFactory=L.instance(e),this.component=null,this.type=t,this.contentAlign=s,this.size=n,this.options=i}postConfig(){this.component=this.componentFactory.create("Panel"),c.from(this.component.get("panel")).enable(this.type).enable(this.contentAlign).enable(this.size),s.enableStyle(j.COMPONENT_NAME)}}class U{static get COMPONENT_NAME(){return"SlideDeckEntry"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/slideDeckEntry.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/slideDeckEntry.css"}static get DEFAULT_CLASS(){return"slide-deck-entry"}static get ENTRY_POSITION_FRONT(){return"entry-position-front"}static get ENTRY_POSITION_BEHIND(){return"entry-position-behind"}static get ENTRY_POSITION_RIGHT(){return"entry-position-right"}static get CONTENT_EXISTANCE_PRESENT(){return"content-existance-present"}static get CONTENT_EXISTANCE_REMOVED(){return"content-existance-removed"}constructor(){this.componentFactory=L.instance(e),this.component=null,this.index=0,this.position=U.ENTRY_POSITION_FRONT}get contentElement(){return this.component.get("slideDeckEntryContent")}get entryElement(){return this.component.get("slideDeckEntry")}async postConfig(){this.component=this.componentFactory.create(U.COMPONENT_NAME),s.enableStyle(U.COMPONENT_NAME)}setIndex(t){this.index=t}setContent(t){this.contentElement.setChild(t)}show(){this.setContentVisibility(U.CONTENT_EXISTANCE_PRESENT),this.setShift(U.ENTRY_POSITION_FRONT)}hide(t){t>this.index?this.setShift(U.ENTRY_POSITION_BEHIND):this.setShift(U.ENTRY_POSITION_RIGHT),this.adjustWhenHidden()}adjustWhenHidden(){T.asPromise(600,(()=>{this.position!==U.ENTRY_POSITION_FRONT&&this.setContentVisibility(U.CONTENT_EXISTANCE_REMOVED)}))}setContentVisibility(t){c.from(this.contentElement).replace("content-existance-",t)}setShift(t){this.position=t,c.from(this.entryElement).replace("entry-position-",t)}}class x{static get COMPONENT_NAME(){return"SlideDeck"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/slideDeck.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/slideDeck.css"}constructor(t){this.componentFactory=L.instance(e),this.component=null,this.componentMap=t,this.slideDeckEntryProvider=L.provider(U),this.slideDeckEntryList=new b,this.slideDeckEntryMap=new _,this.slideDeckEntryIndexMap=new _,this.currentEntry=null}async postConfig(){this.component=this.componentFactory.create(x.COMPONENT_NAME),s.enableStyle(x.COMPONENT_NAME),this.componentMap&&this.prepareEntries(),this.scrollback=()=>{this.component.get("slideDeckEntries").element.parentElement.scrollTo(0,0)}}prepareEntries(){this.componentMap.forEach((async(t,e,s)=>{const n=await this.slideDeckEntryProvider.get();return null==this.currentEntry?(n.show(),this.currentEntry=n):n.hide(0),this.slideDeckEntryMap.set(t,n),this.slideDeckEntryList.add(n),this.slideDeckEntryIndexMap.set(t,this.slideDeckEntryList.size()-1),n.setContent(e),n.setIndex(this.slideDeckEntryList.size()-1),this.component.addChild("slideDeckEntries",n.component),!0}),this)}slideNext(){if(this.currentEntry.index+1>=this.slideDeckEntryList.size())return;const t=this.slideDeckEntryList.get(this.currentEntry.index+1);this.currentEntry.hide(t.index),this.currentEntry=t,this.currentEntry.show(),this.component.get("slideDeckEntries").element.parentElement.addEventListener("scroll",this.scrollback),T.asPromise(1e3,(()=>{this.component.get("slideDeckEntries").element.parentElement.removeEventListener("scroll",this.scrollback)}))}slidePrevious(){if(this.currentEntry.index<=0)return;const t=this.slideDeckEntryList.get(this.currentEntry.index-1);this.currentEntry.hide(t.index),this.currentEntry=t,this.currentEntry.show(),this.component.get("slideDeckEntries").element.parentElement.addEventListener("scroll",this.scrollback),T.asPromise(1e3,(()=>{this.component.get("slideDeckEntries").element.parentElement.removeEventListener("scroll",this.scrollback)}))}slideTo(t){const e=this.slideDeckEntryMap.get(t);this.currentEntry.hide(e.index),this.currentEntry=e,this.currentEntry.show(),this.component.get("slideDeckEntries").element.parentElement.addEventListener("scroll",this.scrollback),T.asPromise(1e3,(()=>{this.component.get("slideDeckEntries").element.parentElement.removeEventListener("scroll",this.scrollback)}))}}new m("CheckBox");class F{static get COMPONENT_NAME(){return"CheckBox"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/checkBox.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/checkBox.css"}constructor(t,s=null){this.componentFactory=L.instance(e),this.component=null,this.name=t,this.model=s}postConfig(){this.component=this.componentFactory.create(F.COMPONENT_NAME),s.enableStyle(F.COMPONENT_NAME),this.component.get("checkBox").setAttributeValue("name",this.name),this.model&&o.link(this.model).to(this.component.get("checkBox"))}}new m("EmailInput");class B extends Y{static get COMPONENT_NAME(){return"EmailInput"}static get DEFAULT_PLACEHOLDER(){return"Email"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/emailInput.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/emailInput.css"}constructor(t,e=null,s=TextInput.DEFAULT_PLACEHOLDER,n=!1){super(B.COMPONENT_NAME,t,e,new l(n,!n),s,"emailInput","emailError")}showValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","email-input-error email-input-error-visible")}hideValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","email-input-error email-input-error-hidden")}}new m("TextInput");class f extends Y{static get COMPONENT_NAME(){return"NumberInput"}static get DEFAULT_PLACEHOLDER(){return"Number"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/numberInput.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/numberInput.css"}constructor(t,e=null,s=f.DEFAULT_PLACEHOLDER,n=!1){super(f.COMPONENT_NAME,t,e,new h(n,!n),s,"numberInput","numberError")}showValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","number-input-error number-input-error-visible")}hideValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","number-input-error number-input-error-hidden")}}new m("PasswordInput");class H extends Y{static get COMPONENT_NAME(){return"PasswordInput"}static get DEFAULT_PLACEHOLDER(){return"Password"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/passwordInput.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/passwordInput.css"}constructor(t,e=null,s=TextInput.DEFAULT_PLACEHOLDER,n=!1){super(H.COMPONENT_NAME,t,e,new u(!n),s,"passwordInput","passwordError")}showValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","email-input-error email-input-error-visible")}hideValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","email-input-error email-input-error-hidden")}}new m("PhoneInput");class G extends Y{static get COMPONENT_NAME(){return"PhoneInput"}static get DEFAULT_PLACEHOLDER(){return"Phone"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/phoneInput.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/phoneInput.css"}constructor(t,e=null,s=TextInput.DEFAULT_PLACEHOLDER,n=!1){super(G.COMPONENT_NAME,t,e,new p(n,!n),s,"phoneInput","phoneError")}showValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","phone-input-error phone-input-error-visible")}hideValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","phone-input-error phone-input-error-hidden")}}new m("PasswordMatcherInputValue");class K extends Y{static get COMPONENT_NAME(){return"PasswordMatcherInputValue"}static get DEFAULT_PLACEHOLDER(){return"New password"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/passwordMatcherInputValue.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/passwordMatcherInputValue.css"}constructor(t,e=null,s=TextInput.DEFAULT_PLACEHOLDER,n=!1){super(K.COMPONENT_NAME,t,e,new E(n),s,"passwordMatcherInputValueField","passwordMatcherInputValueError")}showValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","password-matcher-input-value-error password-matcher-input-value-error-visible")}hideValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","password-matcher-input-value-error password-matcher-input-value-error-hidden")}}new m("PasswordMatcherInputControl");class z extends Y{static get COMPONENT_NAME(){return"PasswordMatcherInputControl"}static get DEFAULT_PLACEHOLDER(){return"Confirm password"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/passwordMatcherInputControl.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/passwordMatcherInputControl.css"}constructor(t,e=null,s=null,n=TextInput.DEFAULT_PLACEHOLDER,i=!1){super(z.COMPONENT_NAME,t,e,new d(i,!1,e,s),n,"passwordMatcherInputControlField","passwordMatcherInputControlError")}showValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","password-matcher-input-control-error password-matcher-input-control-error-visible")}hideValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","password-matcher-input-control-error password-matcher-input-control-error-hidden")}}class W{constructor(){this.newPassword=null,this.controlPassword=null}setNewPassword(t){this.newPassword=t}getNewPassword(){return this.newPassword}setControlPassword(t){this.controlPassword=t}getControlPassword(){return this.controlPassword}}new m("PasswordMatcherInput");class Z{static get COMPONENT_NAME(){return"PasswordMatcherInput"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/passwordMatcherInput.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/passwordMatcherInput.css"}static get EVENT_VALIDATED_ENTERED(){return"validatedEntered"}constructor(t,s=null,i=Z.DEFAULT_PLACEHOLDER,r=Z.DEFAULT_CONTROL_PLACEHOLDER,a=!1){this.componentFactory=L.instance(e),this.component=null,this.validator=null,this.passwordMatcherModel=new W,this.name=t,this.model=s,this.passwordMatcherInputValue=L.instance(K,["newPassword",this.passwordMatcherModel,i,a]),this.passwordMatcherInputControl=L.instance(z,["controlPassword",this.passwordMatcherModel,"newPassword",r,a]),this.eventManager=new n}async postConfig(){this.component=await this.componentFactory.create(Z.COMPONENT_NAME),s.enableStyle(Z.COMPONENT_NAME),this.component.setChild("passwordMatcherInputValue",this.passwordMatcherInputValue.component),this.component.setChild("passwordMatcherInputControl",this.passwordMatcherInputControl.component),this.passwordMatcherInputValue.events.listenTo(Y.EVENT_ENTERED,new N(this,this.passwordValueEntered)).listenTo(Y.EVENT_KEYUPPED,new N(this,this.passwordValueChanged)),this.passwordMatcherInputControl.events.listenTo(Y.EVENT_ENTERED,new N(this,this.passwordControlEntered)),this.validator=(new g).withValidator(this.passwordMatcherInputValue.validator).withValidator(this.passwordMatcherInputControl.validator).withValidListener(new N(this,this.passwordMatcherValidOccured))}get events(){return this.eventManager}passwordMatcherValidOccured(){A.setValue(this.model,this.name,this.passwordMatcherModel.getNewPassword())}passwordValueEntered(t){this.passwordMatcherInputValue.validator.isValid()&&this.passwordMatcherInputControl.focus()}passwordValueChanged(t){this.passwordMatcherInputControl.clear()}passwordControlEntered(t){this.validator.isValid()&&this.events.trigger(Z.EVENT_VALIDATED_ENTERED,t)}focus(){this.passwordMatcherInputValue.focus()}selectAll(){this.passwordMatcherInputValue.selectAll()}enable(){this.passwordMatcherInputValue.enable(),this.passwordMatcherInputControl.enable()}disable(){this.passwordMatcherInputValue.disable(),this.passwordMatcherInputControl.disable()}clear(){this.passwordMatcherInputValue.clear(),this.passwordMatcherInputControl.clear()}}new m("TextInput");class X extends Y{static get COMPONENT_NAME(){return"TextInput"}static get DEFAULT_PLACEHOLDER(){return"Text"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/textInput.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/textInput.css"}constructor(t,e=null,s=X.DEFAULT_PLACEHOLDER,n=!1){super(X.COMPONENT_NAME,t,e,new u(!1,n),s,"textInput","textError")}showValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","text-input-error text-input-error-visible")}hideValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","text-input-error text-input-error-hidden")}}export{I as BackShade,O as BackShadeListeners,P as Background,y as BackgroundVideo,R as BannerLabel,S as BannerLabelMessage,V as BannerMessage,D as Button,F as CheckBox,Y as CommonInput,M as CustomAppearance,w as Dependencies,k as DialogBox,v as DropDownPanel,B as EmailInput,f as NumberInput,j as Panel,H as PasswordInput,Z as PasswordMatcherInput,z as PasswordMatcherInputControl,K as PasswordMatcherInputValue,W as PasswordMatcherModel,G as PhoneInput,x as SlideDeck,U as SlideDeckEntry,X as TextInput};
