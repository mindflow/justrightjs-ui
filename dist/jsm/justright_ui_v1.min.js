import{Component as t,ComponentFactory as e,CanvasStyles as s,Style as n,EventManager as i,CSS as o,HTML as a,CanvasRoot as r,Navigation as c,InputElementDataBinding as l,StateManager as h,EmailValidator as E,NumberValidator as p,RequiredValidator as d,PasswordValidator as u,EqualsPropertyValidator as T,AndValidatorSet as m,PhoneValidator as g}from"./justright_core_v1.js";import{Logger as N,TimePromise as _,Method as b,List as C,Map as A,PropertyAccessor as M}from"./coreutil_v1.js";import{InjectionPoint as L}from"./mindi_v1.js";import{ContainerAsync as P,ContainerElement as O}from"./containerbridge_v1.js";class I{static SIZE_DEFAUL="size-default";static SIZE_SMALL="size-small";static SIZE_MEDIUM="size-medium";static SIZE_LARGE="size-large";static SHAPE_DEAFULT="shape-default";static SHAPE_ROUND="shape-round";static SHAPE_SQUARE="shape-square";static VISIBILITY_DEAFULT="visibility-default";static VISIBILITY_VISIBLE="visibility-visible";static VISIBILITY_HIDDEN="visibility-hidden";static SPACING_DEFAULT="spacing-default";static SPACING_NONE="spacing-none";static SPACING_ABOVE="spacing-above";static SPACING_BELOW="spacing-below";static SPACING_ABOVE_BELOW="spacing-above-below";constructor(){this.size=I.SIZE_DEFAULT,this.shape=I.SHAPE_DEAFULT,this.spacing=I.SPACING_DEFAULT,this.visibility=I.VISIBILITY_DEAFULT,this.locked=!1}withSize(t){return this.size=t,this}withShape(t){return this.shape=t,this}withSpacing(t){return this.spacing=t,this}withVisibility(t){return this.visibility=t,this}}class S{constructor(){this.componentClass=t}}class w{constructor(t=null){this.backgroundClickedListener=t&&t.getBackgroundClicked?t.getBackgroundClicked():null}withBackgroundClicked(t){return this.backgroundClickedListener=t,this}getBackgroundClicked(){return this.backgroundClickedListener}callBackgroundClicked(t){this.callListener(this.backgroundClickedListener,t)}callListener(t,e){null!=t&&t.call(e)}}new N("BackShade");class R{static COMPONENT_NAME="BackShade";static TEMPLATE_URL="/assets/justrightjs-ui/backShade.html";static STYLES_URL="/assets/justrightjs-ui/backShade.css";constructor(t=new w){this.componentFactory=L.instance(e),this.component=null,this.container=null,this.backShadeListeners=t,this.hidden=!0}postConfig(){this.component=this.componentFactory.create(R.COMPONENT_NAME)}hideAfter(t){if(this.hidden)return new Promise(((t,e)=>{t()}));this.hidden=!0,this.component.get("backShade").setAttributeValue("class","back-shade fade");const e=_.asPromise(t,(()=>{this.component.get("backShade").setStyle("display","none")})),n=_.asPromise(t+1,(()=>{s.disableStyle(R.COMPONENT_NAME,this.component.componentIndex)}));return Promise.all([e,n])}show(){return this.hidden?(this.hidden=!1,s.enableStyle(R.COMPONENT_NAME,this.component.componentIndex),this.component.get("backShade").setStyle("display","block"),_.asPromise(100,(()=>{this.component.get("backShade").setAttributeValue("class","back-shade fade show")}))):new Promise(((t,e)=>{t()}))}}new N("Background");class y{static COMPONENT_NAME="Background";static TEMPLATE_URL="/assets/justrightjs-ui/background.html";static STYLES_URL="/assets/justrightjs-ui/background.css";constructor(t){this.componentFactory=L.instance(e),this.component=null,this.backgroundImagePath=t}set(t,e){this.component.set(t,e)}postConfig(){this.component=this.componentFactory.create(y.COMPONENT_NAME),this.backgroundImagePath&&n.from(this.component.get("background")).set("background-image",'url("'+this.backgroundImagePath+'")'),s.enableStyle(y.COMPONENT_NAME)}}new N("BackgroundVideo");class D{static COMPONENT_NAME="BackgroundVideo";static TEMPLATE_URL="/assets/justrightjs-ui/backgroundVideo.html";static STYLES_URL="/assets/justrightjs-ui/backgroundVideo.css";constructor(t){this.componentFactory=L.instance(e),this.component=null,this.videoSrc=t}set(t,e){this.component.set(t,e)}postConfig(){this.component=this.componentFactory.create(D.COMPONENT_NAME),s.enableStyle(D.COMPONENT_NAME),this.component.get("source").setAttributeValue("src",this.videoSrc)}async play(){await P.pause(100);const t=this.component.get("video");t.mute(),t.play()}}class k{static get COMPONENT_NAME(){return"BannerLabelMessage"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/bannerLabelMessage.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/bannerLabelMessage.css"}static get EVENT_CLOSE_CLICKED(){return"closeClicked"}static get TYPE_ALERT(){return"type-alert"}static get TYPE_INFO(){return"type-info"}static get TYPE_SUCCESS(){return"type-success"}static get TYPE_WARNING(){return"type-warning"}constructor(t,s=k.TYPE_INFO,n=null){this.componentFactory=L.instance(e),this.component=null,this.header=null,this.message=t,this.bannerType=s,this.customAppearance=n,this.eventManager=new i}async postConfig(){this.component=this.componentFactory.create(k.COMPONENT_NAME),s.enableStyle(k.COMPONENT_NAME),o.from(this.messageContentElement).enable("banner-label-message").enable("banner-label-message-"+this.bannerType),this.customAppearance&&this.customAppearance.shape&&o.from(this.messageContentElement).enable("banner-label-message-"+this.customAppearance.shape),this.customAppearance&&this.customAppearance.size&&o.from(this.messageContentElement).enable("banner-label-message-"+this.customAppearance.size),this.customAppearance&&this.customAppearance.spacing&&o.from(this.messageContentElement).enable("banner-label-message-"+this.customAppearance.spacing),this.component.get("bannerLabelMessageCloseButton").listenTo("click",(()=>{this.eventManager.trigger(k.EVENT_CLOSE_CLICKED)}))}hide(){o.from(this.messageContentElement).disable("banner-label-message-visible").enable("banner-label-message-hidden"),this.isVisible=!1,_.asPromise(500,(()=>{this.isVisible||n.from(this.component.get("bannerLabelMessage")).set("display","none")}))}show(){n.from(this.component.get("bannerLabelMessage")).set("display","block"),_.asPromise(50,(()=>{this.isVisible&&o.from(this.messageContentElement).disable("banner-label-message-hidden").enable("banner-label-message-visible")})),this.isVisible=!0}get messageContentElement(){return this.component.get("bannerLabelMessageContent")}setMessage(t,e){t&&this.applyHeader(t),e&&this.applyMessage(e)}applyHeader(t){this.header=t,this.component.get("bannerLabelMessageHeader").setChild(this.header)}applyMessage(t){this.message=t,this.component.get("bannerLabelMessageText").setChild(this.message)}}class V{static COMPONENT_NAME="BannerLabel";static TEMPLATE_URL="/assets/justrightjs-ui/bannerLabel.html";static STYLES_URL="/assets/justrightjs-ui/bannerLabel.css";constructor(){this.componentFactory=L.instance(e),this.component=null,this.appearance=(new I).withSize(I.SIZE_SMALL).withShape(I.SHAPE_ROUND).withSpacing(I.SPACING_BELOW),this.success=L.instance(k,["",k.TYPE_SUCCESS,this.appearance]),this.warning=L.instance(k,["",k.TYPE_WARNING,this.appearance]),this.error=L.instance(k,["",k.TYPE_ALERT,this.appearance]),this.isVisible=!1}async postConfig(){this.component=this.componentFactory.create(V.COMPONENT_NAME),s.enableStyle(V.COMPONENT_NAME),this.success.hide(),this.warning.hide(),this.error.hide(),this.component.get("bannerLabel").addChild(this.success.component),this.component.get("bannerLabel").addChild(this.warning.component),this.component.get("bannerLabel").addChild(this.error.component),this.success.eventManager.listenTo(k.EVENT_CLOSE_CLICKED,new b(this,this.hide)),this.warning.eventManager.listenTo(k.EVENT_CLOSE_CLICKED,new b(this,this.hide)),this.error.eventManager.listenTo(k.EVENT_CLOSE_CLICKED,new b(this,this.hide)),this.active=this.success}showSuccess(t,e){this.showBanner(this.success,t,e)}showWarning(t,e){this.showBanner(this.warning,t,e)}showError(t,e){this.showBanner(this.error,t,e)}hide(){this.component.get("bannerLabel").setAttributeValue("class","banner-label banner-label-hidden"),this.active.hide(),this.isVisible=!1}showBanner(t,e,s){this.hide(),t.setMessage(e,s),t.show(),this.component.get("bannerLabel").setAttributeValue("class","banner-label banner-label-visible"),this.isVisible=!0,this.active=t}}new N("BannerMessage");class U{static COMPONENT_NAME="BannerMessage";static TEMPLATE_URL="/assets/justrightjs-ui/bannerMessage.html";static STYLES_URL="/assets/justrightjs-ui/bannerMessage.css";static TYPE_ALERT="type-alert";static TYPE_INFO="type-info";static TYPE_SUCCESS="type-success";static TYPE_WARNING="type-warning";constructor(t,s=U.TYPE_INFO,n=!1,i=null){this.componentFactory=L.instance(e),this.component=null,this.message=t,this.closeable=n,this.bannerType=s,this.onHideListener=null,this.onShowListener=null,this.customAppearance=i}postConfig(){this.component=this.componentFactory.create("BannerMessage"),this.component.get("bannerMessageHeader").setChild("Alert"),this.component.get("bannerMessageMessage").setChild(this.message),this.applyClasses("banner-message fade"),this.component.get("bannerMessageCloseButton").listenTo("click",new b(this,this.hide))}applyClasses(t){let e=t;e=e+" banner-message-"+this.bannerType,this.customAppearance&&(this.customAppearance.shape&&(e=e+" banner-message-"+this.customAppearance.shape),this.customAppearance.size&&(e=e+" banner-message-"+this.customAppearance.size),this.customAppearance.spacing&&(e=e+" banner-message-"+this.customAppearance.spacing)),this.component.get("bannerMessage").setAttributeValue("class",e)}applyHeader(t){this.header=t,this.component.get("bannerMessageHeader").setChild(this.header)}applyMessage(t){this.message=t,this.component.get("bannerMessageMessage").setChild(this.message)}remove(){return this.component.remove()}onHide(t){this.onHideListener=t}onShow(t){this.onShowListener=t}async hide(){this.applyClasses("banner-message hide"),await _.asPromise(500,(()=>{this.component.get("bannerMessage").setStyle("display","none"),s.disableStyle(U.COMPONENT_NAME,this.component.componentIndex)})),this.onHideListener&&this.onHideListener.call()}async show(t=null,e=null){t&&this.applyHeader(t),e&&this.applyMessage(e),s.enableStyle(U.COMPONENT_NAME,this.component.componentIndex),this.component.get("bannerMessage").setStyle("display","block"),await _.asPromise(100,(()=>{this.applyClasses("banner-message show")})),this.onShowListener&&this.onShowListener.call()}}new N("Button");class v{static COMPONENT_NAME="Button";static TEMPLATE_URL="/assets/justrightjs-ui/button.html";static STYLES_URL="/assets/justrightjs-ui/button.css";static TYPE_PRIMARY="button-primary";static TYPE_SECONDARY="button-secondary";static TYPE_SUCCESS="button-success";static TYPE_INFO="button-info";static TYPE_WARNING="button-warning";static TYPE_DANGER="button-danger";static TYPE_LIGHT="button-light";static TYPE_DARK="button-dark";static SIZE_MEDIUM="button-medium";static SIZE_LARGE="button-large";static SPINNER_VISIBLE="button-spinner-container-visible";static SPINNER_HIDDEN="button-spinner-container-hidden";static EVENT_CLICKED="click";constructor(t,s=v.TYPE_PRIMARY,n=v.SIZE_MEDIUM,o){this.componentFactory=L.instance(e),this.component=null,this.label=t,this.buttonType=s,this.buttonSize=n,this.iconClass=o,this.eventManager=new i}get events(){return this.eventManager}postConfig(){this.component=this.componentFactory.create("Button"),s.enableStyle(v.COMPONENT_NAME),this.iconClass&&this.component.get("button").addChild(a.i("",this.iconClass)),this.label&&this.component.get("button").addChild(this.label),o.from(this.component.get("button")).enable("button").enable(this.buttonSize).enable(this.buttonType),this.component.get("button").listenTo("click",new b(this,(t=>{this.eventManager.trigger(v.EVENT_CLICKED,t)})))}withClickListener(t){return this.component.get("button").listenTo("click",t),this}enableLoading(){o.from(this.component.get("spinnerContainer")).disable(v.SPINNER_HIDDEN).enable(v.SPINNER_VISIBLE)}disableLoading(){o.from(this.component.get("spinnerContainer")).disable(v.SPINNER_VISIBLE).enable(v.SPINNER_HIDDEN)}disable(){this.component.get("button").setAttributeValue("disabled","true")}enable(){this.component.get("button").removeAttribute("disabled")}}new N("DialogBox");class Y{static COMPONENT_NAME="DialogBox";static TEMPLATE_URL="/assets/justrightjs-ui/dialogBox.html";static STYLES_URL="/assets/justrightjs-ui/dialogBox.css";static OPTION_BACK_ON_CLOSE=1;constructor(t=[]){this.componentFactory=L.instance(e),this.component=null,this.backShade=L.instance(R,[(new w).withBackgroundClicked(new b(this,this.hide))]),this.hidden=!0,this.swallowFocusEscape=!1,this.owningTrigger=null,this.defaultOptions=new C(t),this.options=new C(t)}postConfig(){this.component=this.componentFactory.create(Y.COMPONENT_NAME),this.component.set("backShadeContainer",this.backShade.component),this.component.get("closeButton").listenTo("click",new b(this,this.close)),r.listenToFocusEscape(new b(this,this.close),this.component.get("dialogBoxOverlay"))}setTitle(t){this.component.setChild("title",t)}setFooter(t){this.component.get("dialogBoxFooter").setStyle("display","block"),this.component.setChild("dialogBoxFooter",t)}setContent(t){this.component.setChild("dialogBoxContent",t)}set(t,e){this.component.set(t,e)}async close(){const t=this.options;await this.hide(),t.contains(Y.OPTION_BACK_ON_CLOSE)&&c.instance().back()}hide(t){if(this.options,this.hidden)return Promise.resolve();this.hidden=!0,this.getDialogBoxOverlay().setAttributeValue("class","dialogbox-overlay dialogbox-overlay-fade");const e=this.backShade.hideAfter(300),n=_.asPromise(200,(()=>{this.getDialogBoxOverlay().setAttributeValue("class","dialogbox-overlay dialogbox-overlay-fade dialogbox-overlay-display-none")})),i=_.asPromise(201,(()=>{this.getDialogBox().remove(),s.disableStyle(Y.COMPONENT_NAME,this.component.componentIndex)}));return this.options=this.defaultOptions,Promise.all([n,i,e])}show(t,e){return e&&(this.options=new C(e)),r.swallowFocusEscape(500),this.hidden?(this.hidden=!1,s.enableStyle(Y.COMPONENT_NAME,this.component.componentIndex),this.backShade.show(),this.getDialogBoxOverlay().setAttributeValue("class","dialogbox-overlay dialogbox-overlay-fade dialogbox-overlay-display-block"),_.asPromise(100,(()=>{this.getDialogBoxOverlay().setAttributeValue("class","dialogbox-overlay dialogbox-overlay-fade dialogbox-overlay-display-block dialogbox-overlay-show")}))):new Promise(((t,e)=>{t()}))}getDialogBoxOverlay(){return this.component.get("dialogBoxOverlay")}getDialogBox(){return this.component.get("dialogBox")}scrollLock(){O.scrollLockTo(this.component.get("dialogBoxContent").element,0,0,1e3)}}new N("DropDownPanel");class j{static COMPONENT_NAME="DropDownPanel";static TEMPLATE_URL="/assets/justrightjs-ui/dropDownPanel.html";static STYLES_URL="/assets/justrightjs-ui/dropDownPanel.css";static TYPE_PRIMARY="drop-down-panel-button-primary";static TYPE_SECONDARY="drop-down-panel-button-secondary";static TYPE_SUCCESS="drop-down-panel-button-success";static TYPE_INFO="drop-down-panel-button-info";static TYPE_WARNING="drop-down-panel-button-warning";static TYPE_DANGER="drop-down-panel-button-danger";static TYPE_LIGHT="drop-down-panel-button-light";static TYPE_DARK="drop-down-panel-button-dark";static SIZE_MEDIUM="drop-down-panel-button-medium";static SIZE_LARGE="drop-down-panel-button-large";static ORIENTATION_LEFT="drop-down-panel-left";static ORIENTATION_RIGHT="drop-down-panel-right";static CONTENT_VISIBLE="drop-down-panel-content-visible";static CONTENT_HIDDEN="drop-down-panel-content-hidden";static CONTENT_EXPAND="drop-down-panel-content-expand";static CONTENT_COLLAPSE="drop-down-panel-content-collapse";static CONTENT="drop-down-panel-content";static BUTTON="drop-down-panel-button";constructor(t,s=j.TYPE_DARK,n=j.SIZE_MEDIUM,i=j.ORIENTATION_LEFT){this.componentFactory=L.instance(e),this.component=null,this.iconClass=t,this.type=s,this.size=n,this.orientation=i}postConfig(){this.component=this.componentFactory.create(j.COMPONENT_NAME),s.enableStyle(j.COMPONENT_NAME),this.component.get("button").setChild(a.i("",this.iconClass)),o.from(this.component.get("button")).enable(j.BUTTON).enable(this.type),o.from(this.component.get("content")).enable(j.CONTENT).disable(j.CONTENT_VISIBLE).enable(j.CONTENT_HIDDEN).enable(this.size).enable(this.orientation),this.component.get("button").listenTo("click",new b(this,this.clicked)),r.listenToFocusEscape(new b(this,this.hide),this.component.get("dropDownPanelRoot"))}setPanelContent(t){this.component.get("content").setChild(t.component)}clicked(t){this.toggleContent()}toggleContent(){n.from(this.component.get("arrow")).is("display","block")?this.hide():this.show()}show(){o.from(this.component.get("content")).disable(j.CONTENT_HIDDEN).enable(j.CONTENT_VISIBLE),n.from(this.component.get("arrow")).set("display","block"),this.component.get("content").element.focus()}hide(){o.from(this.component.get("content")).disable(j.CONTENT_VISIBLE).enable(j.CONTENT_HIDDEN),this.component.get("arrow").setStyle("display","none")}disable(){this.component.get("button").setAttributeValue("disabled","true")}enable(){this.component.get("button").removeAttribute("disabled")}}new N("PopUpPanel");class B{static COMPONENT_NAME="PopUpPanel";static TEMPLATE_URL="/assets/justrightjs-ui/popUpPanel.html";static STYLES_URL="/assets/justrightjs-ui/popUpPanel.css";static TYPE_PRIMARY="pop-up-panel-button-primary";static TYPE_SECONDARY="pop-up-panel-button-secondary";static TYPE_SUCCESS="pop-up-panel-button-success";static TYPE_INFO="pop-up-panel-button-info";static TYPE_WARNING="pop-up-panel-button-warning";static TYPE_DANGER="pop-up-panel-button-danger";static TYPE_LIGHT="pop-up-panel-button-light";static TYPE_DARK="pop-up-panel-button-dark";static SIZE_MEDIUM="pop-up-panel-button-medium";static SIZE_LARGE="pop-up-panel-button-large";static ORIENTATION_LEFT="pop-up-panel-left";static ORIENTATION_RIGHT="pop-up-panel-right";static CONTENT_VISIBLE="pop-up-panel-content-visible";static CONTENT_HIDDEN="pop-up-panel-content-hidden";static CONTENT_EXPAND="pop-up-panel-content-expand";static CONTENT_COLLAPSE="pop-up-panel-content-collapse";static CONTENT="pop-up-panel-content";static BUTTON="pop-up-panel-button";constructor(t,s=B.TYPE_DARK,n=B.SIZE_MEDIUM,i=B.ORIENTATION_LEFT){this.componentFactory=L.instance(e),this.component=null,this.iconClass=t,this.type=s,this.size=n,this.orientation=i}postConfig(){this.component=this.componentFactory.create(B.COMPONENT_NAME),s.enableStyle(B.COMPONENT_NAME),this.component.get("button").setChild(a.i("",this.iconClass)),o.from(this.component.get("button")).enable(B.BUTTON).enable(this.type),o.from(this.component.get("content")).enable(B.CONTENT).disable(B.CONTENT_VISIBLE).enable(B.CONTENT_HIDDEN).enable(this.size).enable(this.orientation),this.component.get("button").listenTo("click",new b(this,this.clicked)),r.listenToFocusEscape(new b(this,this.hide),this.component.get("popUpPanelRoot"))}setPanelContent(t){this.component.get("content").setChild(t.component)}clicked(t){this.toggleContent()}toggleContent(){n.from(this.component.get("arrow")).is("display","block")?this.hide():this.show()}show(){o.from(this.component.get("content")).disable(B.CONTENT_HIDDEN).enable(B.CONTENT_VISIBLE),n.from(this.component.get("arrow")).set("display","block"),this.component.get("content").element.focus()}hide(){o.from(this.component.get("content")).disable(B.CONTENT_VISIBLE).enable(B.CONTENT_HIDDEN),this.component.get("arrow").setStyle("display","none")}disable(){this.component.get("button").setAttributeValue("disabled","true")}enable(){this.component.get("button").removeAttribute("disabled")}}new N("CommonInput");class f{static get EVENT_CLICKED(){return"clicked"}static get EVENT_ENTERED(){return"entered"}static get EVENT_KEYUPPED(){return"keyUpped"}static get EVENT_CHANGED(){return"changd"}static get EVENT_BLURRED(){return"blurred"}constructor(t,s,n=null,o=null,a=null,r="input",c="error"){this.componentFactory=L.instance(e),this.component=null,this.validator=o,this.componentName=t,this.name=s,this.placeholder=a,this.inputElementId=r,this.errorElementId=c,this.model=n,this.tainted=!1,this.eventManager=new i}postConfig(){this.component=this.componentFactory.create(this.componentName),s.enableStyle(this.componentName,this.component.componentIndex),this.component.get(this.inputElementId).setAttributeValue("name",this.name),this.component.get(this.inputElementId).setAttributeValue("placeholder",":  "+this.placeholder),this.validator&&this.validator.withValidListener(new b(this,this.hideValidationError)),this.model&&l.link(this.model,this.validator).to(this.component.get(this.inputElementId)),this.component.get(this.inputElementId).listenTo("keyup",new b(this,this.keyupped)).listenTo("change",new b(this,this.changed)).listenTo("blur",new b(this,this.blurred)).listenTo("click",new b(this,this.clicked)).listenTo("keyup",new b(this,(t=>{t.isKeyCode(13)&&this.entered(t)}))),this.component.get(this.errorElementId).listenTo("click",new b(this,this.errorClicked))}get events(){return this.eventManager}keyupped(t){t.isKeyCode(13)||t.isKeyCode(16)||t.isKeyCode(9)||(this.tainted=!0),""===t.targetValue&&(this.tainted=!1),this.events.trigger(f.EVENT_KEYUPPED,t)}changed(t){this.tainted=!0,""===t.targetValue&&(this.tainted=!1),this.events.trigger(f.EVENT_CHANGED,t)}clicked(t){this.events.trigger(f.EVENT_CLICKED,t)}entered(t){if(!this.validator.isValid())return this.showValidationError(),void this.selectAll();this.events.trigger(f.EVENT_ENTERED,t)}blurred(t){this.tainted&&(this.validator.isValid()?(this.hideValidationError(),this.events.trigger(f.EVENT_BLURRED,t)):this.showValidationError())}errorClicked(t){this.hideValidationError()}focus(){this.component.get(this.inputElementId).focus()}selectAll(){this.component.get(this.inputElementId).selectAll()}enable(){this.component.get(this.inputElementId).enable()}disable(){this.component.get(this.inputElementId).disable()}clear(){this.component.get(this.inputElementId).value="",this.tainted=!1,this.hideValidationError()}}new N("Panel");class F{static COMPONENT_NAME="Panel";static TEMPLATE_URL="/assets/justrightjs-ui/panel.html";static STYLES_URL="/assets/justrightjs-ui/panel.css";static PARAMETER_STYLE_TYPE_COLUMN_ROOT="panel-type-column-root";static PARAMETER_STYLE_TYPE_COLUMN="panel-type-column";static PARAMETER_STYLE_TYPE_ROW="panel-type-row";static PARAMETER_STYLE_CONTENT_ALIGN_LEFT="panel-content-align-left";static PARAMETER_STYLE_CONTENT_ALIGN_RIGHT="panel-content-align-right";static PARAMETER_STYLE_CONTENT_ALIGN_CENTER="panel-content-align-center";static PARAMETER_STYLE_CONTENT_ALIGN_JUSTIFY="panel-content-align-justify";static PARAMETER_STYLE_SIZE_AUTO="panel-size-auto";static PARAMETER_STYLE_SIZE_MINIMAL="panel-size-minimal";static PARAMETER_STYLE_SIZE_RESPONSIVE="panel-size-responsive";static OPTION_STYLE_CONTENT_PADDING_SMALL="panel-content-padding-small";static OPTION_STYLE_CONTENT_PADDING_LARGE="panel-content-padding-large";static OPTION_STYLE_BORDER_SHADOW="panel-border-shadow";constructor(t=F.PARAMETER_STYLE_TYPE_COLUMN_ROOT,s=F.PARAMETER_STYLE_CONTENT_ALIGN_CENTER,n=F.PARAMETER_STYLE_SIZE_AUTO,i=[]){this.componentFactory=L.instance(e),this.component=null,this.type=t,this.contentAlign=s,this.size=n,this.options=i}postConfig(){this.component=this.componentFactory.create(F.COMPONENT_NAME),s.enableStyle(F.COMPONENT_NAME),o.from(this.component.get("panel")).enable(this.type).enable(this.contentAlign).enable(this.size)}}new N("LinkPanel");class x{static COMPONENT_NAME="LinkPanel";static TEMPLATE_URL="/assets/justrightjs-ui/linkPanel.html";static STYLES_URL="/assets/justrightjs-ui/linkPanel.css";static EVENT_CLICKED="click";static SIZE_SMALL="link-panel-small";static SIZE_MEDIUM="link-panel-medium";static SIZE_LARGE="link-panel-large";static ORIENTATION_FLAT="link-panel-flat";static ORIENTATION_STACKED="link-panel-stacked";static THEME_DARK="link-panel-dark";static THEME_LIGHT="link-panel-light";static THEME_DANGER="link-panel-danger";static THEME_INFO="link-panel-info";static THEME_SUCCESS="link-panel-success";constructor(t,s,n=x.THEME_DARK,o=x.ORIENTATION_FLAT,a=x.SIZE_SMALL){this.componentFactory=L.instance(e),this.component=null,this.label=t,this.icon=s,this.orientation=o,this.size=a,this.theme=n,this.eventManager=new i}get events(){return this.eventManager}postConfig(){this.component=this.componentFactory.create(x.COMPONENT_NAME),s.enableStyle(x.COMPONENT_NAME),o.from(this.component.get("link")).enable(this.size).enable(this.orientation).enable(this.theme),this.label?this.component.get("label").setChild(this.label):this.component.get("label").remove(),this.icon?o.from(this.component.get("icon")).clear().enable(this.icon):this.component.get("icon").remove(),this.component.get("link").listenTo("click",new b(this,(t=>{this.eventManager.trigger(x.EVENT_CLICKED,t)})))}withClickListener(t){return this.component.get("link").listenTo("click",t),this}}const H=new N("TreePanelEntry");class G{static COMPONENT_NAME="TreePanelEntry";static TEMPLATE_URL="/assets/justrightjs-ui/treePanelEntry.html";static STYLES_URL="/assets/justrightjs-ui/treePanelEntry.css";static RECORD_ELEMENT_REQUESTED="recordElementRequested";static SUB_RECORDS_STATE_UPDATE_REQUESTED="subRecordsStateUpdateRequested";constructor(t=!1,s=null){this.showExpandButton=t,this.componentFactory=L.instance(e),this.component=null,this.panelProvider=L.provider(F),this.eventManager=new i,this.arrayState=L.instance(h),this.treePanelEntryProvier=L.provider(G),this.expandButton=L.instance(v,["+",v.TYPE_PRIMARY]),this.record=s}async postConfig(){this.component=this.componentFactory.create(G.COMPONENT_NAME),s.enableStyle(G.COMPONENT_NAME),this.expandButton.events.listenTo(v.EVENT_CLICKED,new b(this,this.loadSubRecordsClicked)),this.component.setChild("expandButton",this.expandButton.component),this.showExpandButton||(this.component.get("subrecordIndent").remove(),this.component.get("recordElementContainer").remove()),this.arrayState.react(new b(this,this.handleArrayState))}get events(){return this.eventManager}async handleArrayState(t){const e=await this.panelProvider.get([F.PARAMETER_STYLE_TYPE_COLUMN,F.PARAMETER_STYLE_CONTENT_ALIGN_LEFT,F.PARAMETER_STYLE_SIZE_MINIMAL]);t.forEach((async t=>{await this.populateRecord(e,t)})),this.component.setChild("subrecordElements",e.component)}async populateRecord(t,e){const s=await this.eventManager.trigger(G.RECORD_ELEMENT_REQUESTED,[null,e]);if(!s)return;const n=await this.treePanelEntryProvier.get([!0,e]);n.component.setChild("recordElement",s.component),n.events.listenTo(G.RECORD_ELEMENT_REQUESTED,new b(this,this.entryRequested)),n.events.listenTo(G.SUB_RECORDS_STATE_UPDATE_REQUESTED,new b(this,this.subRecordsUpdateRequested)),t.component.addChild("panel",n.component)}async entryRequested(t,e){try{return await this.events.trigger(G.RECORD_ELEMENT_REQUESTED,[t,e])}catch(t){H.error(t)}}async subRecordsUpdateRequested(t,e,s){try{await this.events.trigger(G.SUB_RECORDS_STATE_UPDATE_REQUESTED,[t,e,s])}catch(t){H.error(t)}}loadSubRecordsClicked(t){this.eventManager.trigger(G.SUB_RECORDS_STATE_UPDATE_REQUESTED,[t,this.record,this.arrayState])}}const K=new N("TreePanel");class z{static COMPONENT_NAME="TreePanel";static TEMPLATE_URL="/assets/justrightjs-ui/treePanel.html";static STYLES_URL="/assets/justrightjs-ui/treePanel.css";static EVENT_REFRESH_CLICKED="refreshClicked";static RECORD_ELEMENT_REQUESTED="recordElementRequested";static SUB_RECORDS_STATE_UPDATE_REQUESTED="subRecordsStateUpdateRequested";constructor(t=null){this.componentFactory=L.instance(e),this.component=null,this.eventManager=new i,this.treePanelEntryProvier=L.provider(G),this.treePanelEntry=null,this.buttonPanel=t}async postConfig(){this.component=this.componentFactory.create(z.COMPONENT_NAME),s.enableStyle(z.COMPONENT_NAME),this.buttonPanel&&this.component.setChild("buttonpanel",this.buttonPanel.component),this.treePanelEntry=await this.treePanelEntryProvier.get(),this.treePanelEntry.events.listenTo(G.RECORD_ELEMENT_REQUESTED,new b(this,this.entryRequested)),this.treePanelEntry.events.listenTo(G.SUB_RECORDS_STATE_UPDATE_REQUESTED,new b(this,this.subRecordsUpdateRequested))}get events(){return this.eventManager}async entryRequested(t,e){try{return await this.events.trigger(z.RECORD_ELEMENT_REQUESTED,[t,e])}catch(t){K.error(t)}}async subRecordsUpdateRequested(t,e,s){try{return await this.events.trigger(z.SUB_RECORDS_STATE_UPDATE_REQUESTED,[t,e,s])}catch(t){K.error(t)}}async reset(t){await this.subRecordsUpdateRequested(t,null,this.treePanelEntry.arrayState),this.component.setChild("rootelement",this.treePanelEntry.component)}}class Z{static COMPONENT_NAME="SlideDeckEntry";static TEMPLATE_URL="/assets/justrightjs-ui/slideDeckEntry.html";static STYLES_URL="/assets/justrightjs-ui/slideDeckEntry.css";static DEFAULT_CLASS="slide-deck-entry";static ENTRY_POSITION_FRONT="position-front";static ENTRY_POSITION_BEHIND="position-behind";static ENTRY_POSITION_RIGHT="position-right";static CONTENT_EXISTANCE_PRESENT="existance-present";static CONTENT_EXISTANCE_REMOVED="existance-removed";constructor(){this.componentFactory=L.instance(e),this.component=null,this.index=0,this.position=Z.ENTRY_POSITION_FRONT}get contentElement(){return this.component.get("slideDeckEntryContent")}get entryElement(){return this.component.get("slideDeckEntry")}async postConfig(){this.component=this.componentFactory.create(Z.COMPONENT_NAME),s.enableStyle(Z.COMPONENT_NAME)}setIndex(t){this.index=t}setContent(t){this.contentElement.setChild(t)}show(){this.setContentVisibility(Z.CONTENT_EXISTANCE_PRESENT),this.setShift(Z.ENTRY_POSITION_FRONT)}hide(t){t>this.index?this.setShift(Z.ENTRY_POSITION_BEHIND):this.setShift(Z.ENTRY_POSITION_RIGHT),this.adjustWhenHidden()}adjustWhenHidden(){_.asPromise(600,(()=>{this.position!==Z.ENTRY_POSITION_FRONT&&this.setContentVisibility(Z.CONTENT_EXISTANCE_REMOVED)}))}setContentVisibility(t){o.from(this.contentElement).replace("existance-",t)}setShift(t){this.position=t,o.from(this.entryElement).replace("position-",t)}}class Q{static COMPONENT_NAME="SlideDeck";static TEMPLATE_URL="/assets/justrightjs-ui/slideDeck.html";static STYLES_URL="/assets/justrightjs-ui/slideDeck.css";static EVENT_ENTRY_CHANGED="eventEntryChanged";constructor(t){this.componentFactory=L.instance(e),this.component=null,this.componentMap=t,this.slideDeckEntryProvider=L.provider(Z),this.slideDeckEntryList=new C,this.slideDeckEntryMap=new A,this.slideDeckEntryIndexMap=new A,this.currentEntry=null,this.events=new i}async postConfig(){this.component=this.componentFactory.create(Q.COMPONENT_NAME),s.enableStyle(Q.COMPONENT_NAME),this.componentMap&&this.prepareEntries(),this.scrollback=()=>{this.component.get("slideDeckEntries").element.parentElement.scrollTo(0,0)}}prepareEntries(){this.componentMap.forEach((async(t,e)=>{const s=await this.slideDeckEntryProvider.get();return null==this.currentEntry?(s.show(),this.currentEntry=s):s.hide(0),this.slideDeckEntryMap.set(t,s),this.slideDeckEntryList.add(s),this.slideDeckEntryIndexMap.set(t,this.slideDeckEntryList.size()-1),s.setContent(e),s.setIndex(this.slideDeckEntryList.size()-1),this.component.addChild("slideDeckEntries",s.component),!0}),this)}slideNext(){if(this.currentEntry.index+1>=this.slideDeckEntryList.size())return;const t=this.slideDeckEntryList.get(this.currentEntry.index+1);this.currentEntry.hide(t.index),this.currentEntry=t,this.currentEntry.show(),this.events.trigger(Q.EVENT_ENTRY_CHANGED)}slidePrevious(){if(this.currentEntry.index<=0)return;const t=this.slideDeckEntryList.get(this.currentEntry.index-1);this.currentEntry.hide(t.index),this.currentEntry=t,this.currentEntry.show(),this.events.trigger(Q.EVENT_ENTRY_CHANGED)}slideTo(t){const e=this.slideDeckEntryMap.get(t);this.currentEntry.hide(e.index),this.currentEntry=e,this.currentEntry.show(),this.events.trigger(Q.EVENT_ENTRY_CHANGED)}}new N("CheckBox");class q{static COMPONENT_NAME="CheckBox";static TEMPLATE_URL="/assets/justrightjs-ui/checkBox.html";static STYLES_URL="/assets/justrightjs-ui/checkBox.css";constructor(t,s=null){this.componentFactory=L.instance(e),this.component=null,this.name=t,this.model=s}postConfig(){this.component=this.componentFactory.create(q.COMPONENT_NAME),s.enableStyle(q.COMPONENT_NAME),this.component.get("checkBox").setAttributeValue("name",this.name),this.model&&l.link(this.model).to(this.component.get("checkBox"))}}new N("EmailInput");class W extends f{static COMPONENT_NAME="EmailInput";static TEMPLATE_URL="/assets/justrightjs-ui/emailInput.html";static STYLES_URL="/assets/justrightjs-ui/emailInput.css";static DEFAULT_PLACEHOLDER="Email";constructor(t,e=null,s=TextInput.DEFAULT_PLACEHOLDER,n=!1){super(W.COMPONENT_NAME,t,e,new E(n,!n),s,"emailInput","emailError")}showValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","email-input-error email-input-error-visible")}hideValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","email-input-error email-input-error-hidden")}}new N("TextInput");class X extends f{static COMPONENT_NAME="NumberInput";static TEMPLATE_URL="/assets/justrightjs-ui/numberInput.html";static STYLES_URL="/assets/justrightjs-ui/numberInput.css";static DEFAULT_PLACEHOLDER="Number";constructor(t,e=null,s=X.DEFAULT_PLACEHOLDER,n=!1){super(X.COMPONENT_NAME,t,e,new p(n,!n),s,"numberInput","numberError")}showValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","number-input-error number-input-error-visible")}hideValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","number-input-error number-input-error-hidden")}}new N("PasswordInput");class J extends f{static COMPONENT_NAME="PasswordInput";static TEMPLATE_URL="/assets/justrightjs-ui/passwordInput.html";static STYLES_URL="/assets/justrightjs-ui/passwordInput.css";static DEFAULT_PLACEHOLDER="Password";constructor(t,e=null,s=TextInput.DEFAULT_PLACEHOLDER,n=!1){super(J.COMPONENT_NAME,t,e,new d(!n),s,"passwordInput","passwordError")}showValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","email-input-error email-input-error-visible")}hideValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","email-input-error email-input-error-hidden")}}new N("PasswordMatcherInputValue");class $ extends f{static COMPONENT_NAME="PasswordMatcherInputValue";static TEMPLATE_URL="/assets/justrightjs-ui/passwordMatcherInputValue.html";static STYLES_URL="/assets/justrightjs-ui/passwordMatcherInputValue.css";static DEFAULT_PLACEHOLDER="New password";constructor(t,e=null,s=TextInput.DEFAULT_PLACEHOLDER,n=!1){super($.COMPONENT_NAME,t,e,new u(n),s,"passwordMatcherInputValueField","passwordMatcherInputValueError")}showValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","password-matcher-input-value-error password-matcher-input-value-error-visible")}hideValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","password-matcher-input-value-error password-matcher-input-value-error-hidden")}}new N("PasswordMatcherInputControl");class tt extends f{static COMPONENT_NAME="PasswordMatcherInputControl";static TEMPLATE_URL="/assets/justrightjs-ui/passwordMatcherInputControl.html";static STYLES_URL="/assets/justrightjs-ui/passwordMatcherInputControl.css";static DEFAULT_PLACEHOLDER="Confirm password";constructor(t,e=null,s=null,n=TextInput.DEFAULT_PLACEHOLDER,i=!1){super(tt.COMPONENT_NAME,t,e,new T(i,!1,e,s),n,"passwordMatcherInputControlField","passwordMatcherInputControlError")}showValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","password-matcher-input-control-error password-matcher-input-control-error-visible")}hideValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","password-matcher-input-control-error password-matcher-input-control-error-hidden")}}class et{constructor(){this.newPassword=null,this.controlPassword=null}setNewPassword(t){this.newPassword=t}getNewPassword(){return this.newPassword}setControlPassword(t){this.controlPassword=t}getControlPassword(){return this.controlPassword}}new N("PasswordMatcherInput");class st{static COMPONENT_NAME="PasswordMatcherInput";static TEMPLATE_URL="/assets/justrightjs-ui/passwordMatcherInput.html";static STYLES_URL="/assets/justrightjs-ui/passwordMatcherInput.css";static EVENT_VALIDATED_ENTERED="validatedEntered";constructor(t,s=null,n=st.DEFAULT_PLACEHOLDER,o=st.DEFAULT_CONTROL_PLACEHOLDER,a=!1){this.componentFactory=L.instance(e),this.component=null,this.validator=null,this.passwordMatcherModel=new et,this.name=t,this.model=s,this.passwordMatcherInputValue=L.instance($,["newPassword",this.passwordMatcherModel,n,a]),this.passwordMatcherInputControl=L.instance(tt,["controlPassword",this.passwordMatcherModel,"newPassword",o,a]),this.eventManager=new i}async postConfig(){this.component=await this.componentFactory.create(st.COMPONENT_NAME),s.enableStyle(st.COMPONENT_NAME),this.component.setChild("passwordMatcherInputValue",this.passwordMatcherInputValue.component),this.component.setChild("passwordMatcherInputControl",this.passwordMatcherInputControl.component),this.passwordMatcherInputValue.events.listenTo(f.EVENT_ENTERED,new b(this,this.passwordValueEntered)).listenTo(f.EVENT_KEYUPPED,new b(this,this.passwordValueChanged)),this.passwordMatcherInputControl.events.listenTo(f.EVENT_ENTERED,new b(this,this.passwordControlEntered)),this.validator=(new m).withValidator(this.passwordMatcherInputValue.validator).withValidator(this.passwordMatcherInputControl.validator).withValidListener(new b(this,this.passwordMatcherValidOccured))}get events(){return this.eventManager}passwordMatcherValidOccured(){M.setValue(this.model,this.name,this.passwordMatcherModel.getNewPassword())}passwordValueEntered(t){this.passwordMatcherInputValue.validator.isValid()&&this.passwordMatcherInputControl.focus()}passwordValueChanged(t){this.passwordMatcherInputControl.clear()}passwordControlEntered(t){this.validator.isValid()&&this.events.trigger(st.EVENT_VALIDATED_ENTERED,t)}focus(){this.passwordMatcherInputValue.focus()}selectAll(){this.passwordMatcherInputValue.selectAll()}enable(){this.passwordMatcherInputValue.enable(),this.passwordMatcherInputControl.enable()}disable(){this.passwordMatcherInputValue.disable(),this.passwordMatcherInputControl.disable()}clear(){this.passwordMatcherInputValue.clear(),this.passwordMatcherInputControl.clear()}}new N("PhoneInput");class nt extends f{static COMPONENT_NAME="PhoneInput";static TEMPLATE_URL="/assets/justrightjs-ui/phoneInput.html";static STYLES_URL="/assets/justrightjs-ui/phoneInput.css";static DEFAULT_PLACEHOLDER="Phone";constructor(t,e=null,s=TextInput.DEFAULT_PLACEHOLDER,n=!1){super(nt.COMPONENT_NAME,t,e,new g(n,!n),s,"phoneInput","phoneError")}showValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","phone-input-error phone-input-error-visible")}hideValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","phone-input-error phone-input-error-hidden")}}new N("RadioButton");class it{static COMPONENT_NAME="RadioButton";static TEMPLATE_URL="/assets/justrightjs-ui/radioButton.html";static STYLES_URL="/assets/justrightjs-ui/radioButton.css";static EVENT_CLICKED="click";constructor(t,s=null){this.componentFactory=L.instance(e),this.events=new i,this.component=null,this.name=t,this.model=s}postConfig(){this.component=this.componentFactory.create(it.COMPONENT_NAME),s.enableStyle(it.COMPONENT_NAME),this.component.get("radioButton").setAttributeValue("name",this.name),this.model&&l.link(this.model).to(this.component.get("radioButton")),this.component.get("radioButton").listenTo("click",new b(this,this.clicked))}clicked(t){this.events.trigger(it.EVENT_CLICKED,[t])}}new N("TextInput");class ot extends f{static COMPONENT_NAME="TextInput";static TEMPLATE_URL="/assets/justrightjs-ui/textInput.html";static STYLES_URL="/assets/justrightjs-ui/textInput.css";static DEFAULT_PLACEHOLDER="Text";constructor(t,e=null,s=ot.DEFAULT_PLACEHOLDER,n=!1){super(ot.COMPONENT_NAME,t,e,new d(!1,n),s,"textInput","textError")}showValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","text-input-error text-input-error-visible")}hideValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","text-input-error text-input-error-hidden")}}const at=new N("ToggleSwitch");class rt{static COMPONENT_NAME="ToggleSwitch";static TEMPLATE_URL="/assets/justrightjs-ui/toggleSwitch.html";static STYLES_URL="/assets/justrightjs-ui/toggleSwitch.css";static EVENT_ENABLED="enabled";static EVENT_DISABLED="disabled";static EVENT_CHANGED="changed";constructor(t=null){this.componentFactory=L.instance(e),this.events=new i,this.component=null,this.model=t,this.checked=!1}postConfig(){this.component=this.componentFactory.create(rt.COMPONENT_NAME),s.enableStyle(rt.COMPONENT_NAME),this.model&&l.link(this.model).to(this.component.get("toggleSwitch")),this.component.get("toggleSwitch").listenTo("change",new b(this,this.toggled))}toggled(t){const e=this.checked;this.checked=t.target.mappedElement.checked,e!==this.checked&&this.events.trigger(rt.EVENT_CHANGED,[t]),this.checked?this.events.trigger(rt.EVENT_ENABLED,[t]):this.events.trigger(rt.EVENT_DISABLED,[t])}clicked(t){at.info("Toggle switch clicked")}toggle(t){this.checked!==t&&(this.checked=t,this.component&&this.component.get("toggleSwitch").mappedElement.click())}isChecked(){return this.checked}}export{R as BackShade,w as BackShadeListeners,y as Background,D as BackgroundVideo,V as BannerLabel,k as BannerLabelMessage,U as BannerMessage,v as Button,q as CheckBox,f as CommonInput,I as CustomAppearance,S as Dependencies,Y as DialogBox,j as DropDownPanel,W as EmailInput,x as LinkPanel,X as NumberInput,F as Panel,J as PasswordInput,st as PasswordMatcherInput,tt as PasswordMatcherInputControl,$ as PasswordMatcherInputValue,et as PasswordMatcherModel,nt as PhoneInput,B as PopUpPanel,it as RadioButton,Q as SlideDeck,Z as SlideDeckEntry,ot as TextInput,rt as ToggleSwitch,z as TreePanel,G as TreePanelEntry};
