import{Component as t,ComponentFactory as e,CanvasStyles as s,Style as n,EventManager as i,CSS as o,Navigation as a,CanvasRoot as r,HTML as c,InputElementDataBinding as l,StateManager as h,EmailValidator as E,NumberValidator as p,RequiredValidator as d,PasswordValidator as u,EqualsPropertyValidator as T,AndValidatorSet as g,PhoneValidator as m}from"./justright_core_v1.js";import{Logger as N,TimePromise as _,Method as C,List as A,Map as b,PropertyAccessor as L}from"./coreutil_v1.js";import{InjectionPoint as P}from"./mindi_v1.js";import{ContainerAsync as M,ContainerElementUtils as O}from"./containerbridge_v1.js";class I{static SIZE_DEFAUL="size-default";static SIZE_SMALL="size-small";static SIZE_MEDIUM="size-medium";static SIZE_LARGE="size-large";static SHAPE_DEAFULT="shape-default";static SHAPE_ROUND="shape-round";static SHAPE_SQUARE="shape-square";static VISIBILITY_DEAFULT="visibility-default";static VISIBILITY_VISIBLE="visibility-visible";static VISIBILITY_HIDDEN="visibility-hidden";static SPACING_DEFAULT="spacing-default";static SPACING_NONE="spacing-none";static SPACING_ABOVE="spacing-above";static SPACING_BELOW="spacing-below";static SPACING_ABOVE_BELOW="spacing-above-below";constructor(){this.size=I.SIZE_DEFAULT,this.shape=I.SHAPE_DEAFULT,this.spacing=I.SPACING_DEFAULT,this.visibility=I.VISIBILITY_DEAFULT,this.locked=!1}withSize(t){return this.size=t,this}withShape(t){return this.shape=t,this}withSpacing(t){return this.spacing=t,this}withVisibility(t){return this.visibility=t,this}}class S{constructor(){this.componentClass=t}}class y{constructor(t=null){this.backgroundClickedListener=t&&t.getBackgroundClicked?t.getBackgroundClicked():null}withBackgroundClicked(t){return this.backgroundClickedListener=t,this}getBackgroundClicked(){return this.backgroundClickedListener}callBackgroundClicked(t){this.callListener(this.backgroundClickedListener,t)}callListener(t,e){null!=t&&t.call(e)}}new N("BackShade");class R{static COMPONENT_NAME="BackShade";static TEMPLATE_URL="/assets/justrightjs-ui/backShade.html";static STYLES_URL="/assets/justrightjs-ui/backShade.css";constructor(t=new y){this.componentFactory=P.instance(e),this.component=null,this.container=null,this.backShadeListeners=t,this.hidden=!0}postConfig(){this.component=this.componentFactory.create(R.COMPONENT_NAME)}hideAfter(t){if(this.hidden)return new Promise(((t,e)=>{t()}));this.hidden=!0,this.component.get("backShade").setAttributeValue("class","back-shade fade");const e=_.asPromise(t,(()=>{this.component.get("backShade").setStyle("display","none")})),n=_.asPromise(t+1,(()=>{s.disableStyle(R.COMPONENT_NAME,this.component.componentIndex)}));return Promise.all([e,n])}show(){return this.hidden?(this.hidden=!1,s.enableStyle(R.COMPONENT_NAME,this.component.componentIndex),this.component.get("backShade").setStyle("display","block"),_.asPromise(100,(()=>{this.component.get("backShade").setAttributeValue("class","back-shade fade show")}))):new Promise(((t,e)=>{t()}))}}new N("Background");class w{static COMPONENT_NAME="Background";static TEMPLATE_URL="/assets/justrightjs-ui/background.html";static STYLES_URL="/assets/justrightjs-ui/background.css";constructor(t){this.componentFactory=P.instance(e),this.component=null,this.backgroundImagePath=t}set(t,e){this.component.set(t,e)}postConfig(){this.component=this.componentFactory.create(w.COMPONENT_NAME),this.backgroundImagePath&&n.from(this.component.get("background")).set("background-image",'url("'+this.backgroundImagePath+'")'),s.enableStyle(w.COMPONENT_NAME)}}new N("BackgroundVideo");class D{static COMPONENT_NAME="BackgroundVideo";static TEMPLATE_URL="/assets/justrightjs-ui/backgroundVideo.html";static STYLES_URL="/assets/justrightjs-ui/backgroundVideo.css";constructor(t){this.componentFactory=P.instance(e),this.component=null,this.videoSrc=t}set(t,e){this.component.set(t,e)}postConfig(){this.component=this.componentFactory.create(D.COMPONENT_NAME),s.enableStyle(D.COMPONENT_NAME),this.component.get("source").setAttributeValue("src",this.videoSrc)}async playMuted(){await M.pause(100);this.component.get("video").playMuted()}}class v{static get COMPONENT_NAME(){return"BannerLabelMessage"}static get TEMPLATE_URL(){return"/assets/justrightjs-ui/bannerLabelMessage.html"}static get STYLES_URL(){return"/assets/justrightjs-ui/bannerLabelMessage.css"}static get EVENT_CLOSE_CLICKED(){return"closeClicked"}static get TYPE_ALERT(){return"type-alert"}static get TYPE_INFO(){return"type-info"}static get TYPE_SUCCESS(){return"type-success"}static get TYPE_WARNING(){return"type-warning"}constructor(t,s=v.TYPE_INFO,n=null){this.componentFactory=P.instance(e),this.component=null,this.header=null,this.message=t,this.bannerType=s,this.customAppearance=n,this.eventManager=new i}async postConfig(){this.component=this.componentFactory.create(v.COMPONENT_NAME),s.enableStyle(v.COMPONENT_NAME),o.from(this.messageContentElement).enable("banner-label-message").enable("banner-label-message-"+this.bannerType),this.customAppearance&&this.customAppearance.shape&&o.from(this.messageContentElement).enable("banner-label-message-"+this.customAppearance.shape),this.customAppearance&&this.customAppearance.size&&o.from(this.messageContentElement).enable("banner-label-message-"+this.customAppearance.size),this.customAppearance&&this.customAppearance.spacing&&o.from(this.messageContentElement).enable("banner-label-message-"+this.customAppearance.spacing),this.component.get("bannerLabelMessageCloseButton").listenTo("click",new C(this,this.closeClicked))}closeClicked(t){this.eventManager.trigger(v.EVENT_CLOSE_CLICKED)}hide(){o.from(this.messageContentElement).disable("banner-label-message-visible").enable("banner-label-message-hidden"),this.isVisible=!1,_.asPromise(500,(()=>{this.isVisible||n.from(this.component.get("bannerLabelMessage")).set("display","none")}))}show(){n.from(this.component.get("bannerLabelMessage")).set("display","block"),_.asPromise(50,(()=>{this.isVisible&&o.from(this.messageContentElement).disable("banner-label-message-hidden").enable("banner-label-message-visible")})),this.isVisible=!0}get messageContentElement(){return this.component.get("bannerLabelMessageContent")}setMessage(t,e){t&&this.applyHeader(t),e&&this.applyMessage(e)}applyHeader(t){this.header=t,this.component.get("bannerLabelMessageHeader").setChild(this.header)}applyMessage(t){this.message=t,this.component.get("bannerLabelMessageText").setChild(this.message)}}class V{static COMPONENT_NAME="BannerLabel";static TEMPLATE_URL="/assets/justrightjs-ui/bannerLabel.html";static STYLES_URL="/assets/justrightjs-ui/bannerLabel.css";constructor(){this.componentFactory=P.instance(e),this.component=null,this.appearance=(new I).withSize(I.SIZE_SMALL).withShape(I.SHAPE_ROUND).withSpacing(I.SPACING_BELOW),this.success=P.instance(v,["",v.TYPE_SUCCESS,this.appearance]),this.warning=P.instance(v,["",v.TYPE_WARNING,this.appearance]),this.error=P.instance(v,["",v.TYPE_ALERT,this.appearance]),this.isVisible=!1}async postConfig(){this.component=this.componentFactory.create(V.COMPONENT_NAME),s.enableStyle(V.COMPONENT_NAME),this.success.hide(),this.warning.hide(),this.error.hide(),this.component.get("bannerLabel").addChild(this.success.component),this.component.get("bannerLabel").addChild(this.warning.component),this.component.get("bannerLabel").addChild(this.error.component),this.success.eventManager.listenTo(v.EVENT_CLOSE_CLICKED,new C(this,this.hide)),this.warning.eventManager.listenTo(v.EVENT_CLOSE_CLICKED,new C(this,this.hide)),this.error.eventManager.listenTo(v.EVENT_CLOSE_CLICKED,new C(this,this.hide)),this.active=this.success}showSuccess(t,e){this.showBanner(this.success,t,e)}showWarning(t,e){this.showBanner(this.warning,t,e)}showError(t,e){this.showBanner(this.error,t,e)}hide(){this.component.get("bannerLabel").setAttributeValue("class","banner-label banner-label-hidden"),this.active.hide(),this.isVisible=!1}showBanner(t,e,s){this.hide(),t.setMessage(e,s),t.show(),this.component.get("bannerLabel").setAttributeValue("class","banner-label banner-label-visible"),this.isVisible=!0,this.active=t}}new N("BannerMessage");class k{static COMPONENT_NAME="BannerMessage";static TEMPLATE_URL="/assets/justrightjs-ui/bannerMessage.html";static STYLES_URL="/assets/justrightjs-ui/bannerMessage.css";static TYPE_ALERT="type-alert";static TYPE_INFO="type-info";static TYPE_SUCCESS="type-success";static TYPE_WARNING="type-warning";constructor(t,s=k.TYPE_INFO,n=!1,i=null){this.componentFactory=P.instance(e),this.component=null,this.message=t,this.closeable=n,this.bannerType=s,this.onHideListener=null,this.onShowListener=null,this.customAppearance=i}postConfig(){this.component=this.componentFactory.create("BannerMessage"),this.component.get("bannerMessageHeader").setChild("Alert"),this.component.get("bannerMessageMessage").setChild(this.message),this.applyClasses("banner-message fade"),this.component.get("bannerMessageCloseButton").listenTo("click",new C(this,this.hide))}applyClasses(t){let e=t;e=e+" banner-message-"+this.bannerType,this.customAppearance&&(this.customAppearance.shape&&(e=e+" banner-message-"+this.customAppearance.shape),this.customAppearance.size&&(e=e+" banner-message-"+this.customAppearance.size),this.customAppearance.spacing&&(e=e+" banner-message-"+this.customAppearance.spacing)),this.component.get("bannerMessage").setAttributeValue("class",e)}applyHeader(t){this.header=t,this.component.get("bannerMessageHeader").setChild(this.header)}applyMessage(t){this.message=t,this.component.get("bannerMessageMessage").setChild(this.message)}remove(){return this.component.remove()}onHide(t){this.onHideListener=t}onShow(t){this.onShowListener=t}async hide(){this.applyClasses("banner-message hide"),await _.asPromise(500,(()=>{this.component.get("bannerMessage").setStyle("display","none"),s.disableStyle(k.COMPONENT_NAME,this.component.componentIndex)})),this.onHideListener&&this.onHideListener.call()}async show(t=null,e=null){t&&this.applyHeader(t),e&&this.applyMessage(e),s.enableStyle(k.COMPONENT_NAME,this.component.componentIndex),this.component.get("bannerMessage").setStyle("display","block"),await _.asPromise(100,(()=>{this.applyClasses("banner-message show")})),this.onShowListener&&this.onShowListener.call()}}class U{static HOVERED="hovered";static UNHOVERED="unhovered";static CLICKED="clicked";static DOUBLE_CLICKED="doubleClicked";static ENTERED="entered";static KEYUPPED="keyUpped";static FOCUSED="focused";static BLURRED="blurred";static CHANGED="changed";static ENABLED="enabled";static DISABLED="disabled";static SELECTED="selected";static DRAG_STARTED="dragStarted";static DRAG_ENDED="dragEnded";static DROPPED="dropped"}new N("DialogBox");class f{static COMPONENT_NAME="DialogBox";static TEMPLATE_URL="/assets/justrightjs-ui/dialogBox.html";static STYLES_URL="/assets/justrightjs-ui/dialogBox.css";static OPTION_BACK_ON_CLOSE=1;constructor(t=[]){this.componentFactory=P.instance(e),this.component=null,this.backShade=P.instance(R,[(new y).withBackgroundClicked(new C(this,this.hide))]),this.hidden=!0,this.swallowFocusEscape=!1,this.owningTrigger=null,this.defaultOptions=new A(t),this.options=new A(t),this.destroyFocusEscapeListener=null}postConfig(){this.component=this.componentFactory.create(f.COMPONENT_NAME),this.component.set("backShadeContainer",this.backShade.component),this.component.get("closeButton").listenTo("click",new C(this,this.close))}setTitle(t){this.component.setChild("title",t)}setFooter(t){this.component.get("dialogBoxFooter").setStyle("display","block"),this.component.setChild("dialogBoxFooter",t)}setContent(t){this.component.setChild("dialogBoxContent",t)}set(t,e){this.component.set(t,e)}async close(){const t=this.options;await this.hide(),t.contains(f.OPTION_BACK_ON_CLOSE)&&a.instance().back()}hide(t){if(this.destroyFocusEscapeListener&&(this.destroyFocusEscapeListener(),this.destroyFocusEscapeListener=null),this.options,this.hidden)return Promise.resolve();this.hidden=!0,this.getDialogBoxOverlay().setAttributeValue("class","dialogbox-overlay dialogbox-overlay-fade");const e=this.backShade.hideAfter(300),n=_.asPromise(200,(()=>{this.getDialogBoxOverlay().setAttributeValue("class","dialogbox-overlay dialogbox-overlay-fade dialogbox-overlay-display-none")})),i=_.asPromise(201,(()=>{this.getDialogBox().remove(),s.disableStyle(f.COMPONENT_NAME,this.component.componentIndex)}));return this.options=this.defaultOptions,Promise.all([n,i,e])}show(t,e){return this.destroyFocusEscapeListener&&(this.destroyFocusEscapeListener(),this.destroyFocusEscapeListener=null),this.destroyFocusEscapeListener=r.listenToFocusEscape(new C(this,this.close),this.component.get("dialogBoxOverlay")),e&&(this.options=new A(e)),r.swallowFocusEscape(500),this.hidden?(this.hidden=!1,s.enableStyle(f.COMPONENT_NAME,this.component.componentIndex),this.backShade.show(),this.getDialogBoxOverlay().setAttributeValue("class","dialogbox-overlay dialogbox-overlay-fade dialogbox-overlay-display-block"),r.mouseDownElement=this.component.get("dialogBoxContent"),_.asPromise(100,(()=>{this.getDialogBoxOverlay().setAttributeValue("class","dialogbox-overlay dialogbox-overlay-fade dialogbox-overlay-display-block dialogbox-overlay-show")}))):new Promise(((t,e)=>{t()}))}getDialogBoxOverlay(){return this.component.get("dialogBoxOverlay")}getDialogBox(){return this.component.get("dialogBox")}scrollLock(){O.scrollLockTo(this.component.get("dialogBoxContent").element,0,0,1e3)}}new N("DropDownPanel");class j{static COMPONENT_NAME="DropDownPanel";static TEMPLATE_URL="/assets/justrightjs-ui/dropDownPanel.html";static STYLES_URL="/assets/justrightjs-ui/dropDownPanel.css";static TYPE_PRIMARY="drop-down-panel-button-primary";static TYPE_SECONDARY="drop-down-panel-button-secondary";static TYPE_SUCCESS="drop-down-panel-button-success";static TYPE_INFO="drop-down-panel-button-info";static TYPE_WARNING="drop-down-panel-button-warning";static TYPE_DANGER="drop-down-panel-button-danger";static TYPE_LIGHT="drop-down-panel-button-light";static TYPE_DARK="drop-down-panel-button-dark";static SIZE_MEDIUM="drop-down-panel-button-medium";static SIZE_LARGE="drop-down-panel-button-large";static ORIENTATION_LEFT="drop-down-panel-left";static ORIENTATION_RIGHT="drop-down-panel-right";static CONTENT_VISIBLE="drop-down-panel-content-visible";static CONTENT_HIDDEN="drop-down-panel-content-hidden";static CONTENT_EXPAND="drop-down-panel-content-expand";static CONTENT_COLLAPSE="drop-down-panel-content-collapse";static CONTENT="drop-down-panel-content";static BUTTON="drop-down-panel-button";constructor(t,s=j.TYPE_DARK,n=j.SIZE_MEDIUM,i=j.ORIENTATION_LEFT){this.componentFactory=P.instance(e),this.component=null,this.iconClass=t,this.type=s,this.size=n,this.orientation=i}postConfig(){this.component=this.componentFactory.create(j.COMPONENT_NAME),s.enableStyle(j.COMPONENT_NAME),this.component.get("button").setChild(c.i("",this.iconClass)),o.from(this.component.get("button")).enable(j.BUTTON).enable(this.type),o.from(this.component.get("content")).enable(j.CONTENT).disable(j.CONTENT_VISIBLE).enable(j.CONTENT_HIDDEN).enable(this.size).enable(this.orientation),this.component.get("button").listenTo("click",new C(this,this.clicked)),r.listenToFocusEscape(new C(this,this.hide),this.component.get("dropDownPanelRoot"))}setPanelContent(t){this.component.get("content").setChild(t.component)}clicked(t){this.toggleContent()}toggleContent(){n.from(this.component.get("arrow")).is("display","block")?this.hide():this.show()}show(){o.from(this.component.get("content")).disable(j.CONTENT_HIDDEN).enable(j.CONTENT_VISIBLE),n.from(this.component.get("arrow")).set("display","block"),this.component.get("content").containerElement.focus()}hide(){o.from(this.component.get("content")).disable(j.CONTENT_VISIBLE).enable(j.CONTENT_HIDDEN),this.component.get("arrow").setStyle("display","none")}disable(){this.component.get("button").setAttributeValue("disabled","true")}enable(){this.component.get("button").removeAttribute("disabled")}}new N("PopUpPanel");class F{static COMPONENT_NAME="PopUpPanel";static TEMPLATE_URL="/assets/justrightjs-ui/popUpPanel.html";static STYLES_URL="/assets/justrightjs-ui/popUpPanel.css";static TYPE_PRIMARY="pop-up-panel-button-primary";static TYPE_SECONDARY="pop-up-panel-button-secondary";static TYPE_SUCCESS="pop-up-panel-button-success";static TYPE_INFO="pop-up-panel-button-info";static TYPE_WARNING="pop-up-panel-button-warning";static TYPE_DANGER="pop-up-panel-button-danger";static TYPE_LIGHT="pop-up-panel-button-light";static TYPE_DARK="pop-up-panel-button-dark";static SIZE_MEDIUM="pop-up-panel-button-medium";static SIZE_LARGE="pop-up-panel-button-large";static ORIENTATION_LEFT="pop-up-panel-left";static ORIENTATION_RIGHT="pop-up-panel-right";static CONTENT_VISIBLE="pop-up-panel-content-visible";static CONTENT_HIDDEN="pop-up-panel-content-hidden";static CONTENT_EXPAND="pop-up-panel-content-expand";static CONTENT_COLLAPSE="pop-up-panel-content-collapse";static CONTENT="pop-up-panel-content";static BUTTON="pop-up-panel-button";constructor(t,s=F.TYPE_DARK,n=F.SIZE_MEDIUM,i=F.ORIENTATION_LEFT){this.componentFactory=P.instance(e),this.component=null,this.iconClass=t,this.type=s,this.size=n,this.orientation=i}postConfig(){this.component=this.componentFactory.create(F.COMPONENT_NAME),s.enableStyle(F.COMPONENT_NAME),this.component.get("button").setChild(c.i("",this.iconClass)),o.from(this.component.get("button")).enable(F.BUTTON).enable(this.type),o.from(this.component.get("content")).enable(F.CONTENT).disable(F.CONTENT_VISIBLE).enable(F.CONTENT_HIDDEN).enable(this.size).enable(this.orientation),this.component.get("button").listenTo("click",new C(this,this.clicked)),r.listenToFocusEscape(new C(this,this.hide),this.component.get("popUpPanelRoot"))}setPanelContent(t){this.component.get("content").setChild(t.component)}clicked(t){this.toggleContent()}toggleContent(){n.from(this.component.get("arrow")).is("display","block")?this.hide():this.show()}show(){o.from(this.component.get("content")).disable(F.CONTENT_HIDDEN).enable(F.CONTENT_VISIBLE),n.from(this.component.get("arrow")).set("display","block"),this.component.get("content").element.focus()}hide(){o.from(this.component.get("content")).disable(F.CONTENT_VISIBLE).enable(F.CONTENT_HIDDEN),this.component.get("arrow").setStyle("display","none")}disable(){this.component.get("button").setAttributeValue("disabled","true")}enable(){this.component.get("button").removeAttribute("disabled")}}new N("CommonInput");class Y{static EVENT_CLICKED=U.CLICKED;static EVENT_ENTERED=U.ENTERED;static EVENT_KEYUPPED=U.KEYUPPED;static EVENT_CHANGED=U.CHANGED;static EVENT_BLURRED=U.BLURRED;constructor(t,s,n=null,o=null,a=null,r=null,c=null){this.componentFactory=P.instance(e),this.component=null,this.validator=o,this.componentName=t,this.name=s,this.placeholder=a,this.inputElementId=r,this.errorElementId=c,this.model=n,this.tainted=!1,this.eventManager=new i,this.dataBinding=null}postConfig(){this.component=this.componentFactory.create(this.componentName),s.enableStyle(this.componentName,this.component.componentIndex),this.component.get(this.inputElementId).setAttributeValue("name",this.name),this.placeholder&&this.component.get(this.inputElementId).setAttributeValue("placeholder",":  "+this.placeholder),this.validator&&this.validator.withValidListener(new C(this,this.hideValidationError)),this.model&&(this.dataBinding=l.link(this.model,this.validator).to(this.component.get(this.inputElementId))),this.component.get(this.inputElementId).listenTo("keyup",new C(this,this.keyupped)).listenTo("change",new C(this,this.changed)).listenTo("blur",new C(this,this.blurred)).listenTo("click",new C(this,this.clicked)).listenTo("keyup",new C(this,(t=>{t.isKeyCode(13)&&this.entered(t)}))),this.errorElementId&&this.component.get(this.errorElementId).listenTo("click",new C(this,this.errorClicked))}get events(){return this.eventManager}get value(){return this.component.get(this.inputElementId).value}set value(t){this.component.get(this.inputElementId).value=t,this.dataBinding&&this.dataBinding.push()}keyupped(t){t.isKeyCode(13)||t.isKeyCode(16)||t.isKeyCode(9)||(this.tainted=!0),""===t.targetValue&&(this.tainted=!1),this.events.trigger(Y.EVENT_KEYUPPED,t)}changed(t){this.tainted=!0,""===t.targetValue&&(this.tainted=!1),this.events.trigger(Y.EVENT_CHANGED,t)}clicked(t){this.events.trigger(Y.EVENT_CLICKED,t)}entered(t){if(!this.validator.isValid())return this.showValidationError(),void this.selectAll();this.events.trigger(Y.EVENT_ENTERED,t)}blurred(t){this.tainted&&(this.validator.isValid()?(this.hideValidationError(),this.events.trigger(Y.EVENT_BLURRED,t)):this.showValidationError())}errorClicked(t){this.hideValidationError()}focus(){this.component.get(this.inputElementId).focus()}selectAll(){this.component.get(this.inputElementId).selectAll()}enable(){this.component.get(this.inputElementId).enable()}disable(){this.component.get(this.inputElementId).disable()}clear(){this.component.get(this.inputElementId).value="",this.tainted=!1,this.hideValidationError()}}new N("Panel");class B{static COMPONENT_NAME="Panel";static TEMPLATE_URL="/assets/justrightjs-ui/panel.html";static STYLES_URL="/assets/justrightjs-ui/panel.css";static PARAMETER_STYLE_TYPE_COLUMN_ROOT="panel-type-column-root";static PARAMETER_STYLE_TYPE_COLUMN="panel-type-column";static PARAMETER_STYLE_TYPE_ROW="panel-type-row";static PARAMETER_STYLE_CONTENT_ALIGN_LEFT="panel-content-align-left";static PARAMETER_STYLE_CONTENT_ALIGN_RIGHT="panel-content-align-right";static PARAMETER_STYLE_CONTENT_ALIGN_CENTER="panel-content-align-center";static PARAMETER_STYLE_CONTENT_ALIGN_JUSTIFY="panel-content-align-justify";static PARAMETER_STYLE_SIZE_AUTO="panel-size-auto";static PARAMETER_STYLE_SIZE_MINIMAL="panel-size-minimal";static PARAMETER_STYLE_SIZE_RESPONSIVE="panel-size-responsive";static OPTION_STYLE_CONTENT_PADDING_SMALL="panel-content-padding-small";static OPTION_STYLE_CONTENT_PADDING_LARGE="panel-content-padding-large";static OPTION_STYLE_BORDER_SHADOW="panel-border-shadow";constructor(t=B.PARAMETER_STYLE_TYPE_COLUMN_ROOT,s=B.PARAMETER_STYLE_CONTENT_ALIGN_CENTER,n=B.PARAMETER_STYLE_SIZE_AUTO,i=[]){this.componentFactory=P.instance(e),this.component=null,this.type=t,this.contentAlign=s,this.size=n,this.options=i}postConfig(){this.component=this.componentFactory.create(B.COMPONENT_NAME),s.enableStyle(B.COMPONENT_NAME),o.from(this.component.get("panel")).enable(this.type).enable(this.contentAlign).enable(this.size)}}new N("LinePanelEntry");class x{static COMPONENT_NAME="LinePanelEntry";static TEMPLATE_URL="/assets/justrightjs-ui/linePanelEntry.html";static STYLES_URL="/assets/justrightjs-ui/linePanelEntry.css";constructor(){this.componentFactory=P.instance(e),this.component=null}async postConfig(){this.component=this.componentFactory.create(x.COMPONENT_NAME),s.enableStyle(x.COMPONENT_NAME)}}new N("LinePanel");class H{static COMPONENT_NAME="LinePanel";static TEMPLATE_URL="/assets/justrightjs-ui/linePanel.html";static STYLES_URL="/assets/justrightjs-ui/linePanel.css";static EVENT_REFRESH_CLICKED="refreshClicked";static RECORD_ELEMENT_REQUESTED="recordElementRequested";static RECORDS_STATE_UPDATE_REQUESTED="recordsStateUpdateRequested";constructor(t=null){this.componentFactory=P.instance(e),this.component=null,this.eventManager=new i,this.linePanelEntryProvider=P.provider(x),this.panelProvider=P.provider(B),this.arrayState=P.instance(h),this.buttonPanel=t}async postConfig(){this.component=this.componentFactory.create(H.COMPONENT_NAME),s.enableStyle(H.COMPONENT_NAME),this.buttonPanel&&this.component.setChild("buttonPanel",this.buttonPanel.component),this.arrayState.react(new C(this,this.handleArrayState))}get events(){return this.eventManager}get events(){return this.eventManager}async reset(t){this.events.trigger(H.RECORDS_STATE_UPDATE_REQUESTED,[t,this.arrayState])}async handleArrayState(t){const e=await this.panelProvider.get([B.PARAMETER_STYLE_TYPE_COLUMN,B.PARAMETER_STYLE_CONTENT_ALIGN_LEFT,B.PARAMETER_STYLE_SIZE_MINIMAL]);t.forEach((async t=>{await this.populateRecord(e,t)})),this.component.setChild("recordElements",e.component)}async populateRecord(t,e){const s=await this.eventManager.trigger(H.RECORD_ELEMENT_REQUESTED,[null,e]);if(!s)return;const n=await this.linePanelEntryProvider.get([!0,e]);n.component.setChild("recordElement",s.component),t.component.addChild("panel",n.component)}}new N("LinkPanel");class G{static COMPONENT_NAME="LinkPanel";static TEMPLATE_URL="/assets/justrightjs-ui/linkPanel.html";static STYLES_URL="/assets/justrightjs-ui/linkPanel.css";static EVENT_CLICKED=U.CLICKED;static SIZE_SMALL="link-panel-small";static SIZE_MEDIUM="link-panel-medium";static SIZE_LARGE="link-panel-large";static ORIENTATION_FLAT="link-panel-flat";static ORIENTATION_STACKED="link-panel-stacked";static THEME_DARK="link-panel-dark";static THEME_LIGHT="link-panel-light";static THEME_DANGER="link-panel-danger";static THEME_INFO="link-panel-info";static THEME_SUCCESS="link-panel-success";constructor(t,s,n=G.THEME_DARK,o=G.ORIENTATION_FLAT,a=G.SIZE_SMALL){this.componentFactory=P.instance(e),this.component=null,this.label=t,this.icon=s,this.orientation=o,this.size=a,this.theme=n,this.eventManager=new i}get events(){return this.eventManager}postConfig(){this.component=this.componentFactory.create(G.COMPONENT_NAME),s.enableStyle(G.COMPONENT_NAME),o.from(this.component.get("link")).enable(this.size).enable(this.orientation).enable(this.theme),this.label?this.component.get("label").setChild(this.label):this.component.get("label").remove(),this.icon?o.from(this.component.get("icon")).clear().enable(this.icon):this.component.get("icon").remove(),this.component.get("link").listenTo("click",new C(this,(t=>{this.eventManager.trigger(G.EVENT_CLICKED,t)})))}withClickListener(t){return this.component.get("link").listenTo("click",t),this}}class K{static COMPONENT_NAME="SlideDeckEntry";static TEMPLATE_URL="/assets/justrightjs-ui/slideDeckEntry.html";static STYLES_URL="/assets/justrightjs-ui/slideDeckEntry.css";static DEFAULT_CLASS="slide-deck-entry";static ENTRY_POSITION_FRONT="position-front";static ENTRY_POSITION_BEHIND="position-behind";static ENTRY_POSITION_RIGHT="position-right";static CONTENT_EXISTANCE_PRESENT="existance-present";static CONTENT_EXISTANCE_REMOVED="existance-removed";constructor(){this.componentFactory=P.instance(e),this.component=null,this.index=0,this.position=K.ENTRY_POSITION_FRONT}get contentElement(){return this.component.get("slideDeckEntryContent")}get entryElement(){return this.component.get("slideDeckEntry")}async postConfig(){this.component=this.componentFactory.create(K.COMPONENT_NAME),s.enableStyle(K.COMPONENT_NAME)}setIndex(t){this.index=t}setContent(t){this.contentElement.setChild(t)}show(){this.setContentVisibility(K.CONTENT_EXISTANCE_PRESENT),this.setShift(K.ENTRY_POSITION_FRONT)}hide(t){t>this.index?this.setShift(K.ENTRY_POSITION_BEHIND):this.setShift(K.ENTRY_POSITION_RIGHT),this.adjustWhenHidden()}adjustWhenHidden(){_.asPromise(600,(()=>{this.position!==K.ENTRY_POSITION_FRONT&&this.setContentVisibility(K.CONTENT_EXISTANCE_REMOVED)}))}setContentVisibility(t){o.from(this.contentElement).replace("existance-",t)}setShift(t){this.position=t,o.from(this.entryElement).replace("position-",t)}}class z{static COMPONENT_NAME="SlideDeck";static TEMPLATE_URL="/assets/justrightjs-ui/slideDeck.html";static STYLES_URL="/assets/justrightjs-ui/slideDeck.css";static EVENT_ENTRY_CHANGED="eventEntryChanged";constructor(t){this.componentFactory=P.instance(e),this.component=null,this.componentMap=t,this.slideDeckEntryProvider=P.provider(K),this.slideDeckEntryList=new A,this.slideDeckEntryMap=new b,this.slideDeckEntryIndexMap=new b,this.currentEntry=null,this.events=new i}async postConfig(){this.component=this.componentFactory.create(z.COMPONENT_NAME),s.enableStyle(z.COMPONENT_NAME),this.componentMap&&this.prepareEntries(),this.scrollback=()=>{this.component.get("slideDeckEntries").element.parentElement.scrollTo(0,0)}}prepareEntries(){this.componentMap.forEach((async(t,e)=>{const s=await this.slideDeckEntryProvider.get();return null==this.currentEntry?(s.show(),this.currentEntry=s):s.hide(0),this.slideDeckEntryMap.set(t,s),this.slideDeckEntryList.add(s),this.slideDeckEntryIndexMap.set(t,this.slideDeckEntryList.size()-1),s.setContent(e),s.setIndex(this.slideDeckEntryList.size()-1),this.component.addChild("slideDeckEntries",s.component),!0}),this)}slideNext(){if(this.currentEntry.index+1>=this.slideDeckEntryList.size())return;const t=this.slideDeckEntryList.get(this.currentEntry.index+1);this.currentEntry.hide(t.index),this.currentEntry=t,this.currentEntry.show(),this.events.trigger(z.EVENT_ENTRY_CHANGED)}slidePrevious(){if(this.currentEntry.index<=0)return;const t=this.slideDeckEntryList.get(this.currentEntry.index-1);this.currentEntry.hide(t.index),this.currentEntry=t,this.currentEntry.show(),this.events.trigger(z.EVENT_ENTRY_CHANGED)}slideTo(t){const e=this.slideDeckEntryMap.get(t);this.currentEntry.hide(e.index),this.currentEntry=e,this.currentEntry.show(),this.events.trigger(z.EVENT_ENTRY_CHANGED)}}new N("RadioToggleIcon");class Z{static COMPONENT_NAME="RadioToggleIcon";static TEMPLATE_URL="/assets/justrightjs-ui/radioToggleIcon.html";static STYLES_URL="/assets/justrightjs-ui/radioToggleIcon.css";static EVENT_ENABLED=U.ENABLED;static EVENT_DISABLED=U.DISABLED;static EVENT_CHANGED=U.CHANGED;constructor(t="?",s=null,n="fas fa-question",o=null){this.componentFactory=P.instance(e),this.events=new i,this.component=null,this.model=s,this.enabled=!1,this.name=t,this.icon=n,this.label=o,this.checked=!1}postConfig(){this.component=this.componentFactory.create(Z.COMPONENT_NAME),s.enableStyle(Z.COMPONENT_NAME);const t=this.component.get("radio");t.setAttributeValue("name",this.name),t.listenTo("click",new C(this,this.clicked));const e=t.getAttributeValue("id");this.component.get("label").setAttributeValue("for",e);this.component.get("icon").setAttributeValue("class",this.icon),this.model&&l.link(this.model).to(this.component.get("radio")),this.component.get("radio").listenTo("change",new C(this,this.clicked))}clicked(t){const e=this.checked;this.checked=t.target.checked,e!==this.checked&&this.events.trigger(Z.EVENT_CHANGED,[t]),this.checked?this.events.trigger(Z.EVENT_ENABLED,[t]):this.events.trigger(Z.EVENT_DISABLED,[t])}toggle(t){this.checked!==t&&(this.checked=t,this.component&&this.component.get("radio").containerElement.click())}isChecked(){return this.checked}}new N("ToggleIcon");class q{static COMPONENT_NAME="ToggleIcon";static TEMPLATE_URL="/assets/justrightjs-ui/toggleIcon.html";static STYLES_URL="/assets/justrightjs-ui/toggleIcon.css";static TYPE_PRIMARY="toggleIcon-primary";static TYPE_SECONDARY="toggleIcon-secondary";static TYPE_SUCCESS="toggleIcon-success";static TYPE_INFO="toggleIcon-info";static TYPE_WARNING="toggleIcon-warning";static TYPE_DANGER="toggleIcon-danger";static TYPE_LIGHT="toggleIcon-light";static TYPE_DARK="toggleIcon-dark";static SIZE_MEDIUM="toggleIcon-medium";static SIZE_LARGE="toggleIcon-large";static SPINNER_VISIBLE="toggleIcon-spinner-container-visible";static SPINNER_HIDDEN="toggleIcon-spinner-container-hidden";static EVENT_ENABLED=U.ENABLED;static EVENT_DISABLED=U.DISABLED;constructor(t="?",s=null,n=null){this.componentFactory=P.instance(e),this.component=null,this.model=s,this.enabled=!1,this.name=t,this.label=n,this.enabledIcon="fas fa-circle-check",this.disabledIcon="fas fa-circle",this.disabledColor="lightgray",this.enabledColor="#2196F3",this.hoverColor="gray",this.eventManager=new i}get events(){return this.eventManager}postConfig(){this.component=this.componentFactory.create("ToggleIcon"),s.enableStyle(q.COMPONENT_NAME);const t=this.component.get("checkbox");t.setAttributeValue("name",this.name),t.listenTo("change",new C(this,this.clicked));const e=this.component.get("container");e.listenTo("mouseover",new C(this,this.enableHover)),e.listenTo("mouseout",new C(this,this.disableHover));const n=t.getAttributeValue("id");this.component.get("label").setAttributeValue("for",n),this.applyIcon(this.disabledIcon),this.applyColor(this.disabledColor)}loadIcons(t,e){this.disabledIcon=t,this.enabledIcon=e,this.enabled?this.applyIcon(this.enabledIcon):this.applyIcon(this.disabledIcon)}loadColors(t,e,s){this.disabledColor=t,this.enabledColor=e,this.hoverColor=s,this.enabled?this.applyColor(this.enabledColor):this.applyColor(this.disabledColor)}withClickListener(t){return this.component.get("checkbox").listenTo("click",t),this}disable(){this.component.get("checkbox").setAttributeValue("disabled","true")}enable(){this.component.get("checkbox").removeAttribute("disabled")}clicked(t){if(this.enabled=t.target.checked,this.enabled)return this.applyIcon(this.enabledIcon),this.applyColor(this.enabledColor),void this.eventManager.trigger(q.EVENT_ENABLED,t);this.applyIcon(this.disabledIcon),this.applyColor(this.disabledColor),this.eventManager.trigger(q.EVENT_DISABLED,t)}applyColor(t){this.component.get("container").setAttributeValue("style","color: "+t)}applyIcon(t){this.component.get("icon").setAttributeValue("class",t)}enableHover(){const t=this.component.get("container");this.enabled||t.setAttributeValue("style","color: "+this.hoverColor)}disableHover(){const t=this.component.get("container");this.enabled?t.setAttributeValue("style","color: "+this.enabledColor):t.setAttributeValue("style","color: "+this.disabledColor)}}const Q=new N("TreePanelEntry");class W{static COMPONENT_NAME="TreePanelEntry";static TEMPLATE_URL="/assets/justrightjs-ui/treePanelEntry.html";static STYLES_URL="/assets/justrightjs-ui/treePanelEntry.css";static RECORD_ELEMENT_REQUESTED="recordElementRequested";static SUB_RECORDS_STATE_UPDATE_REQUESTED="subRecordsStateUpdateRequested";static EVENT_EXPAND_TOGGLE_OVERRIDE="expandToggleOverride";constructor(t=null){this.componentFactory=P.instance(e),this.component=null,this.panelProvider=P.provider(B),this.eventManager=new i,this.arrayState=P.instance(h),this.treePanelEntryProvider=P.provider(W),this.expandToggle=P.instance(q),this.record=t}async postConfig(){this.component=this.componentFactory.create(W.COMPONENT_NAME),s.enableStyle(W.COMPONENT_NAME),this.expandToggle.events.listenTo(Z.EVENT_ENABLED,new C(this,this.loadSubRecordsClicked)),this.expandToggle.events.listenTo(Z.EVENT_DISABLED,new C(this,this.hideSubRecordsClicked)),this.component.setChild("expandButton",this.expandToggle.component),this.arrayState.react(new C(this,this.handleArrayState))}get events(){return this.eventManager}async handleArrayState(t){const e=await this.panelProvider.get([B.PARAMETER_STYLE_TYPE_COLUMN,B.PARAMETER_STYLE_CONTENT_ALIGN_LEFT,B.PARAMETER_STYLE_SIZE_MINIMAL]);t.forEach((async t=>{await this.populateRecord(e,t)})),this.component.setChild("subrecordElements",e.component)}async populateRecord(t,e){const s=await this.treePanelEntryProvider.get([e]),n=await this.eventManager.trigger(W.RECORD_ELEMENT_REQUESTED,[null,e,s,this]);n&&(s.component.setChild("recordElement",n.component),await this.eventManager.trigger(W.EVENT_EXPAND_TOGGLE_OVERRIDE,[null,s,e]),s.events.listenTo(W.RECORD_ELEMENT_REQUESTED,new C(this,this.entryRequested)),s.events.listenTo(W.EVENT_EXPAND_TOGGLE_OVERRIDE,new C(this,this.expandToggleOverride)),s.events.listenTo(W.SUB_RECORDS_STATE_UPDATE_REQUESTED,new C(this,this.subRecordsUpdateRequested)),t.component.addChild("panel",s.component))}async entryRequested(t,e,s,n){try{return await this.events.trigger(W.RECORD_ELEMENT_REQUESTED,[t,e,s,n])}catch(t){Q.error(t)}}async expandToggleOverride(t,e,s){try{return await this.events.trigger(W.EVENT_EXPAND_TOGGLE_OVERRIDE,[t,e,s])}catch(t){Q.error(t)}}async reloadSubRecords(){const t=await this.component.get("buttons");await this.subRecordsUpdateRequested(null,this.record,this.arrayState,t)}async subRecordsUpdateRequested(t,e,s,n){try{await this.events.trigger(W.SUB_RECORDS_STATE_UPDATE_REQUESTED,[t,e,s,n])}catch(t){Q.error(t)}}async loadSubRecordsClicked(t){const e=await this.component.get("buttons");this.eventManager.trigger(W.SUB_RECORDS_STATE_UPDATE_REQUESTED,[t,this.record,this.arrayState,e])}hideSubRecordsClicked(t){this.component.get("subrecordElements").clear(),this.component.get("buttons").clear()}}const X=new N("TreePanel");class J{static COMPONENT_NAME="TreePanel";static TEMPLATE_URL="/assets/justrightjs-ui/treePanel.html";static STYLES_URL="/assets/justrightjs-ui/treePanel.css";static EVENT_REFRESH_CLICKED="refreshClicked";static RECORD_ELEMENT_REQUESTED="recordElementRequested";static SUB_RECORDS_STATE_UPDATE_REQUESTED="subRecordsStateUpdateRequested";static EVENT_EXPAND_TOGGLE_OVERRIDE="expandToggleOverride";constructor(t=null){this.componentFactory=P.instance(e),this.component=null,this.eventManager=new i,this.treePanelEntryProvier=P.provider(W),this.treePanelEntry=null,this.buttonPanel=t}async postConfig(){this.component=this.componentFactory.create(J.COMPONENT_NAME),s.enableStyle(J.COMPONENT_NAME),this.buttonPanel&&this.component.setChild("buttonpanel",this.buttonPanel.component),this.treePanelEntry=await this.treePanelEntryProvier.get(),this.treePanelEntry.events.listenTo(W.RECORD_ELEMENT_REQUESTED,new C(this,this.entryRequested)),this.treePanelEntry.events.listenTo(W.EVENT_EXPAND_TOGGLE_OVERRIDE,new C(this,this.expandToggleOverride)),this.treePanelEntry.events.listenTo(W.SUB_RECORDS_STATE_UPDATE_REQUESTED,new C(this,this.subRecordsUpdateRequested)),this.treePanelEntry.component.get("subrecordIndent").remove(),this.treePanelEntry.component.get("recordElementContainer").remove()}get events(){return this.eventManager}async entryRequested(t,e,s,n){X.info("Entry requested");try{return await this.events.trigger(J.RECORD_ELEMENT_REQUESTED,[t,e,s,n])}catch(t){X.error(t)}}async expandToggleOverride(t,e,s){X.info("Expand Toggle Override requested");try{await this.events.trigger(J.EVENT_EXPAND_TOGGLE_OVERRIDE,[e.expandToggle,s])}catch(t){X.error(t)}}async subRecordsUpdateRequested(t,e,s,n){try{await this.events.trigger(J.SUB_RECORDS_STATE_UPDATE_REQUESTED,[t,e,s,n])}catch(t){X.error(t)}}async reset(t){await this.subRecordsUpdateRequested(t,null,this.treePanelEntry.arrayState),this.component.setChild("rootelement",this.treePanelEntry.component)}}new N("Button");class ${static COMPONENT_NAME="Button";static TEMPLATE_URL="/assets/justrightjs-ui/button.html";static STYLES_URL="/assets/justrightjs-ui/button.css";static TYPE_PRIMARY="button-primary";static TYPE_SECONDARY="button-secondary";static TYPE_SUCCESS="button-success";static TYPE_INFO="button-info";static TYPE_WARNING="button-warning";static TYPE_DANGER="button-danger";static TYPE_LIGHT="button-light";static TYPE_DARK="button-dark";static SIZE_MEDIUM="button-medium";static SIZE_LARGE="button-large";static SPINNER_VISIBLE="button-spinner-container-visible";static SPINNER_HIDDEN="button-spinner-container-hidden";static EVENT_CLICKED=U.CLICKED;constructor(t,s=$.TYPE_PRIMARY,n=$.SIZE_MEDIUM,o){this.componentFactory=P.instance(e),this.component=null,this.label=t,this.buttonType=s,this.buttonSize=n,this.iconClass=o,this.eventManager=new i}get events(){return this.eventManager}postConfig(){this.component=this.componentFactory.create("Button"),s.enableStyle($.COMPONENT_NAME),this.iconClass&&this.component.get("button").addChild(c.i("",this.iconClass)),this.label&&this.component.get("button").addChild(this.label),o.from(this.component.get("button")).enable("button").enable(this.buttonSize).enable(this.buttonType),this.component.get("button").listenTo("click",new C(this,(t=>{this.eventManager.trigger($.EVENT_CLICKED,t)})))}withClickListener(t){return this.component.get("button").listenTo("click",t),this}enableLoading(){o.from(this.component.get("spinnerContainer")).disable($.SPINNER_HIDDEN).enable($.SPINNER_VISIBLE)}disableLoading(){o.from(this.component.get("spinnerContainer")).disable($.SPINNER_VISIBLE).enable($.SPINNER_HIDDEN)}disable(){this.component.get("button").setAttributeValue("disabled","true")}enable(){this.component.get("button").removeAttribute("disabled")}}new N("CheckBox");class tt{static COMPONENT_NAME="CheckBox";static TEMPLATE_URL="/assets/justrightjs-ui/checkBox.html";static STYLES_URL="/assets/justrightjs-ui/checkBox.css";constructor(t,s=null){this.componentFactory=P.instance(e),this.component=null,this.name=t,this.model=s}postConfig(){this.component=this.componentFactory.create(tt.COMPONENT_NAME),s.enableStyle(tt.COMPONENT_NAME),this.component.get("checkBox").setAttributeValue("name",this.name),this.model&&l.link(this.model).to(this.component.get("checkBox"))}}new N("EmailInput");class et extends Y{static COMPONENT_NAME="EmailInput";static TEMPLATE_URL="/assets/justrightjs-ui/emailInput.html";static STYLES_URL="/assets/justrightjs-ui/emailInput.css";static DEFAULT_PLACEHOLDER="Email";constructor(t,e=null,s=TextInput.DEFAULT_PLACEHOLDER,n=!1){super(et.COMPONENT_NAME,t,e,new E(n,!n),s,"emailInput","emailError")}showValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","email-input-error email-input-error-visible")}hideValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","email-input-error email-input-error-hidden")}}class st{static COMPONENT_NAME="FileUploadEntry";static TEMPLATE_URL="/assets/justrightjs-ui/fileUploadEntry.html";static STYLES_URL="/assets/justrightjs-ui/fileUploadEntry.css";static EVENT_REMOVE_CLICKED="removeClicked";constructor(t){this.componentFactory=P.instance(e),this.events=new i,this.component=null,this.file=t,this.fileName=t.name,this.fileSize=t.size,this.fileType=t.type}async postConfig(){this.component=this.componentFactory.create(st.COMPONENT_NAME),s.enableStyle(st.COMPONENT_NAME);this.component.get("fileName").setChild(this.fileName);this.component.get("fileSize").setChild((this.fileSize/1024).toFixed(2)+" KB");this.component.get("fileType").setChild(this.fileType?this.fileType:"Unknown");this.component.get("removeButton").listenTo("click",new C(this,this.removeCliked)),this.updateProgress(this.file,this.file.name)}removeCliked(t){this.events.trigger(st.EVENT_REMOVE_CLICKED,[t,this.file])}updateProgress(t,e){if(t){this.component.get("fileProgressBar").setStyle("width",t.uploadPercentage+"%"),t.uploadPercentage>=100&&(t.uploadComplete=!0)}}}new N("FileUpload");class nt{static COMPONENT_NAME="FileUpload";static TEMPLATE_URL="/assets/justrightjs-ui/fileUpload.html";static STYLES_URL="/assets/justrightjs-ui/fileUpload.css";static DEFAULT_PLACEHOLDER="FileUpload";static EVENT_CLICKED=U.CLICKED;static EVENT_FILE_ADDED="fileAdded";static EVENT_FILE_REMOVED="fileRemoved";static EVENT_UPLOAD_COMPLETE="uploadComplete";static EVENT_UPLOAD_RESET="uploadReset";constructor(t,s=!1,n=[]){this.componentFactory=P.instance(e),this.events=new i,this.component=null,this.name=t,this.multiple=s,this.fileTypeArray=n,this.fileArrayState=new h,this.fileUploadEntryProvider=P.provider(st)}postConfig(){this.component=this.componentFactory.create(nt.COMPONENT_NAME),s.enableStyle(nt.COMPONENT_NAME);const t=this.component.get("uploadBox");if(t.listenTo("dragover",new C(this,this.dragOver)),t.listenTo("dragleave",new C(this,this.dragLeave)),t.listenTo("drop",new C(this,this.fileDropped)),t.listenTo("click",new C(this,this.fileInputClicked)),this.multiple){this.component.get("fileInput").containerElement.setAttributeValue("multiple","multiple")}this.component.get("fileInput").listenTo("change",new C(this,this.fileInputChanged))}fileInputClicked(t){const e=this.component.get("fileInput");e.containerElement.value=null,e.containerElement.click()}fileInputChanged(t){this.processFiles(t.files)}async processFiles(t){const e=[],s=[],n=[];for(const n of t){const t=this.isFileTypeSupported(n),i=this.fileAlreadySeleted(n);t&&!i&&e.push(n),t||s.push(n)}if(e.length>0){!1===this.multiple&&this.fileArrayState.clear();for(const t of e)if(n.push(await this.fileArrayState.update(t,t.name)),!1===this.multiple)break}this.showUnsupportedFiles(s),await this.updateFileList();for(const t of n)this.events.trigger(nt.EVENT_FILE_ADDED,[t])}fileAlreadySeleted(t){return this.fileArrayState.objectMap.has(t.name)}isFileTypeSupported(t){return 0===this.fileTypeArray.length||this.fileTypeArray.includes(t.type)}showUnsupportedFiles(t){const e=this.component.get("unsupported");if(e.clear(),t.length>0){e.clear();for(const s of t){const t=c.custom("div");t.setAttributeValue("class","file-upload-unsupported-file"),t.setChild(`File "${s.name}" is not supported.`),e.addChild(t)}}}dragOver(t){t.preventDefault(),t.stopPropagation();const e=this.component.get("uploadBox");o.from(e).enable("file-upload-box-dragover")}dragLeave(t){t.preventDefault(),t.stopPropagation();const e=this.component.get("uploadBox");o.from(e).disable("file-upload-box-dragover")}fileDropped(t){t.preventDefault(),t.stopPropagation();const e=this.component.get("uploadBox");o.from(e).disable("file-upload-box-dragover"),this.processFiles(t.files)}async updateFileList(){const t=this.component.get("fileList");t.clear(),this.events.trigger(nt.EVENT_UPLOAD_RESET);for(const e of this.fileArrayState.objectMap.values()){const s=await this.fileUploadEntryProvider.get([e]);s.events.listenTo(st.EVENT_REMOVE_CLICKED,new C(this,this.removeFileEntry,[s])),this.fileArrayState.reactTo(e.name,new C(s,s.updateProgress)),t.addChild(s.component)}this.fileArrayState.react(new C(this,this.checkFileUploadComplete))}checkFileUploadComplete(){if(0!==this.fileArrayState.objectMap.size){for(const t of this.fileArrayState.objectMap.values())if(!t.uploadComplete)return;this.events.trigger(nt.EVENT_UPLOAD_COMPLETE,[this.fileArrayState.objectArray])}else this.events.trigger(nt.EVENT_UPLOAD_RESET)}async removeFileEntry(t,e,s){this.fileArrayState.delete(e.name);this.component.get("unsupported").clear(),await this.updateFileList(),t.stopPropagation(),this.checkFileUploadComplete()}clicked(t){this.events.trigger(nt.EVENT_CLICKED,[t])}focus(){}}new N("HiddenInput");class it extends Y{static COMPONENT_NAME="HiddenInput";static TEMPLATE_URL="/assets/justrightjs-ui/hiddenInput.html";static STYLES_URL="/assets/justrightjs-ui/hiddenInput.css";constructor(t,e=null){super(it.COMPONENT_NAME,t,e,null,null,"hiddenInput")}}new N("TextInput");class ot extends Y{static COMPONENT_NAME="NumberInput";static TEMPLATE_URL="/assets/justrightjs-ui/numberInput.html";static STYLES_URL="/assets/justrightjs-ui/numberInput.css";static DEFAULT_PLACEHOLDER="Number";constructor(t,e=null,s=ot.DEFAULT_PLACEHOLDER,n=!1){super(ot.COMPONENT_NAME,t,e,new p(n,!n),s,"numberInput","numberError")}showValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","number-input-error number-input-error-visible")}hideValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","number-input-error number-input-error-hidden")}}new N("PasswordInput");class at extends Y{static COMPONENT_NAME="PasswordInput";static TEMPLATE_URL="/assets/justrightjs-ui/passwordInput.html";static STYLES_URL="/assets/justrightjs-ui/passwordInput.css";static DEFAULT_PLACEHOLDER="Password";constructor(t,e=null,s=TextInput.DEFAULT_PLACEHOLDER,n=!1){super(at.COMPONENT_NAME,t,e,new d(!n),s,"passwordInput","passwordError")}showValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","email-input-error email-input-error-visible")}hideValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","email-input-error email-input-error-hidden")}}new N("PasswordMatcherInputValue");class rt extends Y{static COMPONENT_NAME="PasswordMatcherInputValue";static TEMPLATE_URL="/assets/justrightjs-ui/passwordMatcherInputValue.html";static STYLES_URL="/assets/justrightjs-ui/passwordMatcherInputValue.css";static DEFAULT_PLACEHOLDER="New password";constructor(t,e=null,s=TextInput.DEFAULT_PLACEHOLDER,n=!1){super(rt.COMPONENT_NAME,t,e,new u(n),s,"passwordMatcherInputValueField","passwordMatcherInputValueError")}showValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","password-matcher-input-value-error password-matcher-input-value-error-visible")}hideValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","password-matcher-input-value-error password-matcher-input-value-error-hidden")}}new N("PasswordMatcherInputControl");class ct extends Y{static COMPONENT_NAME="PasswordMatcherInputControl";static TEMPLATE_URL="/assets/justrightjs-ui/passwordMatcherInputControl.html";static STYLES_URL="/assets/justrightjs-ui/passwordMatcherInputControl.css";static DEFAULT_PLACEHOLDER="Confirm password";constructor(t,e=null,s=null,n=TextInput.DEFAULT_PLACEHOLDER,i=!1){super(ct.COMPONENT_NAME,t,e,new T(i,!1,e,s),n,"passwordMatcherInputControlField","passwordMatcherInputControlError")}showValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","password-matcher-input-control-error password-matcher-input-control-error-visible")}hideValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","password-matcher-input-control-error password-matcher-input-control-error-hidden")}}class lt{constructor(){this.newPassword=null,this.controlPassword=null}setNewPassword(t){this.newPassword=t}getNewPassword(){return this.newPassword}setControlPassword(t){this.controlPassword=t}getControlPassword(){return this.controlPassword}}new N("PasswordMatcherInput");class ht{static COMPONENT_NAME="PasswordMatcherInput";static TEMPLATE_URL="/assets/justrightjs-ui/passwordMatcherInput.html";static STYLES_URL="/assets/justrightjs-ui/passwordMatcherInput.css";static EVENT_VALIDATED_ENTERED="validatedEntered";constructor(t,s=null,n=ht.DEFAULT_PLACEHOLDER,o=ht.DEFAULT_CONTROL_PLACEHOLDER,a=!1){this.componentFactory=P.instance(e),this.component=null,this.validator=null,this.passwordMatcherModel=new lt,this.name=t,this.model=s,this.passwordMatcherInputValue=P.instance(rt,["newPassword",this.passwordMatcherModel,n,a]),this.passwordMatcherInputControl=P.instance(ct,["controlPassword",this.passwordMatcherModel,"newPassword",o,a]),this.eventManager=new i}async postConfig(){this.component=await this.componentFactory.create(ht.COMPONENT_NAME),s.enableStyle(ht.COMPONENT_NAME),this.component.setChild("passwordMatcherInputValue",this.passwordMatcherInputValue.component),this.component.setChild("passwordMatcherInputControl",this.passwordMatcherInputControl.component),this.passwordMatcherInputValue.events.listenTo(Y.EVENT_ENTERED,new C(this,this.passwordValueEntered)).listenTo(Y.EVENT_KEYUPPED,new C(this,this.passwordValueChanged)),this.passwordMatcherInputControl.events.listenTo(Y.EVENT_ENTERED,new C(this,this.passwordControlEntered)),this.validator=(new g).withValidator(this.passwordMatcherInputValue.validator).withValidator(this.passwordMatcherInputControl.validator).withValidListener(new C(this,this.passwordMatcherValidOccured))}get events(){return this.eventManager}passwordMatcherValidOccured(){L.setValue(this.model,this.name,this.passwordMatcherModel.getNewPassword())}passwordValueEntered(t){this.passwordMatcherInputValue.validator.isValid()&&this.passwordMatcherInputControl.focus()}passwordValueChanged(t){this.passwordMatcherInputControl.clear()}passwordControlEntered(t){this.validator.isValid()&&this.events.trigger(ht.EVENT_VALIDATED_ENTERED,t)}focus(){this.passwordMatcherInputValue.focus()}selectAll(){this.passwordMatcherInputValue.selectAll()}enable(){this.passwordMatcherInputValue.enable(),this.passwordMatcherInputControl.enable()}disable(){this.passwordMatcherInputValue.disable(),this.passwordMatcherInputControl.disable()}clear(){this.passwordMatcherInputValue.clear(),this.passwordMatcherInputControl.clear()}}new N("PhoneInput");class Et extends Y{static COMPONENT_NAME="PhoneInput";static TEMPLATE_URL="/assets/justrightjs-ui/phoneInput.html";static STYLES_URL="/assets/justrightjs-ui/phoneInput.css";static DEFAULT_PLACEHOLDER="Phone";constructor(t,e=null,s=TextInput.DEFAULT_PLACEHOLDER,n=!1){super(Et.COMPONENT_NAME,t,e,new m(n,!n),s,"phoneInput","phoneError")}showValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","phone-input-error phone-input-error-visible")}hideValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","phone-input-error phone-input-error-hidden")}}new N("RadioButton");class pt{static COMPONENT_NAME="RadioButton";static TEMPLATE_URL="/assets/justrightjs-ui/radioButton.html";static STYLES_URL="/assets/justrightjs-ui/radioButton.css";static EVENT_CLICKED=U.CLICKED;constructor(t,s=null){this.componentFactory=P.instance(e),this.events=new i,this.component=null,this.name=t,this.model=s}postConfig(){this.component=this.componentFactory.create(pt.COMPONENT_NAME),s.enableStyle(pt.COMPONENT_NAME),this.component.get("radio").setAttributeValue("name",this.name),this.model&&l.link(this.model).to(this.component.get("radio")),this.component.get("radio").listenTo("click",new C(this,this.clicked))}clicked(t){this.events.trigger(pt.EVENT_CLICKED,[t])}}new N("RadioToggleSwitch");class dt{static COMPONENT_NAME="RadioToggleSwitch";static TEMPLATE_URL="/assets/justrightjs-ui/radioToggleSwitch.html";static STYLES_URL="/assets/justrightjs-ui/radioToggleSwitch.css";static EVENT_ENABLED=U.ENABLED;static EVENT_DISABLED=U.DISABLED;static EVENT_CHANGED=U.CHANGED;constructor(t=null){this.componentFactory=P.instance(e),this.events=new i,this.component=null,this.model=t,this.checked=!1}postConfig(){this.component=this.componentFactory.create(dt.COMPONENT_NAME),s.enableStyle(dt.COMPONENT_NAME),this.model&&l.link(this.model).to(this.component.get("checkbox")),this.component.get("checkbox").listenTo("change",new C(this,this.clicked))}clicked(t){const e=this.checked;this.checked=t.target.checked,e!==this.checked&&this.events.trigger(dt.EVENT_CHANGED,[t]),this.checked?this.events.trigger(dt.EVENT_ENABLED,[t]):this.events.trigger(dt.EVENT_DISABLED,[t])}toggle(t){this.checked!==t&&(this.checked=t,this.component&&this.component.get("checkbox").containerElement.click())}isChecked(){return this.checked}}new N("Select");class ut{static COMPONENT_NAME="Select";static TEMPLATE_URL="/assets/justrightjs-ui/select.html";static STYLES_URL="/assets/justrightjs-ui/select.css";static DEFAULT_PLACEHOLDER="Select";static EVENT_CLICKED=U.CLICKED;constructor(t,s=null,n=[],o=ut.DEFAULT_PLACEHOLDER,a=!1){this.componentFactory=P.instance(e),this.events=new i,this.component=null,this.name=t,this.optionsArray=n,this.placeholder=o,this.mandatory=a,this.model=s}postConfig(){this.component=this.componentFactory.create(ut.COMPONENT_NAME),s.enableStyle(ut.COMPONENT_NAME);const t=this.component.get("select");t.name=this.name,this.model&&l.link(this.model).to(this.component.get("select")),this.optionsArray&&this.optionsArray.length>0&&(t.options=this.optionsArray),t.listenTo("click",new C(this,this.clicked))}set options(t){if(this.optionsArray=t,this.component){const t=this.component.get("select");t&&this.optionsArray&&this.optionsArray.length>0&&(t.options=this.optionsArray)}}clicked(t){this.events.trigger(ut.EVENT_CLICKED,[t])}}new N("TextInput");class Tt extends Y{static COMPONENT_NAME="TextInput";static TEMPLATE_URL="/assets/justrightjs-ui/textInput.html";static STYLES_URL="/assets/justrightjs-ui/textInput.css";static DEFAULT_PLACEHOLDER="Text";constructor(t,e=null,s=Tt.DEFAULT_PLACEHOLDER,n=!1){super(Tt.COMPONENT_NAME,t,e,new d(!1,n),s,"textInput","textError")}showValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","text-input-error text-input-error-visible")}hideValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","text-input-error text-input-error-hidden")}}export{R as BackShade,y as BackShadeListeners,w as Background,D as BackgroundVideo,V as BannerLabel,v as BannerLabelMessage,k as BannerMessage,$ as Button,tt as CheckBox,U as CommonEvents,Y as CommonInput,I as CustomAppearance,S as Dependencies,f as DialogBox,j as DropDownPanel,et as EmailInput,nt as FileUpload,st as FileUploadEntry,it as HiddenInput,H as LinePanel,x as LinePanelEntry,G as LinkPanel,ot as NumberInput,B as Panel,at as PasswordInput,ht as PasswordMatcherInput,ct as PasswordMatcherInputControl,rt as PasswordMatcherInputValue,lt as PasswordMatcherModel,Et as PhoneInput,F as PopUpPanel,pt as RadioButton,Z as RadioToggleIcon,dt as RadioToggleSwitch,ut as Select,z as SlideDeck,K as SlideDeckEntry,Tt as TextInput,q as ToggleIcon,J as TreePanel,W as TreePanelEntry};
