import{Component as t,InlineComponentFactory as e,CanvasStyles as s,StyleAccessor as n,EventManager as i,StyleClassAccessor as o,TemplateComponentFactory as a,Navigation as r,CanvasRoot as l,HTML as c,InputElementDataBinding as h,StateManager as d,EmailValidator as p,NumberValidator as E,RequiredValidator as u,PasswordValidator as g,EqualsPropertyValidator as m,AndValidatorSet as T,PhoneValidator as b}from"./justright_core_v1.js";import{Logger as _,TimePromise as L,Method as C,List as y,Map as I,PropertyAccessor as A}from"./coreutil_v1.js";import{InjectionPoint as S}from"./mindi_v1.js";import{ContainerAsync as w,ContainerElementUtils as N}from"./containerbridge_v1.js";class R{static SIZE_DEFAUL="size-default";static SIZE_SMALL="size-small";static SIZE_MEDIUM="size-medium";static SIZE_LARGE="size-large";static SHAPE_DEAFULT="shape-default";static SHAPE_ROUND="shape-round";static SHAPE_SQUARE="shape-square";static VISIBILITY_DEAFULT="visibility-default";static VISIBILITY_VISIBLE="visibility-visible";static VISIBILITY_HIDDEN="visibility-hidden";static SPACING_DEFAULT="spacing-default";static SPACING_NONE="spacing-none";static SPACING_ABOVE="spacing-above";static SPACING_BELOW="spacing-below";static SPACING_ABOVE_BELOW="spacing-above-below";constructor(){this.size=R.SIZE_DEFAULT,this.shape=R.SHAPE_DEAFULT,this.spacing=R.SPACING_DEFAULT,this.visibility=R.VISIBILITY_DEAFULT,this.locked=!1}withSize(t){return this.size=t,this}withShape(t){return this.shape=t,this}withSpacing(t){return this.spacing=t,this}withVisibility(t){return this.visibility=t,this}}class D{constructor(){this.componentClass=t}}class P{constructor(t=null){this.backgroundClickedListener=t&&t.getBackgroundClicked?t.getBackgroundClicked():null}withBackgroundClicked(t){return this.backgroundClickedListener=t,this}getBackgroundClicked(){return this.backgroundClickedListener}callBackgroundClicked(t){this.callListener(this.backgroundClickedListener,t)}callListener(t,e){null!=t&&t.call(e)}}new _("BackShade");class v{constructor(t=new P){this.componentFactory=S.instance(e),this.component=null,this.container=null,this.backShadeListeners=t,this.hidden=!0}static buildComponent(t){return t.root("div","id=backShade","style=z-index:3;display:none;","class=back-shade").build()}static buildStylesheet(t){return t.add(".back-shade").set("opacity","0").set("position","fixed").set("top","0").set("left","0").set("z-index","1040").set("width","100vw").set("height","100vh").set("background-color","#000").add(".back-shade.show").set("opacity","0.5").add(".back-shade.fade").set("transition","opacity 0.3s ease-in-out").set("-moz-transition","opacity 0.3s ease-in-out").set("-webkit-transition","opacity 0.3s ease-in-out").build()}postConfig(){this.component=this.componentFactory.create(v)}hideAfter(t){if(this.hidden)return new Promise(((t,e)=>{t()}));this.hidden=!0,this.component.get("backShade").setAttributeValue("class","back-shade fade");const e=L.asPromise(t,(()=>{this.component.get("backShade").setStyle("display","none")})),n=L.asPromise(t+1,(()=>{s.disableStyle(v.name,this.component.componentIndex)}));return Promise.all([e,n])}show(){return this.hidden?(this.hidden=!1,s.enableStyle(v.name,this.component.componentIndex),this.component.get("backShade").setStyle("display","block"),L.asPromise(100,(()=>{this.component.get("backShade").setAttributeValue("class","back-shade fade show")}))):new Promise(((t,e)=>{t()}))}}new _("Background");class k{constructor(t){this.componentFactory=S.instance(e),this.component=null,this.backgroundImagePath=t}static buildComponent(t){return t.root("div","id=background","class=background").build()}static buildStylesheet(t){return t.add(".background").set("background-color","rgb(150, 197, 255)").set("background-repeat","no-repeat").set("background-position-x","center").set("background-position-y","center").set("background-attachment","scroll").set("background-size","cover").set("font-family","Source Sans Pro").set("font-weight","300").set("height","100%").build()}set(t,e){this.component.set(t,e)}postConfig(){this.component=this.componentFactory.create(k),this.backgroundImagePath&&n.from(this.component.get("background")).set("background-image",'url("'+this.backgroundImagePath+'")'),s.enableStyle(k.name)}}new _("BackgroundVideo");class f{constructor(t){this.componentFactory=S.instance(e),this.component=null,this.videoSrc=t}static buildComponent(t){return t.root("div","id=backgroundVideo","class=background-video").open().add("div","class=background-video-overlay").add("video","id=video","class=background-video-player","playsinline=playsinline","autoplay=true","muted=true","loop=loop").open().add("source","id=source","src=","type=video/mp4").close().close().build()}static buildStylesheet(t){return t.add(".background-video").set("width","auto").set("height","auto").add(".background-video-player").set("position","fixed").set("top","50%").set("left","50%").set("min-width","100%").set("min-height","100%").set("width","auto").set("height","auto").set("transform","translateX(-50%) translateY(-50%)").set("z-index","0").add(".background-video-overlay").set("position","absolute").set("min-width","100%").set("min-height","100%").set("width","auto").set("height","auto").set("background-color","#1144aa").set("opacity","0.3").set("z-index","1").build()}set(t,e){this.component.set(t,e)}postConfig(){this.component=this.componentFactory.create(f),s.enableStyle(f.name),this.component.get("source").setAttributeValue("src",this.videoSrc)}async playMuted(){await w.pause(100);this.component.get("video").playMuted()}}class M{static get EVENT_CLOSE_CLICKED(){return"closeClicked"}static get TYPE_ALERT(){return"type-alert"}static get TYPE_INFO(){return"type-info"}static get TYPE_SUCCESS(){return"type-success"}static get TYPE_WARNING(){return"type-warning"}constructor(t,s=M.TYPE_INFO,n=null){this.componentFactory=S.instance(e),this.component=null,this.header=null,this.message=t,this.bannerType=s,this.customAppearance=n,this.eventManager=new i}static buildStylesheet(t){return t.add(".banner-label-message").set("color","white").set("width","100%").add(".banner-label-message-visible").set("opacity","0.8").set("transition","opacity .5s .1s").add(".banner-label-message-hidden").set("opacity","0").set("transition","opacity .5s 0s").add(".banner-label-message-close-button").set("margin-left","15pt").set("color","white").set("font-weight","bold").set("float","right").set("font-size","22pt").set("line-height","14pt").set("cursor","pointer").set("transition","0.3s").add(".banner-label-message-header").set("color","white").add(".banner-label-message-text").set("margin-left","15px").add(".banner-label-message-type-alert").set("background-color","#f44336").add(".banner-label-message-type-success").set("background-color","#4CAF50").add(".banner-label-message-type-info").set("background-color","#2196F3").add(".banner-label-message-type-warning").set("background-color","#ff9800").add(".banner-label-message-size-large").set("padding","18pt").add(".banner-label-message-size-default").set("padding","12pt").add(".banner-label-message-size-small").set("padding-left","10pt").set("padding-right","10px").set("padding-bottom","8px").set("padding-top","8px").add(".banner-label-message-shape-square").set("border-radius","0px").add(".banner-label-message-shape-round").set("border-radius","3px").add(".banner-label-message-spacing-none").set("margin","0pt").add(".banner-label-message-spacing-above").set("margin-top","1rem").add(".banner-label-message-spacing-below").set("margin-bottom","1rem").add(".banner-label-message-spacing-above-below").set("margin-top","1rem").set("margin-bottom","1rem").build()}static buildComponent(t){return t.root("div","id=bannerLabelMessage","style=display:none;").open().add("div","id=bannerLabelMessageContent","class=banner-label-message banner-label-message-hidden").open().add("span","id=bannerLabelMessageCloseButton","class=banner-label-message-close-button").add("span","id=bannerLabelMessageHeader","class=banner-label-message-header").add("span","id=bannerLabelMessageText","class=banner-label-message-text").close().close().build()}async postConfig(){this.component=this.componentFactory.create(M),s.enableStyle(M.name),o.from(this.messageContentElement).enable("banner-label-message").enable("banner-label-message-"+this.bannerType),this.component.get("bannerLabelMessageCloseButton").setChild("Ã—"),this.customAppearance&&this.customAppearance.shape&&o.from(this.messageContentElement).enable("banner-label-message-"+this.customAppearance.shape),this.customAppearance&&this.customAppearance.size&&o.from(this.messageContentElement).enable("banner-label-message-"+this.customAppearance.size),this.customAppearance&&this.customAppearance.spacing&&o.from(this.messageContentElement).enable("banner-label-message-"+this.customAppearance.spacing),this.component.get("bannerLabelMessageCloseButton").listenTo("click",new C(this,this.closeClicked))}closeClicked(t){this.eventManager.trigger(M.EVENT_CLOSE_CLICKED)}hide(){o.from(this.messageContentElement).disable("banner-label-message-visible").enable("banner-label-message-hidden"),this.isVisible=!1,L.asPromise(500,(()=>{this.isVisible||n.from(this.component.get("bannerLabelMessage")).set("display","none")}))}show(){n.from(this.component.get("bannerLabelMessage")).set("display","block"),L.asPromise(50,(()=>{this.isVisible&&o.from(this.messageContentElement).disable("banner-label-message-hidden").enable("banner-label-message-visible")})),this.isVisible=!0}get messageContentElement(){return this.component.get("bannerLabelMessageContent")}setMessage(t,e){t&&this.applyHeader(t),e&&this.applyMessage(e)}applyHeader(t){this.header=t,this.component.get("bannerLabelMessageHeader").setChild(this.header)}applyMessage(t){this.message=t,this.component.get("bannerLabelMessageText").setChild(this.message)}}class O{constructor(){this.componentFactory=S.instance(e),this.component=null,this.appearance=(new R).withSize(R.SIZE_SMALL).withShape(R.SHAPE_ROUND).withSpacing(R.SPACING_BELOW),this.success=S.instance(M,["",M.TYPE_SUCCESS,this.appearance]),this.warning=S.instance(M,["",M.TYPE_WARNING,this.appearance]),this.error=S.instance(M,["",M.TYPE_ALERT,this.appearance]),this.isVisible=!1}static buildStylesheet(t){return t.add(".banner-label").set("color","white").set("width","100%").set("overflow","hidden").set("position","relative").add(".banner-label-visible").set("max-height","50px").set("visibility","visible").set("transition","max-height .3s, visibility 0s").add(".banner-label-hidden").set("max-height","0px").set("visibility","hidden").set("transition","max-height .3s .3s, visibility 0s .3s").build()}static buildComponent(t){return t.root("div","id=bannerLabel","class=banner-label banner-label-hidden").build()}async postConfig(){this.component=this.componentFactory.create(O),s.enableStyle(O.name),this.success.hide(),this.warning.hide(),this.error.hide(),this.component.get("bannerLabel").addChild(this.success.component),this.component.get("bannerLabel").addChild(this.warning.component),this.component.get("bannerLabel").addChild(this.error.component),this.success.eventManager.listenTo(M.EVENT_CLOSE_CLICKED,new C(this,this.hide)),this.warning.eventManager.listenTo(M.EVENT_CLOSE_CLICKED,new C(this,this.hide)),this.error.eventManager.listenTo(M.EVENT_CLOSE_CLICKED,new C(this,this.hide)),this.active=this.success}showSuccess(t,e){this.showBanner(this.success,t,e)}showWarning(t,e){this.showBanner(this.warning,t,e)}showError(t,e){this.showBanner(this.error,t,e)}hide(){this.component.get("bannerLabel").setAttributeValue("class","banner-label banner-label-hidden"),this.active.hide(),this.isVisible=!1}showBanner(t,e,s){this.hide(),t.setMessage(e,s),t.show(),this.component.get("bannerLabel").setAttributeValue("class","banner-label banner-label-visible"),this.isVisible=!0,this.active=t}}new _("BannerMessage");class V{static TEMPLATE_URL="/assets/justrightjs-ui/bannerMessage.html";static STYLES_URL="/assets/justrightjs-ui/bannerMessage.css";static TYPE_ALERT="type-alert";static TYPE_INFO="type-info";static TYPE_SUCCESS="type-success";static TYPE_WARNING="type-warning";constructor(t,e=V.TYPE_INFO,s=!1,n=null){this.componentFactory=S.instance(a),this.component=null,this.message=t,this.closeable=s,this.bannerType=e,this.onHideListener=null,this.onShowListener=null,this.customAppearance=n}postConfig(){this.component=this.componentFactory.create(V),this.component.get("bannerMessageHeader").setChild("Alert"),this.component.get("bannerMessageMessage").setChild(this.message),this.applyClasses("banner-message fade"),this.component.get("bannerMessageCloseButton").listenTo("click",new C(this,this.hide))}applyClasses(t){let e=t;e=e+" banner-message-"+this.bannerType,this.customAppearance&&(this.customAppearance.shape&&(e=e+" banner-message-"+this.customAppearance.shape),this.customAppearance.size&&(e=e+" banner-message-"+this.customAppearance.size),this.customAppearance.spacing&&(e=e+" banner-message-"+this.customAppearance.spacing)),this.component.get("bannerMessage").setAttributeValue("class",e)}applyHeader(t){this.header=t,this.component.get("bannerMessageHeader").setChild(this.header)}applyMessage(t){this.message=t,this.component.get("bannerMessageMessage").setChild(this.message)}remove(){return this.component.remove()}onHide(t){this.onHideListener=t}onShow(t){this.onShowListener=t}async hide(){this.applyClasses("banner-message hide"),await L.asPromise(500,(()=>{this.component.get("bannerMessage").setStyle("display","none"),s.disableStyle(V.name,this.component.componentIndex)})),this.onHideListener&&this.onHideListener.call()}async show(t=null,e=null){t&&this.applyHeader(t),e&&this.applyMessage(e),s.enableStyle(V.name,this.component.componentIndex),this.component.get("bannerMessage").setStyle("display","block"),await L.asPromise(100,(()=>{this.applyClasses("banner-message show")})),this.onShowListener&&this.onShowListener.call()}}class U{static HOVERED="hovered";static UNHOVERED="unhovered";static CLICKED="clicked";static DOUBLE_CLICKED="doubleClicked";static ENTERED="entered";static KEYUPPED="keyUpped";static FOCUSED="focused";static BLURRED="blurred";static CHANGED="changed";static ENABLED="enabled";static DISABLED="disabled";static SELECTED="selected";static DRAG_STARTED="dragStarted";static DRAG_ENDED="dragEnded";static DROPPED="dropped"}new _("DialogBox");class F{static TEMPLATE_URL="/assets/justrightjs-ui/dialogBox.html";static STYLES_URL="/assets/justrightjs-ui/dialogBox.css";static OPTION_BACK_ON_CLOSE=1;constructor(t=[]){this.componentFactory=S.instance(a),this.component=null,this.backShade=S.instance(v,[(new P).withBackgroundClicked(new C(this,this.hide))]),this.hidden=!0,this.swallowFocusEscape=!1,this.owningTrigger=null,this.defaultOptions=new y(t),this.options=new y(t),this.destroyFocusEscapeListener=null}postConfig(){this.component=this.componentFactory.create(F),this.component.set("backShadeContainer",this.backShade.component),this.component.get("closeButton").listenTo("click",new C(this,this.close))}setTitle(t){this.component.setChild("title",t)}setFooter(t){this.component.get("dialogBoxFooter").setStyle("display","block"),this.component.setChild("dialogBoxFooter",t)}setContent(t){this.component.setChild("dialogBoxContent",t)}set(t,e){this.component.set(t,e)}async close(){const t=this.options;await this.hide(),t.contains(F.OPTION_BACK_ON_CLOSE)&&r.instance().back()}hide(t){if(this.destroyFocusEscapeListener&&(this.destroyFocusEscapeListener(),this.destroyFocusEscapeListener=null),this.options,this.hidden)return Promise.resolve();this.hidden=!0,this.getDialogBoxOverlay().setAttributeValue("class","dialogbox-overlay dialogbox-overlay-fade");const e=this.backShade.hideAfter(300),n=L.asPromise(200,(()=>{this.getDialogBoxOverlay().setAttributeValue("class","dialogbox-overlay dialogbox-overlay-fade dialogbox-overlay-display-none")})),i=L.asPromise(201,(()=>{this.getDialogBox().remove(),s.disableStyle(F.name,this.component.componentIndex)}));return this.options=this.defaultOptions,Promise.all([n,i,e])}show(t,e){return this.destroyFocusEscapeListener&&(this.destroyFocusEscapeListener(),this.destroyFocusEscapeListener=null),this.destroyFocusEscapeListener=l.listenToFocusEscape(new C(this,this.close),this.component.get("dialogBoxOverlay")),e&&(this.options=new y(e)),l.swallowFocusEscape(500),this.hidden?(this.hidden=!1,s.enableStyle(F.name,this.component.componentIndex),this.backShade.show(),this.getDialogBoxOverlay().setAttributeValue("class","dialogbox-overlay dialogbox-overlay-fade dialogbox-overlay-display-block"),l.mouseDownElement=this.component.get("dialogBoxContent").containerElement,L.asPromise(100,(()=>{this.getDialogBoxOverlay().setAttributeValue("class","dialogbox-overlay dialogbox-overlay-fade dialogbox-overlay-display-block dialogbox-overlay-show")}))):new Promise(((t,e)=>{t()}))}getDialogBoxOverlay(){return this.component.get("dialogBoxOverlay")}getDialogBox(){return this.component.get("dialogBox")}scrollLock(){N.scrollLockTo(this.component.get("dialogBoxContent").element,0,0,1e3)}}new _("DropDownPanel");class x{static TEMPLATE_URL="/assets/justrightjs-ui/dropDownPanel.html";static STYLES_URL="/assets/justrightjs-ui/dropDownPanel.css";static TYPE_PRIMARY="drop-down-panel-button-primary";static TYPE_SECONDARY="drop-down-panel-button-secondary";static TYPE_SUCCESS="drop-down-panel-button-success";static TYPE_INFO="drop-down-panel-button-info";static TYPE_WARNING="drop-down-panel-button-warning";static TYPE_DANGER="drop-down-panel-button-danger";static TYPE_LIGHT="drop-down-panel-button-light";static TYPE_DARK="drop-down-panel-button-dark";static SIZE_MEDIUM="drop-down-panel-button-medium";static SIZE_LARGE="drop-down-panel-button-large";static ORIENTATION_LEFT="drop-down-panel-left";static ORIENTATION_RIGHT="drop-down-panel-right";static CONTENT_VISIBLE="drop-down-panel-content-visible";static CONTENT_HIDDEN="drop-down-panel-content-hidden";static CONTENT_EXPAND="drop-down-panel-content-expand";static CONTENT_COLLAPSE="drop-down-panel-content-collapse";static CONTENT="drop-down-panel-content";static BUTTON="drop-down-panel-button";constructor(t,e=x.TYPE_DARK,s=x.SIZE_MEDIUM,n=x.ORIENTATION_LEFT){this.componentFactory=S.instance(a),this.component=null,this.iconClass=t,this.type=e,this.size=s,this.orientation=n}postConfig(){this.component=this.componentFactory.create(x),s.enableStyle(x.name),this.component.get("button").setChild(c.i("",this.iconClass)),o.from(this.component.get("button")).enable(x.BUTTON).enable(this.type),o.from(this.component.get("content")).enable(x.CONTENT).disable(x.CONTENT_VISIBLE).enable(x.CONTENT_HIDDEN).enable(this.size).enable(this.orientation),this.component.get("button").listenTo("click",new C(this,this.clicked)),l.listenToFocusEscape(new C(this,this.hide),this.component.get("dropDownPanelRoot"))}setPanelContent(t){this.component.get("content").setChild(t.component)}clicked(t){this.toggleContent()}toggleContent(){n.from(this.component.get("arrow")).is("display","block")?this.hide():this.show()}show(){o.from(this.component.get("content")).disable(x.CONTENT_HIDDEN).enable(x.CONTENT_VISIBLE),n.from(this.component.get("arrow")).set("display","block"),this.component.get("content").containerElement.focus()}hide(){o.from(this.component.get("content")).disable(x.CONTENT_VISIBLE).enable(x.CONTENT_HIDDEN),this.component.get("arrow").setStyle("display","none")}disable(){this.component.get("button").setAttributeValue("disabled","true")}enable(){this.component.get("button").removeAttribute("disabled")}}new _("PopUpPanel");class Y{static TEMPLATE_URL="/assets/justrightjs-ui/popUpPanel.html";static STYLES_URL="/assets/justrightjs-ui/popUpPanel.css";static TYPE_PRIMARY="pop-up-panel-button-primary";static TYPE_SECONDARY="pop-up-panel-button-secondary";static TYPE_SUCCESS="pop-up-panel-button-success";static TYPE_INFO="pop-up-panel-button-info";static TYPE_WARNING="pop-up-panel-button-warning";static TYPE_DANGER="pop-up-panel-button-danger";static TYPE_LIGHT="pop-up-panel-button-light";static TYPE_DARK="pop-up-panel-button-dark";static SIZE_MEDIUM="pop-up-panel-button-medium";static SIZE_LARGE="pop-up-panel-button-large";static ORIENTATION_LEFT="pop-up-panel-left";static ORIENTATION_RIGHT="pop-up-panel-right";static CONTENT_VISIBLE="pop-up-panel-content-visible";static CONTENT_HIDDEN="pop-up-panel-content-hidden";static CONTENT_EXPAND="pop-up-panel-content-expand";static CONTENT_COLLAPSE="pop-up-panel-content-collapse";static CONTENT="pop-up-panel-content";static BUTTON="pop-up-panel-button";constructor(t,e=Y.TYPE_DARK,s=Y.SIZE_MEDIUM,n=Y.ORIENTATION_LEFT){this.componentFactory=S.instance(a),this.component=null,this.iconClass=t,this.type=e,this.size=s,this.orientation=n}postConfig(){this.component=this.componentFactory.create(Y),s.enableStyle(Y.name),this.component.get("button").setChild(c.i("",this.iconClass)),o.from(this.component.get("button")).enable(Y.BUTTON).enable(this.type),o.from(this.component.get("content")).enable(Y.CONTENT).disable(Y.CONTENT_VISIBLE).enable(Y.CONTENT_HIDDEN).enable(this.size).enable(this.orientation),this.component.get("button").listenTo("click",new C(this,this.clicked)),l.listenToFocusEscape(new C(this,this.hide),this.component.get("popUpPanelRoot"))}setPanelContent(t){this.component.get("content").setChild(t.component)}clicked(t){this.toggleContent()}toggleContent(){n.from(this.component.get("arrow")).is("display","block")?this.hide():this.show()}show(){o.from(this.component.get("content")).disable(Y.CONTENT_HIDDEN).enable(Y.CONTENT_VISIBLE),n.from(this.component.get("arrow")).set("display","block"),this.component.get("content").element.focus()}hide(){o.from(this.component.get("content")).disable(Y.CONTENT_VISIBLE).enable(Y.CONTENT_HIDDEN),this.component.get("arrow").setStyle("display","none")}disable(){this.component.get("button").setAttributeValue("disabled","true")}enable(){this.component.get("button").removeAttribute("disabled")}}new _("CommonInput");class j{static EVENT_CLICKED=U.CLICKED;static EVENT_ENTERED=U.ENTERED;static EVENT_KEYUPPED=U.KEYUPPED;static EVENT_CHANGED=U.CHANGED;static EVENT_BLURRED=U.BLURRED;constructor(t,e,s=null,n=null,o=null,r=null,l=null){this.componentFactory=S.instance(a),this.component=null,this.validator=n,this.componentClass=t,this.name=e,this.placeholder=o,this.inputElementId=r,this.errorElementId=l,this.model=s,this.tainted=!1,this.eventManager=new i,this.dataBinding=null}postConfig(){this.component=this.componentFactory.create(this.componentClass),s.enableStyle(this.componentClass.name,this.component.componentIndex),this.component.get(this.inputElementId).setAttributeValue("name",this.name),this.placeholder&&this.component.get(this.inputElementId).setAttributeValue("placeholder",":  "+this.placeholder),this.validator&&this.validator.withValidListener(new C(this,this.hideValidationError)),this.model&&(this.dataBinding=h.link(this.model,this.validator).to(this.component.get(this.inputElementId))),this.component.get(this.inputElementId).listenTo("keyup",new C(this,this.keyupped)).listenTo("change",new C(this,this.changed)).listenTo("blur",new C(this,this.blurred)).listenTo("click",new C(this,this.clicked)).listenTo("keyup",new C(this,(t=>{t.isKeyCode(13)&&this.entered(t)}))),this.errorElementId&&this.component.get(this.errorElementId).listenTo("click",new C(this,this.errorClicked))}get events(){return this.eventManager}get value(){return this.component.get(this.inputElementId).value}set value(t){this.component.get(this.inputElementId).value=t,this.dataBinding&&this.dataBinding.push()}keyupped(t){t.isKeyCode(13)||t.isKeyCode(16)||t.isKeyCode(9)||(this.tainted=!0),""===t.targetValue&&(this.tainted=!1),this.events.trigger(j.EVENT_KEYUPPED,t)}changed(t){this.tainted=!0,""===t.targetValue&&(this.tainted=!1),this.events.trigger(j.EVENT_CHANGED,t)}clicked(t){this.events.trigger(j.EVENT_CLICKED,t)}entered(t){if(!this.validator.isValid())return this.showValidationError(),void this.selectAll();this.events.trigger(j.EVENT_ENTERED,t)}blurred(t){this.tainted&&(this.validator.isValid()?(this.hideValidationError(),this.events.trigger(j.EVENT_BLURRED,t)):this.showValidationError())}errorClicked(t){this.hideValidationError()}focus(){this.component.get(this.inputElementId).focus()}selectAll(){this.component.get(this.inputElementId).selectAll()}enable(){this.component.get(this.inputElementId).enable()}disable(){this.component.get(this.inputElementId).disable()}clear(){this.component.get(this.inputElementId).value="",this.tainted=!1,this.hideValidationError()}}new _("Panel");class B{static TEMPLATE_URL="/assets/justrightjs-ui/panel.html";static STYLES_URL="/assets/justrightjs-ui/panel.css";static PARAMETER_STYLE_TYPE_COLUMN_ROOT="panel-type-column-root";static PARAMETER_STYLE_TYPE_COLUMN="panel-type-column";static PARAMETER_STYLE_TYPE_ROW="panel-type-row";static PARAMETER_STYLE_CONTENT_ALIGN_LEFT="panel-content-align-left";static PARAMETER_STYLE_CONTENT_ALIGN_RIGHT="panel-content-align-right";static PARAMETER_STYLE_CONTENT_ALIGN_CENTER="panel-content-align-center";static PARAMETER_STYLE_CONTENT_ALIGN_JUSTIFY="panel-content-align-justify";static PARAMETER_STYLE_SIZE_AUTO="panel-size-auto";static PARAMETER_STYLE_SIZE_MINIMAL="panel-size-minimal";static PARAMETER_STYLE_SIZE_RESPONSIVE="panel-size-responsive";static OPTION_STYLE_CONTENT_PADDING_SMALL="panel-content-padding-small";static OPTION_STYLE_CONTENT_PADDING_LARGE="panel-content-padding-large";static OPTION_STYLE_BORDER_SHADOW="panel-border-shadow";constructor(t=B.PARAMETER_STYLE_TYPE_COLUMN_ROOT,e=B.PARAMETER_STYLE_CONTENT_ALIGN_CENTER,s=B.PARAMETER_STYLE_SIZE_AUTO,n=[]){this.componentFactory=S.instance(a),this.component=null,this.type=t,this.contentAlign=e,this.size=s,this.options=n}postConfig(){this.component=this.componentFactory.create(B),s.enableStyle(B.name),o.from(this.component.get("panel")).enable(this.type).enable(this.contentAlign).enable(this.size)}}new _("LinePanelEntry");class H{static TEMPLATE_URL="/assets/justrightjs-ui/linePanelEntry.html";static STYLES_URL="/assets/justrightjs-ui/linePanelEntry.css";constructor(){this.componentFactory=S.instance(a),this.component=null}async postConfig(){this.component=this.componentFactory.create(H),s.enableStyle(H.name)}}new _("LinePanel");class G{static TEMPLATE_URL="/assets/justrightjs-ui/linePanel.html";static STYLES_URL="/assets/justrightjs-ui/linePanel.css";static EVENT_REFRESH_CLICKED="refreshClicked";static RECORD_ELEMENT_REQUESTED="recordElementRequested";static RECORDS_STATE_UPDATE_REQUESTED="recordsStateUpdateRequested";constructor(t=null){this.componentFactory=S.instance(a),this.component=null,this.eventManager=new i,this.linePanelEntryProvider=S.provider(H),this.panelProvider=S.provider(B),this.arrayState=new d,this.buttonPanel=t}async postConfig(){this.component=this.componentFactory.create(G),s.enableStyle(G.name),this.buttonPanel&&this.component.setChild("buttonPanel",this.buttonPanel.component),this.arrayState.react(new C(this,this.handleArrayState))}get events(){return this.eventManager}get events(){return this.eventManager}async reset(t){this.events.trigger(G.RECORDS_STATE_UPDATE_REQUESTED,[t,this.arrayState])}async handleArrayState(t){const e=await this.panelProvider.get([B.PARAMETER_STYLE_TYPE_COLUMN,B.PARAMETER_STYLE_CONTENT_ALIGN_LEFT,B.PARAMETER_STYLE_SIZE_MINIMAL]);t.forEach((async t=>{await this.populateRecord(e,t)})),this.component.setChild("recordElements",e.component)}async populateRecord(t,e){const s=await this.eventManager.trigger(G.RECORD_ELEMENT_REQUESTED,[null,e]);if(!s)return;const n=await this.linePanelEntryProvider.get([!0,e]);n.component.setChild("recordElement",s.component),t.component.addChild("panel",n.component)}}new _("LinkPanel");class K{static TEMPLATE_URL="/assets/justrightjs-ui/linkPanel.html";static STYLES_URL="/assets/justrightjs-ui/linkPanel.css";static EVENT_CLICKED=U.CLICKED;static SIZE_SMALL="link-panel-small";static SIZE_MEDIUM="link-panel-medium";static SIZE_LARGE="link-panel-large";static ORIENTATION_FLAT="link-panel-flat";static ORIENTATION_STACKED="link-panel-stacked";static THEME_DARK="link-panel-dark";static THEME_LIGHT="link-panel-light";static THEME_DANGER="link-panel-danger";static THEME_INFO="link-panel-info";static THEME_SUCCESS="link-panel-success";constructor(t,e,s=K.THEME_DARK,n=K.ORIENTATION_FLAT,o=K.SIZE_SMALL){this.componentFactory=S.instance(a),this.component=null,this.label=t,this.icon=e,this.orientation=n,this.size=o,this.theme=s,this.eventManager=new i}get events(){return this.eventManager}postConfig(){this.component=this.componentFactory.create(K),s.enableStyle(K.name),o.from(this.component.get("link")).enable(this.size).enable(this.orientation).enable(this.theme),this.label?this.component.get("label").setChild(this.label):this.component.get("label").remove(),this.icon?o.from(this.component.get("icon")).clear().enable(this.icon):this.component.get("icon").remove(),this.component.get("link").listenTo("click",new C(this,(t=>{this.eventManager.trigger(K.EVENT_CLICKED,t)})))}withClickListener(t){return this.component.get("link").listenTo("click",t),this}}new _("RadioToggleIcon");class z{static TEMPLATE_URL="/assets/justrightjs-ui/radioToggleIcon.html";static STYLES_URL="/assets/justrightjs-ui/radioToggleIcon.css";static EVENT_ENABLED=U.ENABLED;static EVENT_DISABLED=U.DISABLED;static EVENT_CHANGED=U.CHANGED;constructor(t="?",e=null,s="fas fa-question",n=null){this.componentFactory=S.instance(a),this.events=new i,this.component=null,this.model=e,this.enabled=!1,this.name=t,this.icon=s,this.label=n,this.checked=!1}postConfig(){this.component=this.componentFactory.create(z),s.enableStyle(z.name);const t=this.component.get("radio");t.setAttributeValue("name",this.name),t.listenTo("click",new C(this,this.clicked));const e=t.getAttributeValue("id");this.component.get("label").setAttributeValue("for",e);this.component.get("icon").setAttributeValue("class",this.icon),this.model&&h.link(this.model).to(this.component.get("radio")),this.component.get("radio").listenTo("change",new C(this,this.clicked))}clicked(t){const e=this.checked;this.checked=t.target.checked,e!==this.checked&&this.events.trigger(z.EVENT_CHANGED,[t]),this.checked?this.events.trigger(z.EVENT_ENABLED,[t]):this.events.trigger(z.EVENT_DISABLED,[t])}toggle(t){this.checked!==t&&(this.checked=t,this.component&&this.component.get("radio").containerElement.click())}isChecked(){return this.checked}}new _("ToggleIcon");class Z{static TEMPLATE_URL="/assets/justrightjs-ui/toggleIcon.html";static STYLES_URL="/assets/justrightjs-ui/toggleIcon.css";static TYPE_PRIMARY="toggleIcon-primary";static TYPE_SECONDARY="toggleIcon-secondary";static TYPE_SUCCESS="toggleIcon-success";static TYPE_INFO="toggleIcon-info";static TYPE_WARNING="toggleIcon-warning";static TYPE_DANGER="toggleIcon-danger";static TYPE_LIGHT="toggleIcon-light";static TYPE_DARK="toggleIcon-dark";static SIZE_MEDIUM="toggleIcon-medium";static SIZE_LARGE="toggleIcon-large";static SPINNER_VISIBLE="toggleIcon-spinner-container-visible";static SPINNER_HIDDEN="toggleIcon-spinner-container-hidden";static EVENT_ENABLED=U.ENABLED;static EVENT_DISABLED=U.DISABLED;constructor(t="?",e=null,s=null){this.componentFactory=S.instance(a),this.component=null,this.model=e,this.enabled=!1,this.name=t,this.label=s,this.enabledIcon="fas fa-circle-check",this.disabledIcon="fas fa-circle",this.disabledColor="lightgray",this.enabledColor="#2196F3",this.hoverColor="gray",this.eventManager=new i}get events(){return this.eventManager}postConfig(){this.component=this.componentFactory.create(Z),s.enableStyle(Z.name);const t=this.component.get("checkbox");t.setAttributeValue("name",this.name),t.listenTo("change",new C(this,this.clicked));const e=this.component.get("container");e.listenTo("mouseover",new C(this,this.enableHover)),e.listenTo("mouseout",new C(this,this.disableHover));const n=t.getAttributeValue("id");this.component.get("label").setAttributeValue("for",n),this.applyIcon(this.disabledIcon),this.applyColor(this.disabledColor)}loadIcons(t,e){this.disabledIcon=t,this.enabledIcon=e,this.enabled?this.applyIcon(this.enabledIcon):this.applyIcon(this.disabledIcon)}loadColors(t,e,s){this.disabledColor=t,this.enabledColor=e,this.hoverColor=s,this.enabled?this.applyColor(this.enabledColor):this.applyColor(this.disabledColor)}withClickListener(t){return this.component.get("checkbox").listenTo("click",t),this}disable(){this.component.get("checkbox").setAttributeValue("disabled","true")}enable(){this.component.get("checkbox").removeAttribute("disabled")}clicked(t){if(this.enabled=t.target.checked,this.enabled)return this.applyIcon(this.enabledIcon),this.applyColor(this.enabledColor),void this.eventManager.trigger(Z.EVENT_ENABLED,t);this.applyIcon(this.disabledIcon),this.applyColor(this.disabledColor),this.eventManager.trigger(Z.EVENT_DISABLED,t)}applyColor(t){this.component.get("container").setAttributeValue("style","color: "+t)}applyIcon(t){this.component.get("icon").setAttributeValue("class",t)}enableHover(){const t=this.component.get("container");this.enabled||t.setAttributeValue("style","color: "+this.hoverColor)}disableHover(){const t=this.component.get("container");this.enabled?t.setAttributeValue("style","color: "+this.enabledColor):t.setAttributeValue("style","color: "+this.disabledColor)}}const q=new _("TreePanelEntry");class Q{static TEMPLATE_URL="/assets/justrightjs-ui/treePanelEntry.html";static STYLES_URL="/assets/justrightjs-ui/treePanelEntry.css";static RECORD_ELEMENT_REQUESTED="recordElementRequested";static SUB_RECORDS_STATE_UPDATE_REQUESTED="subRecordsStateUpdateRequested";static EVENT_EXPAND_TOGGLE_OVERRIDE="expandToggleOverride";constructor(t=null){this.componentFactory=S.instance(a),this.component=null,this.panelProvider=S.provider(B),this.eventManager=new i,this.arrayState=new d,this.treePanelEntryProvider=S.provider(Q),this.expandToggle=S.instance(Z),this.record=t}async postConfig(){this.component=this.componentFactory.create(Q),s.enableStyle(Q.name),this.expandToggle.events.listenTo(z.EVENT_ENABLED,new C(this,this.loadSubRecordsClicked)),this.expandToggle.events.listenTo(z.EVENT_DISABLED,new C(this,this.hideSubRecordsClicked)),this.component.setChild("expandButton",this.expandToggle.component),this.arrayState.react(new C(this,this.handleStateChange))}get events(){return this.eventManager}async handleStateChange(t){if(t instanceof Array){const e=await this.panelProvider.get([B.PARAMETER_STYLE_TYPE_COLUMN,B.PARAMETER_STYLE_CONTENT_ALIGN_LEFT,B.PARAMETER_STYLE_SIZE_MINIMAL]);t.forEach((async t=>{await this.populateRecord(e,t)})),this.component.setChild("subrecordElements",e.component)}}async populateRecord(t,e){const s=await this.treePanelEntryProvider.get([e]),n=await this.eventManager.trigger(Q.RECORD_ELEMENT_REQUESTED,[null,e,s,this]);n&&(s.component.setChild("recordElement",n.component),await this.eventManager.trigger(Q.EVENT_EXPAND_TOGGLE_OVERRIDE,[null,s,e]),s.events.listenTo(Q.RECORD_ELEMENT_REQUESTED,new C(this,this.entryRequested)),s.events.listenTo(Q.EVENT_EXPAND_TOGGLE_OVERRIDE,new C(this,this.expandToggleOverride)),s.events.listenTo(Q.SUB_RECORDS_STATE_UPDATE_REQUESTED,new C(this,this.subRecordsUpdateRequested)),t.component.addChild("panel",s.component))}async entryRequested(t,e,s,n){try{return await this.events.trigger(Q.RECORD_ELEMENT_REQUESTED,[t,e,s,n])}catch(t){q.error(t)}}async expandToggleOverride(t,e,s){try{return await this.events.trigger(Q.EVENT_EXPAND_TOGGLE_OVERRIDE,[t,e,s])}catch(t){q.error(t)}}async reloadSubRecords(){const t=await this.component.get("buttons");await this.subRecordsUpdateRequested(null,this.record,this.arrayState,t)}async subRecordsUpdateRequested(t,e,s,n){try{await this.events.trigger(Q.SUB_RECORDS_STATE_UPDATE_REQUESTED,[t,e,s,n])}catch(t){q.error(t)}}async loadSubRecordsClicked(t){const e=await this.component.get("buttons");this.eventManager.trigger(Q.SUB_RECORDS_STATE_UPDATE_REQUESTED,[t,this.record,this.arrayState,e])}hideSubRecordsClicked(t){this.component.get("subrecordElements").clear(),this.component.get("buttons").clear()}}const W=new _("TreePanel");class X{static TEMPLATE_URL="/assets/justrightjs-ui/treePanel.html";static STYLES_URL="/assets/justrightjs-ui/treePanel.css";static EVENT_REFRESH_CLICKED="refreshClicked";static RECORD_ELEMENT_REQUESTED="recordElementRequested";static SUB_RECORDS_STATE_UPDATE_REQUESTED="subRecordsStateUpdateRequested";static EVENT_EXPAND_TOGGLE_OVERRIDE="expandToggleOverride";constructor(t=null){this.componentFactory=S.instance(a),this.component=null,this.eventManager=new i,this.treePanelEntryProvier=S.provider(Q),this.treePanelEntry=null,this.buttonPanel=t}async postConfig(){this.component=this.componentFactory.create(X),s.enableStyle(X.name),this.buttonPanel&&this.component.setChild("buttonpanel",this.buttonPanel.component),this.treePanelEntry=await this.treePanelEntryProvier.get(),this.treePanelEntry.events.listenTo(Q.RECORD_ELEMENT_REQUESTED,new C(this,this.entryRequested)),this.treePanelEntry.events.listenTo(Q.EVENT_EXPAND_TOGGLE_OVERRIDE,new C(this,this.expandToggleOverride)),this.treePanelEntry.events.listenTo(Q.SUB_RECORDS_STATE_UPDATE_REQUESTED,new C(this,this.subRecordsUpdateRequested)),this.treePanelEntry.component.get("subrecordIndent").remove(),this.treePanelEntry.component.get("recordElementContainer").remove()}get events(){return this.eventManager}async entryRequested(t,e,s,n){W.info("Entry requested");try{return await this.events.trigger(X.RECORD_ELEMENT_REQUESTED,[t,e,s,n])}catch(t){W.error(t)}}async expandToggleOverride(t,e,s){W.info("Expand Toggle Override requested");try{await this.events.trigger(X.EVENT_EXPAND_TOGGLE_OVERRIDE,[e.expandToggle,s])}catch(t){W.error(t)}}async subRecordsUpdateRequested(t,e,s,n){try{await this.events.trigger(X.SUB_RECORDS_STATE_UPDATE_REQUESTED,[t,e,s,n])}catch(t){W.error(t)}}async reset(t){await this.subRecordsUpdateRequested(t,null,this.treePanelEntry.arrayState),this.component.setChild("rootelement",this.treePanelEntry.component)}}class J{static TEMPLATE_URL="/assets/justrightjs-ui/slideDeckEntry.html";static STYLES_URL="/assets/justrightjs-ui/slideDeckEntry.css";static DEFAULT_CLASS="slide-deck-entry";static ENTRY_POSITION_FRONT="position-front";static ENTRY_POSITION_BEHIND="position-behind";static ENTRY_POSITION_RIGHT="position-right";static CONTENT_EXISTANCE_PRESENT="existance-present";static CONTENT_EXISTANCE_REMOVED="existance-removed";constructor(){this.componentFactory=S.instance(a),this.component=null,this.index=0,this.position=J.ENTRY_POSITION_FRONT}get contentElement(){return this.component.get("slideDeckEntryContent")}get entryElement(){return this.component.get("slideDeckEntry")}async postConfig(){this.component=this.componentFactory.create(J),s.enableStyle(J.name)}setIndex(t){this.index=t}setContent(t){this.contentElement.setChild(t)}show(){this.setContentVisibility(J.CONTENT_EXISTANCE_PRESENT),this.setShift(J.ENTRY_POSITION_FRONT)}hide(t){t>this.index?this.setShift(J.ENTRY_POSITION_BEHIND):this.setShift(J.ENTRY_POSITION_RIGHT),this.adjustWhenHidden()}adjustWhenHidden(){L.asPromise(600,(()=>{this.position!==J.ENTRY_POSITION_FRONT&&this.setContentVisibility(J.CONTENT_EXISTANCE_REMOVED)}))}setContentVisibility(t){o.from(this.contentElement).replace("existance-",t)}setShift(t){this.position=t,o.from(this.entryElement).replace("position-",t)}}class ${static TEMPLATE_URL="/assets/justrightjs-ui/slideDeck.html";static STYLES_URL="/assets/justrightjs-ui/slideDeck.css";static EVENT_ENTRY_CHANGED="eventEntryChanged";constructor(t){this.componentFactory=S.instance(a),this.component=null,this.componentMap=t,this.slideDeckEntryProvider=S.provider(J),this.slideDeckEntryList=new y,this.slideDeckEntryMap=new I,this.slideDeckEntryIndexMap=new I,this.currentEntry=null,this.events=new i}async postConfig(){this.component=this.componentFactory.create($),s.enableStyle($.name),this.componentMap&&this.prepareEntries(),this.scrollback=()=>{this.component.get("slideDeckEntries").element.parentElement.scrollTo(0,0)}}prepareEntries(){this.componentMap.forEach((async(t,e)=>{const s=await this.slideDeckEntryProvider.get();return null==this.currentEntry?(s.show(),this.currentEntry=s):s.hide(0),this.slideDeckEntryMap.set(t,s),this.slideDeckEntryList.add(s),this.slideDeckEntryIndexMap.set(t,this.slideDeckEntryList.size()-1),s.setContent(e),s.setIndex(this.slideDeckEntryList.size()-1),this.component.addChild("slideDeckEntries",s.component),!0}),this)}slideNext(){if(this.currentEntry.index+1>=this.slideDeckEntryList.size())return;const t=this.slideDeckEntryList.get(this.currentEntry.index+1);this.currentEntry.hide(t.index),this.currentEntry=t,this.currentEntry.show(),this.events.trigger($.EVENT_ENTRY_CHANGED)}slidePrevious(){if(this.currentEntry.index<=0)return;const t=this.slideDeckEntryList.get(this.currentEntry.index-1);this.currentEntry.hide(t.index),this.currentEntry=t,this.currentEntry.show(),this.events.trigger($.EVENT_ENTRY_CHANGED)}slideTo(t){const e=this.slideDeckEntryMap.get(t);this.currentEntry.hide(e.index),this.currentEntry=e,this.currentEntry.show(),this.events.trigger($.EVENT_ENTRY_CHANGED)}}new _("Button");class tt{static TEMPLATE_URL="/assets/justrightjs-ui/button.html";static STYLES_URL="/assets/justrightjs-ui/button.css";static TYPE_PRIMARY="button-primary";static TYPE_SECONDARY="button-secondary";static TYPE_SUCCESS="button-success";static TYPE_INFO="button-info";static TYPE_WARNING="button-warning";static TYPE_DANGER="button-danger";static TYPE_LIGHT="button-light";static TYPE_DARK="button-dark";static SIZE_MEDIUM="button-medium";static SIZE_LARGE="button-large";static SPINNER_VISIBLE="button-spinner-container-visible";static SPINNER_HIDDEN="button-spinner-container-hidden";static EVENT_CLICKED=U.CLICKED;constructor(t,e=tt.TYPE_PRIMARY,s=tt.SIZE_MEDIUM,n){this.componentFactory=S.instance(a),this.component=null,this.label=t,this.buttonType=e,this.buttonSize=s,this.iconClass=n,this.eventManager=new i}get events(){return this.eventManager}postConfig(){this.component=this.componentFactory.create(tt),s.enableStyle(tt.name),this.iconClass&&this.component.get("button").addChild(c.i("",this.iconClass)),this.label&&this.component.get("button").addChild(this.label),o.from(this.component.get("button")).enable("button").enable(this.buttonSize).enable(this.buttonType),this.component.get("button").listenTo("click",new C(this,(t=>{this.eventManager.trigger(tt.EVENT_CLICKED,t)})))}withClickListener(t){return this.component.get("button").listenTo("click",t),this}enableLoading(){o.from(this.component.get("spinnerContainer")).disable(tt.SPINNER_HIDDEN).enable(tt.SPINNER_VISIBLE)}disableLoading(){o.from(this.component.get("spinnerContainer")).disable(tt.SPINNER_VISIBLE).enable(tt.SPINNER_HIDDEN)}disable(){this.component.get("button").setAttributeValue("disabled","true")}enable(){this.component.get("button").removeAttribute("disabled")}}new _("CheckBox");class et{static TEMPLATE_URL="/assets/justrightjs-ui/checkBox.html";static STYLES_URL="/assets/justrightjs-ui/checkBox.css";constructor(t,e=null){this.componentFactory=S.instance(a),this.component=null,this.name=t,this.model=e}postConfig(){this.component=this.componentFactory.create(et),s.enableStyle(et.name),this.component.get("checkBox").setAttributeValue("name",this.name),this.model&&h.link(this.model).to(this.component.get("checkBox"))}}new _("EmailInput");class st extends j{static TEMPLATE_URL="/assets/justrightjs-ui/emailInput.html";static STYLES_URL="/assets/justrightjs-ui/emailInput.css";static DEFAULT_PLACEHOLDER="Email";constructor(t,e=null,s=TextInput.DEFAULT_PLACEHOLDER,n=!1){super(st,t,e,new p(n,!n),s,"emailInput","emailError")}showValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","email-input-error email-input-error-visible")}hideValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","email-input-error email-input-error-hidden")}}class nt{static TEMPLATE_URL="/assets/justrightjs-ui/fileUploadEntry.html";static STYLES_URL="/assets/justrightjs-ui/fileUploadEntry.css";static EVENT_REMOVE_CLICKED="removeClicked";constructor(t){this.componentFactory=S.instance(a),this.events=new i,this.component=null,this.file=t,this.fileName=t.name,this.fileSize=t.size,this.fileType=t.type}async postConfig(){this.component=this.componentFactory.create(nt),s.enableStyle(nt.name);this.component.get("fileName").setChild(this.fileName);this.component.get("fileSize").setChild((this.fileSize/1024).toFixed(2)+" KB");this.component.get("fileType").setChild(this.fileType?this.fileType:"Unknown");this.component.get("removeButton").listenTo("click",new C(this,this.removeCliked)),this.updateProgress(this.file,this.file.name)}removeCliked(t){this.events.trigger(nt.EVENT_REMOVE_CLICKED,[t,this.file])}updateProgress(t,e){if(t){this.component.get("fileProgressBar").setStyle("width",t.uploadPercentage+"%"),t.uploadPercentage>=100&&(t.uploadComplete=!0)}}}new _("FileUpload");class it{static TEMPLATE_URL="/assets/justrightjs-ui/fileUpload.html";static STYLES_URL="/assets/justrightjs-ui/fileUpload.css";static DEFAULT_PLACEHOLDER="FileUpload";static EVENT_CLICKED=U.CLICKED;static EVENT_FILE_ADDED="fileAdded";static EVENT_FILE_REMOVED="fileRemoved";static EVENT_UPLOAD_COMPLETE="uploadComplete";static EVENT_UPLOAD_RESET="uploadReset";constructor(t,e=!1,s=[]){this.componentFactory=S.instance(a),this.events=new i,this.component=null,this.name=t,this.multiple=e,this.fileTypeArray=s,this.fileArrayState=new d,this.fileUploadEntryProvider=S.provider(nt)}postConfig(){this.component=this.componentFactory.create(it),s.enableStyle(it.name);const t=this.component.get("uploadBox");if(t.listenTo("dragover",new C(this,this.dragOver)),t.listenTo("dragleave",new C(this,this.dragLeave)),t.listenTo("drop",new C(this,this.fileDropped)),t.listenTo("click",new C(this,this.fileInputClicked)),this.multiple){this.component.get("fileInput").containerElement.setAttributeValue("multiple","multiple")}this.component.get("fileInput").listenTo("change",new C(this,this.fileInputChanged))}fileInputClicked(t){const e=this.component.get("fileInput");e.containerElement.value=null,e.containerElement.click()}fileInputChanged(t){this.processFiles(t.files)}async processFiles(t){const e=[],s=[],n=[];for(const n of t){const t=this.isFileTypeSupported(n),i=this.fileAlreadySeleted(n);t&&!i&&e.push(n),t||s.push(n)}if(e.length>0){!1===this.multiple&&this.fileArrayState.clear();for(const t of e)if(n.push(await this.fileArrayState.update(t,t.name)),!1===this.multiple)break}this.showUnsupportedFiles(s),await this.updateFileList();for(const t of n)this.events.trigger(it.EVENT_FILE_ADDED,[t])}fileAlreadySeleted(t){return this.fileArrayState.objectMap.has(t.name)}isFileTypeSupported(t){return 0===this.fileTypeArray.length||this.fileTypeArray.includes(t.type)}showUnsupportedFiles(t){const e=this.component.get("unsupported");if(e.clear(),t.length>0){e.clear();for(const s of t){const t=c.custom("div");t.setAttributeValue("class","file-upload-unsupported-file"),t.setChild(`File "${s.name}" is not supported.`),e.addChild(t)}}}dragOver(t){t.preventDefault(),t.stopPropagation();const e=this.component.get("uploadBox");o.from(e).enable("file-upload-box-dragover")}dragLeave(t){t.preventDefault(),t.stopPropagation();const e=this.component.get("uploadBox");o.from(e).disable("file-upload-box-dragover")}fileDropped(t){t.preventDefault(),t.stopPropagation();const e=this.component.get("uploadBox");o.from(e).disable("file-upload-box-dragover"),this.processFiles(t.files)}async updateFileList(){const t=this.component.get("fileList");t.clear(),this.events.trigger(it.EVENT_UPLOAD_RESET);for(const e of this.fileArrayState.objectMap.values()){const s=await this.fileUploadEntryProvider.get([e]);s.events.listenTo(nt.EVENT_REMOVE_CLICKED,new C(this,this.removeFileEntry,[s])),this.fileArrayState.reactTo(e.name,new C(s,s.updateProgress)),t.addChild(s.component)}this.fileArrayState.react(new C(this,this.checkFileUploadComplete))}checkFileUploadComplete(){if(0!==this.fileArrayState.objectMap.size){for(const t of this.fileArrayState.objectMap.values())if(!t.uploadComplete)return;this.events.trigger(it.EVENT_UPLOAD_COMPLETE,[this.fileArrayState.objectArray])}else this.events.trigger(it.EVENT_UPLOAD_RESET)}async removeFileEntry(t,e,s){this.fileArrayState.delete(e.name);this.component.get("unsupported").clear(),await this.updateFileList(),t.stopPropagation(),this.checkFileUploadComplete()}clicked(t){this.events.trigger(it.EVENT_CLICKED,[t])}focus(){}}new _("HiddenInput");class ot extends j{static TEMPLATE_URL="/assets/justrightjs-ui/hiddenInput.html";static STYLES_URL="/assets/justrightjs-ui/hiddenInput.css";constructor(t,e=null){super(ot,t,e,null,null,"hiddenInput")}}new _("TextInput");class at extends j{static TEMPLATE_URL="/assets/justrightjs-ui/numberInput.html";static STYLES_URL="/assets/justrightjs-ui/numberInput.css";static DEFAULT_PLACEHOLDER="Number";constructor(t,e=null,s=at.DEFAULT_PLACEHOLDER,n=!1){super(at,t,e,new E(n,!n),s,"numberInput","numberError")}showValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","number-input-error number-input-error-visible")}hideValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","number-input-error number-input-error-hidden")}}new _("PasswordInput");class rt extends j{static TEMPLATE_URL="/assets/justrightjs-ui/passwordInput.html";static STYLES_URL="/assets/justrightjs-ui/passwordInput.css";static DEFAULT_PLACEHOLDER="Password";constructor(t,e=null,s=TextInput.DEFAULT_PLACEHOLDER,n=!1){super(rt,t,e,new u(!n),s,"passwordInput","passwordError")}showValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","email-input-error email-input-error-visible")}hideValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","email-input-error email-input-error-hidden")}}new _("PasswordMatcherInputValue");class lt extends j{static TEMPLATE_URL="/assets/justrightjs-ui/passwordMatcherInputValue.html";static STYLES_URL="/assets/justrightjs-ui/passwordMatcherInputValue.css";static DEFAULT_PLACEHOLDER="New password";constructor(t,e=null,s=TextInput.DEFAULT_PLACEHOLDER,n=!1){super(lt,t,e,new g(n),s,"passwordMatcherInputValueField","passwordMatcherInputValueError")}showValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","password-matcher-input-value-error password-matcher-input-value-error-visible")}hideValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","password-matcher-input-value-error password-matcher-input-value-error-hidden")}}new _("PasswordMatcherInputControl");class ct extends j{static TEMPLATE_URL="/assets/justrightjs-ui/passwordMatcherInputControl.html";static STYLES_URL="/assets/justrightjs-ui/passwordMatcherInputControl.css";static DEFAULT_PLACEHOLDER="Confirm password";constructor(t,e=null,s=null,n=TextInput.DEFAULT_PLACEHOLDER,i=!1){super(ct,t,e,new m(i,!1,e,s),n,"passwordMatcherInputControlField","passwordMatcherInputControlError")}showValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","password-matcher-input-control-error password-matcher-input-control-error-visible")}hideValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","password-matcher-input-control-error password-matcher-input-control-error-hidden")}}class ht{constructor(){this.newPassword=null,this.controlPassword=null}setNewPassword(t){this.newPassword=t}getNewPassword(){return this.newPassword}setControlPassword(t){this.controlPassword=t}getControlPassword(){return this.controlPassword}}new _("PasswordMatcherInput");class dt{static TEMPLATE_URL="/assets/justrightjs-ui/passwordMatcherInput.html";static STYLES_URL="/assets/justrightjs-ui/passwordMatcherInput.css";static EVENT_VALIDATED_ENTERED="validatedEntered";constructor(t,e=null,s=dt.DEFAULT_PLACEHOLDER,n=dt.DEFAULT_CONTROL_PLACEHOLDER,o=!1){this.componentFactory=S.instance(a),this.component=null,this.validator=null,this.passwordMatcherModel=new ht,this.name=t,this.model=e,this.passwordMatcherInputValue=S.instance(lt,["newPassword",this.passwordMatcherModel,s,o]),this.passwordMatcherInputControl=S.instance(ct,["controlPassword",this.passwordMatcherModel,"newPassword",n,o]),this.eventManager=new i}async postConfig(){this.component=this.componentFactory.create(dt),s.enableStyle(dt.name),this.component.setChild("passwordMatcherInputValue",this.passwordMatcherInputValue.component),this.component.setChild("passwordMatcherInputControl",this.passwordMatcherInputControl.component),this.passwordMatcherInputValue.events.listenTo(j.EVENT_ENTERED,new C(this,this.passwordValueEntered)).listenTo(j.EVENT_KEYUPPED,new C(this,this.passwordValueChanged)),this.passwordMatcherInputControl.events.listenTo(j.EVENT_ENTERED,new C(this,this.passwordControlEntered)),this.validator=(new T).withValidator(this.passwordMatcherInputValue.validator).withValidator(this.passwordMatcherInputControl.validator).withValidListener(new C(this,this.passwordMatcherValidOccured))}get events(){return this.eventManager}passwordMatcherValidOccured(){A.setValue(this.model,this.name,this.passwordMatcherModel.getNewPassword())}passwordValueEntered(t){this.passwordMatcherInputValue.validator.isValid()&&this.passwordMatcherInputControl.focus()}passwordValueChanged(t){this.passwordMatcherInputControl.clear()}passwordControlEntered(t){this.validator.isValid()&&this.events.trigger(dt.EVENT_VALIDATED_ENTERED,t)}focus(){this.passwordMatcherInputValue.focus()}selectAll(){this.passwordMatcherInputValue.selectAll()}enable(){this.passwordMatcherInputValue.enable(),this.passwordMatcherInputControl.enable()}disable(){this.passwordMatcherInputValue.disable(),this.passwordMatcherInputControl.disable()}clear(){this.passwordMatcherInputValue.clear(),this.passwordMatcherInputControl.clear()}}new _("PhoneInput");class pt extends j{static TEMPLATE_URL="/assets/justrightjs-ui/phoneInput.html";static STYLES_URL="/assets/justrightjs-ui/phoneInput.css";static DEFAULT_PLACEHOLDER="Phone";constructor(t,e=null,s=TextInput.DEFAULT_PLACEHOLDER,n=!1){super(pt,t,e,new b(n,!n),s,"phoneInput","phoneError")}showValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","phone-input-error phone-input-error-visible")}hideValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","phone-input-error phone-input-error-hidden")}}new _("RadioButton");class Et{static TEMPLATE_URL="/assets/justrightjs-ui/radioButton.html";static STYLES_URL="/assets/justrightjs-ui/radioButton.css";static EVENT_CLICKED=U.CLICKED;constructor(t,e=null){this.componentFactory=S.instance(a),this.events=new i,this.component=null,this.name=t,this.model=e}postConfig(){this.component=this.componentFactory.create(Et),s.enableStyle(Et.name),this.component.get("radio").setAttributeValue("name",this.name),this.model&&h.link(this.model).to(this.component.get("radio")),this.component.get("radio").listenTo("click",new C(this,this.clicked))}clicked(t){this.events.trigger(Et.EVENT_CLICKED,[t])}}new _("RadioToggleSwitch");class ut{static TEMPLATE_URL="/assets/justrightjs-ui/radioToggleSwitch.html";static STYLES_URL="/assets/justrightjs-ui/radioToggleSwitch.css";static EVENT_ENABLED=U.ENABLED;static EVENT_DISABLED=U.DISABLED;static EVENT_CHANGED=U.CHANGED;constructor(t=null){this.componentFactory=S.instance(a),this.events=new i,this.component=null,this.model=t,this.checked=!1}postConfig(){this.component=this.componentFactory.create(ut),s.enableStyle(ut.name),this.model&&h.link(this.model).to(this.component.get("checkbox")),this.component.get("checkbox").listenTo("change",new C(this,this.clicked))}clicked(t){const e=this.checked;this.checked=t.target.checked,e!==this.checked&&this.events.trigger(ut.EVENT_CHANGED,[t]),this.checked?this.events.trigger(ut.EVENT_ENABLED,[t]):this.events.trigger(ut.EVENT_DISABLED,[t])}toggle(t){this.checked!==t&&(this.checked=t,this.component&&this.component.get("checkbox").containerElement.click())}isChecked(){return this.checked}}new _("Select");class gt{static TEMPLATE_URL="/assets/justrightjs-ui/select.html";static STYLES_URL="/assets/justrightjs-ui/select.css";static DEFAULT_PLACEHOLDER="Select";static EVENT_CLICKED=U.CLICKED;constructor(t,e=null,s=[],n=gt.DEFAULT_PLACEHOLDER,o=!1){this.componentFactory=S.instance(a),this.events=new i,this.component=null,this.name=t,this.optionsArray=s,this.placeholder=n,this.mandatory=o,this.model=e}postConfig(){this.component=this.componentFactory.create(gt),s.enableStyle(gt.name);const t=this.component.get("select");t.name=this.name,this.model&&h.link(this.model).to(this.component.get("select")),this.optionsArray&&this.optionsArray.length>0&&(t.options=this.optionsArray),t.listenTo("click",new C(this,this.clicked))}set options(t){if(this.optionsArray=t,this.component){const t=this.component.get("select");t&&this.optionsArray&&this.optionsArray.length>0&&(t.options=this.optionsArray)}}clicked(t){this.events.trigger(gt.EVENT_CLICKED,[t])}}new _("TextInput");class mt extends j{static TEMPLATE_URL="/assets/justrightjs-ui/textInput.html";static STYLES_URL="/assets/justrightjs-ui/textInput.css";static DEFAULT_PLACEHOLDER="Text";constructor(t,e=null,s=mt.DEFAULT_PLACEHOLDER,n=!1){super(mt,t,e,new u(!1,n),s,"textInput","textError")}showValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","text-input-error text-input-error-visible")}hideValidationError(){this.component.get(this.errorElementId).setAttributeValue("class","text-input-error text-input-error-hidden")}}export{v as BackShade,P as BackShadeListeners,k as Background,f as BackgroundVideo,O as BannerLabel,M as BannerLabelMessage,V as BannerMessage,tt as Button,et as CheckBox,U as CommonEvents,j as CommonInput,R as CustomAppearance,D as Dependencies,F as DialogBox,x as DropDownPanel,st as EmailInput,it as FileUpload,nt as FileUploadEntry,ot as HiddenInput,G as LinePanel,H as LinePanelEntry,K as LinkPanel,at as NumberInput,B as Panel,rt as PasswordInput,dt as PasswordMatcherInput,ct as PasswordMatcherInputControl,lt as PasswordMatcherInputValue,ht as PasswordMatcherModel,pt as PhoneInput,Y as PopUpPanel,Et as RadioButton,z as RadioToggleIcon,ut as RadioToggleSwitch,gt as Select,$ as SlideDeck,J as SlideDeckEntry,mt as TextInput,Z as ToggleIcon,X as TreePanel,Q as TreePanelEntry};
